(self.webpackChunkgraph=self.webpackChunkgraph||[]).push([[179],{2103:(ue,Le,Y)=>{"use strict";function X(e){return"function"==typeof e}function ce(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ge=ce(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ve(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Se{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const l of t)l.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(X(r))try{r()}catch(l){n=l instanceof ge?l.errors:[l]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const l of i)try{tt(l)}catch(c){n=n??[],c instanceof ge?n=[...n,...c.errors]:n.push(c)}}if(n)throw new ge(n)}}add(n){var t;if(n&&n!==this)if(this.closed)tt(n);else{if(n instanceof Se){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ve(t,n)}remove(n){const{_finalizers:t}=this;t&&ve(t,n),n instanceof Se&&n._removeParent(this)}}Se.EMPTY=(()=>{const e=new Se;return e.closed=!0,e})();const Ce=Se.EMPTY;function Ue(e){return e instanceof Se||e&&"closed"in e&&X(e.remove)&&X(e.add)&&X(e.unsubscribe)}function tt(e){X(e)?e():e.unsubscribe()}const rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ct={setTimeout(e,n,...t){const{delegate:r}=ct;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=ct;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Fn(e){ct.setTimeout(()=>{const{onUnhandledError:n}=rt;if(!n)throw e;n(e)})}function Bt(){}const gr=Kn("C",void 0,void 0);function Kn(e,n,t){return{kind:e,value:n,error:t}}let Xt=null;function Oe(e){if(rt.useDeprecatedSynchronousErrorHandling){const n=!Xt;if(n&&(Xt={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Xt;if(Xt=null,t)throw r}}else e()}class Je extends Se{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ue(n)&&n.add(this)):this.destination=mi}static create(n,t,r){return new nn(n,t,r)}next(n){this.isStopped?Ri(function Dn(e){return Kn("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ri(function Qn(e){return Kn("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ri(gr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function Cn(e,n){return pt.call(e,n)}class xt{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ln(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ln(r)}else Ln(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ln(t)}}}class nn extends Je{constructor(n,t,r){let i;if(super(),X(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let l;this&&rt.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Cn(n.next,l),error:n.error&&Cn(n.error,l),complete:n.complete&&Cn(n.complete,l)}):i=n}this.destination=new xt(i)}}function Ln(e){rt.useDeprecatedSynchronousErrorHandling?function Ye(e){rt.useDeprecatedSynchronousErrorHandling&&Xt&&(Xt.errorThrown=!0,Xt.error=e)}(e):Fn(e)}function Ri(e,n){const{onStoppedNotification:t}=rt;t&&ct.setTimeout(()=>t(e,n))}const mi={closed:!0,next:Bt,error:function Qr(e){throw e},complete:Bt},Yn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pe(e){return e}function Jt(e){return 0===e.length?Pe:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let at=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const l=function sy(e){return e&&e instanceof Je||function Ge(e){return e&&X(e.next)&&X(e.error)&&X(e.complete)}(e)&&Ue(e)}(t)?t:new nn(t,r,i);return Oe(()=>{const{operator:c,source:p}=this;l.add(c?c.call(l,p):p?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=dp(r))((i,l)=>{const c=new nn({next:p=>{try{t(p)}catch(y){l(y),c.unsubscribe()}},error:l,complete:i});this.subscribe(c)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Yn](){return this}pipe(...t){return Jt(t)(this)}toPromise(t){return new(t=dp(t))((r,i)=>{let l;this.subscribe(c=>l=c,c=>i(c),()=>r(l))})}}return e.create=n=>new e(n),e})();function dp(e){var n;return null!==(n=e??rt.Promise)&&void 0!==n?n:Promise}const Mu=ce(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jt=(()=>{class e extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new gs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Mu}next(t){Oe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Oe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Oe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:l}=this;return r||i?Ce:(this.currentObservers=null,l.push(t),new Se(()=>{this.currentObservers=null,ve(l,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:l}=this;r?t.error(i):l&&t.complete()}asObservable(){const t=new at;return t.source=this,t}}return e.create=(n,t)=>new gs(n,t),e})();class gs extends jt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Ce}}function xd(e){return X(e?.lift)}function zn(e){return n=>{if(xd(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function An(e,n,t,r,i){return new ly(e,n,t,r,i)}class ly extends Je{constructor(n,t,r,i,l,c){super(n),this.onFinalize=l,this.shouldUnsubscribe=c,this._next=t?function(p){try{t(p)}catch(y){n.error(y)}}:super._next,this._error=i?function(p){try{i(p)}catch(y){n.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(p){n.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ut(e,n){return zn((t,r)=>{let i=0;t.subscribe(An(r,l=>{r.next(e.call(n,l,i++))}))})}function sa(e){return this instanceof sa?(this.v=e,this):new sa(e)}function pp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function kd(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(l){t[l]=e[l]&&function(c){return new Promise(function(p,y){!function i(l,c,p,y){Promise.resolve(y).then(function(w){l({value:w,done:p})},c)}(p,y,(c=e[l](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Nu=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ms(e){return X(e?.then)}function ys(e){return X(e[Yn])}function _p(e){return Symbol.asyncIterator&&X(e?.[Symbol.asyncIterator])}function ko(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bp=function Ou(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function la(e){return X(e?.[bp])}function Bd(e){return function hp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),l=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(A){r[A]&&(i[A]=function(L){return new Promise(function(K,J){l.push([A,L,K,J])>1||p(A,L)})})}function p(A,L){try{!function y(A){A.value instanceof sa?Promise.resolve(A.value.v).then(w,S):x(l[0][2],A)}(r[A](L))}catch(K){x(l[0][3],K)}}function w(A){p("next",A)}function S(A){p("throw",A)}function x(A,L){A(L),l.shift(),l.length&&p(l[0][0],l[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield sa(t.read());if(i)return yield sa(void 0);yield yield sa(r)}}finally{t.releaseLock()}})}function wp(e){return X(e?.getReader)}function nr(e){if(e instanceof at)return e;if(null!=e){if(ys(e))return function wy(e){return new at(n=>{const t=e[Yn]();if(X(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Nu(e))return function Dy(e){return new at(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(ms(e))return function Vd(e){return new at(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Fn)})}(e);if(_p(e))return yl(e);if(la(e))return function Dp(e){return new at(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(wp(e))return function Cp(e){return yl(Bd(e))}(e)}throw ko(e)}function yl(e){return new at(n=>{(function Hd(e,n){var t,r,i,l;return function fp(e,n,t,r){return new(t||(t=Promise))(function(l,c){function p(S){try{w(r.next(S))}catch(x){c(x)}}function y(S){try{w(r.throw(S))}catch(x){c(x)}}function w(S){S.done?l(S.value):function i(l){return l instanceof t?l:new t(function(c){c(l)})}(S.value).then(p,y)}w((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=pp(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(l=t.return)&&(yield l.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function fn(e,n,t,r=0,i=!1){const l=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(l),!i)return l}function bt(e,n,t=1/0){return X(n)?bt((r,i)=>Ut((l,c)=>n(r,l,i,c))(nr(e(r,i))),t):("number"==typeof n&&(t=n),zn((r,i)=>function Ep(e,n,t,r,i,l,c,p){const y=[];let w=0,S=0,x=!1;const A=()=>{x&&!y.length&&!w&&n.complete()},L=J=>w<r?K(J):y.push(J),K=J=>{l&&n.next(J),w++;let re=!1;nr(t(J,S++)).subscribe(An(n,pe=>{i?.(pe),l?L(pe):n.next(pe)},()=>{re=!0},void 0,()=>{if(re)try{for(w--;y.length&&w<r;){const pe=y.shift();c?fn(n,c,()=>K(pe)):K(pe)}A()}catch(pe){n.error(pe)}}))};return e.subscribe(An(n,L,()=>{x=!0,A()})),()=>{p?.()}}(r,i,e,t)))}function _s(e=1/0){return bt(Pe,e)}const Xn=new at(e=>e.complete());function Tp(e){return e&&X(e.schedule)}function Au(e){return e[e.length-1]}function rr(e){return X(Au(e))?e.pop():void 0}function Pi(e){return Tp(Au(e))?e.pop():void 0}function Mp(e,n=0){return zn((t,r)=>{t.subscribe(An(r,i=>fn(r,e,()=>r.next(i),n),()=>fn(r,e,()=>r.complete(),n),i=>fn(r,e,()=>r.error(i),n)))})}function ki(e,n=0){return zn((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Ip(e,n){if(!e)throw new Error("Iterable cannot be null");return new at(t=>{fn(t,n,()=>{const r=e[Symbol.asyncIterator]();fn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function lr(e,n){return n?function Ru(e,n){if(null!=e){if(ys(e))return function ua(e,n){return nr(e).pipe(ki(n),Mp(n))}(e,n);if(Nu(e))return function po(e,n){return new at(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(ms(e))return function Cy(e,n){return nr(e).pipe(ki(n),Mp(n))}(e,n);if(_p(e))return Ip(e,n);if(la(e))return function Ey(e,n){return new at(t=>{let r;return fn(t,n,()=>{r=e[bp](),fn(t,n,()=>{let i,l;try{({value:i,done:l}=r.next())}catch(c){return void t.error(c)}l?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}(e,n);if(wp(e))return function bs(e,n){return Ip(Bd(e),n)}(e,n)}throw ko(e)}(e,n):nr(e)}class Ir extends jt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function yt(...e){return lr(e,Pi(e))}function xp(e={}){const{connector:n=(()=>new jt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return l=>{let c,p,y,w=0,S=!1,x=!1;const A=()=>{p?.unsubscribe(),p=void 0},L=()=>{A(),c=y=void 0,S=x=!1},K=()=>{const J=c;L(),J?.unsubscribe()};return zn((J,re)=>{w++,!x&&!S&&A();const pe=y=y??n();re.add(()=>{w--,0===w&&!x&&!S&&(p=jd(K,i))}),pe.subscribe(re),!c&&w>0&&(c=new nn({next:ne=>pe.next(ne),error:ne=>{x=!0,A(),p=jd(L,t,ne),pe.error(ne)},complete:()=>{S=!0,A(),p=jd(L,r),pe.complete()}}),nr(J).subscribe(c))})(l)}}function jd(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new nn({next:()=>{r.unsubscribe(),e()}});return nr(n(...t)).subscribe(r)}function Xi(e,n){return zn((t,r)=>{let i=null,l=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe(An(r,y=>{i?.unsubscribe();let w=0;const S=l++;nr(e(y,S)).subscribe(i=An(r,x=>r.next(n?n(y,x,S,w++):x),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function Sy(e,n){return e===n}function yn(e){for(let n in e)if(e[n]===yn)return n;throw Error("Could not find renamed property on target object.")}function Pu(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ur(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ur).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Ud(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Gd=yn({__forward_ref__:yn});function zt(e){return e.__forward_ref__=zt,e.toString=function(){return ur(this())},e}function Et(e){return Ds(e)?e():e}function Ds(e){return"function"==typeof e&&e.hasOwnProperty(Gd)&&e.__forward_ref__===zt}function ku(e){return e&&!!e.\u0275providers}class Ne extends Error{constructor(n,t){super(function Fu(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Nt(e){return"string"==typeof e?e:null==e?"":String(e)}function Fo(e,n){throw new Ne(-201,!1)}function Xr(e,n){null==e&&function _t(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function qe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Vu(e){return kp(e,xr)||kp(e,Fp)}function kp(e,n){return e.hasOwnProperty(n)?e[n]:null}function Hu(e){return e&&(e.hasOwnProperty(Ji)||e.hasOwnProperty($u))?e[Ji]:null}const xr=yn({\u0275prov:yn}),Ji=yn({\u0275inj:yn}),Fp=yn({ngInjectableDef:yn}),$u=yn({ngInjectorDef:yn});var Ht=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ht||{});let Wd;function yr(e){const n=Wd;return Wd=e,n}function ju(e,n,t){const r=Vu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ht.Optional?null:void 0!==n?n:void Fo(ur(e))}const gn=globalThis;class We{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=qe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Es={},da="__NG_DI_FLAG__",Gu="ngTempTokenPath",Ry=/\n/gm,Vp="__source";let Ss;function fa(e){const n=Ss;return Ss=e,n}function ky(e,n=Ht.Default){if(void 0===Ss)throw new Ne(-203,!1);return null===Ss?ju(e,void 0,n):Ss.get(e,n&Ht.Optional?null:void 0,n)}function Qe(e,n=Ht.Default){return(function ca(){return Wd}()||ky)(Et(e),n)}function je(e,n=Ht.Default){return Qe(e,zu(n))}function zu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zd(e){const n=[];for(let t=0;t<e.length;t++){const r=Et(e[t]);if(Array.isArray(r)){if(0===r.length)throw new Ne(900,!1);let i,l=Ht.Default;for(let c=0;c<r.length;c++){const p=r[c],y=Fy(p);"number"==typeof y?-1===y?i=p.token:l|=y:i=p}n.push(Qe(i,l))}else n.push(Qe(r))}return n}function Ts(e,n){return e[da]=n,e.prototype[da]=n,e}function Fy(e){return e[da]}function go(e){return{toString:e}.toString()}var Sl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Sl||{}),eo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(eo||{});const vo={},Yt=[],Lo=yn({\u0275cmp:yn}),Ms=yn({\u0275dir:yn}),Qd=yn({\u0275pipe:yn}),Wu=yn({\u0275mod:yn}),Fi=yn({\u0275fac:yn}),ja=yn({__NG_ELEMENT_ID__:yn}),Xd=yn({__NG_ENV_ID__:yn});function Jd(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const l=n.length;if(i+l===r||e.charCodeAt(i+l)<=32)return i}t=i+1}}function ef(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const l=t[r++],c=t[r++],p=t[r++];e.setAttribute(n,c,p,l)}else{const l=i,c=t[++r];Gp(l)?e.setProperty(n,l,c):e.setAttribute(n,l,c),r++}}return r}function Up(e){return 3===e||4===e||6===e}function Gp(e){return 64===e.charCodeAt(0)}function Is(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||tf(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function tf(e,n,t,r,i){let l=0,c=e.length;if(-1===n)c=-1;else for(;l<e.length;){const p=e[l++];if("number"==typeof p){if(p===n){c=-1;break}if(p>n){c=l-1;break}}}for(;l<e.length;){const p=e[l];if("number"==typeof p)break;if(p===t){if(null===r)return void(null!==i&&(e[l+1]=i));if(r===e[l+1])return void(e[l+2]=i)}l++,null!==r&&l++,null!==i&&l++}-1!==c&&(e.splice(c,0,n),l=c+1),e.splice(l++,0,t),null!==r&&e.splice(l++,0,r),null!==i&&e.splice(l++,0,i)}const zp="ng-template";function By(e,n,t){let r=0,i=!0;for(;r<e.length;){let l=e[r++];if("string"==typeof l&&i){const c=e[r++];if(t&&"class"===l&&-1!==Jd(c.toLowerCase(),n,0))return!0}else{if(1===l){for(;r<e.length&&"string"==typeof(l=e[r++]);)if(l.toLowerCase()===n)return!0;return!1}"number"==typeof l&&(i=!1)}}return!1}function Wp(e){return 4===e.type&&e.value!==zp}function Vy(e,n,t){return n===(4!==e.type||t?e.value:zp)}function Hy(e,n,t){let r=4;const i=e.attrs||[],l=function Uy(e){for(let n=0;n<e.length;n++)if(Up(e[n]))return n;return e.length}(i);let c=!1;for(let p=0;p<n.length;p++){const y=n[p];if("number"!=typeof y){if(!c)if(4&r){if(r=2|1&r,""!==y&&!Vy(e,y,t)||""===y&&1===n.length){if(Li(r))return!1;c=!0}}else{const w=8&r?y:n[++p];if(8&r&&null!==e.attrs){if(!By(e.attrs,w,t)){if(Li(r))return!1;c=!0}continue}const x=$y(8&r?"class":y,i,Wp(e),t);if(-1===x){if(Li(r))return!1;c=!0;continue}if(""!==w){let A;A=x>l?"":i[x+1].toLowerCase();const L=8&r?A:null;if(L&&-1!==Jd(L,w,0)||2&r&&w!==A){if(Li(r))return!1;c=!0}}}}else{if(!c&&!Li(r)&&!Li(y))return!1;if(c&&Li(y))continue;c=!1,r=y|1&r}}return Li(r)||c}function Li(e){return 0==(1&e)}function $y(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let l=!1;for(;i<n.length;){const c=n[i];if(c===e)return i;if(3===c||6===c)l=!0;else{if(1===c||2===c){let p=n[++i];for(;"string"==typeof p;)p=n[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=l?1:2}return-1}return function Kp(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function qp(e,n,t=!1){for(let r=0;r<n.length;r++)if(Hy(e,n[r],t))return!0;return!1}function qu(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Yp(e,n){return e?":not("+n.trim()+")":n}function Gy(e){let n=e[0],t=1,r=2,i="",l=!1;for(;t<e.length;){let c=e[t];if("string"==typeof c)if(2&r){const p=e[++t];i+="["+c+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!Li(c)&&(n+=Yp(l,i),i=""),r=c,l=l||!Li(r);t++}return""!==i&&(n+=Yp(l,i)),n}function Vr(e){return go(()=>{const n=Jp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Sl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||eo.Emulated,styles:e.styles||Yt,_:null,schemas:e.schemas||null,tView:null,id:""};nf(t);const r=e.dependencies;return t.directiveDefs=Tl(r,!1),t.pipeDefs=Tl(r,!0),t.id=function tg(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function qy(e){return en(e)||Nr(e)}function Ky(e){return null!==e}function _n(e){return go(()=>({type:e.type,bootstrap:e.bootstrap||Yt,declarations:e.declarations||Yt,imports:e.imports||Yt,exports:e.exports||Yt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Xp(e,n){if(null==e)return vo;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],l=i;Array.isArray(i)&&(l=i[1],i=i[0]),t[i]=r,n&&(n[i]=l)}return t}function Be(e){return go(()=>{const n=Jp(e);return nf(n),n})}function en(e){return e[Lo]||null}function Nr(e){return e[Ms]||null}function _r(e){return e[Qd]||null}function Hr(e,n){const t=e[Wu]||null;if(!t&&!0===n)throw new Error(`Type ${ur(e)} does not have '\u0275mod' property.`);return t}function Jp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||vo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Yt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xp(e.inputs,n),outputs:Xp(e.outputs)}}function nf(e){e.features?.forEach(n=>n(e))}function Tl(e,n){if(!e)return null;const t=n?_r:qy;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(Ky)}const vn=0,Ke=1,At=2,Bn=3,Bi=4,Ml=5,Jn=6,ha=7,In=8,pa=9,Ns=10,Ot=11,tn=12,ng=13,Bo=14,gt=15,ln=16,Ze=17,Vi=18,Il=19,rg=20,ga=21,di=22,Hi=23,Ua=24,Wt=25,rf=1,ig=2,mo=7,Os=9,dr=11;function Qt(e){return Array.isArray(e)&&"object"==typeof e[rf]}function Gt(e){return Array.isArray(e)&&!0===e[rf]}function af(e){return 0!=(4&e.flags)}function Ga(e){return e.componentOffset>-1}function Ku(e){return 1==(1&e.flags)}function br(e){return!!e.template}function yo(e){return 0!=(512&e[At])}function _i(e,n){return e.hasOwnProperty(Fi)?e[Fi]:null}let Or=null,Zu=!1;function bi(e){const n=Or;return Or=e,n}const cf={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function As(e){if(!Rl(e)||e.dirty){if(!e.producerMustRecompute(e)&&!hf(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function ug(e){e.dirty=!0,function ff(e){if(void 0===e.liveConsumerNode)return;const n=Zu;Zu=!0;try{for(const t of e.liveConsumerNode)t.dirty||ug(t)}finally{Zu=n}}(e),e.consumerMarkedDirty?.(e)}function qa(e){return e&&(e.nextProducerIndex=0),bi(e)}function Ka(e,n){if(bi(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Rl(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Xu(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function hf(e){Rs(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(As(t),r!==t.version))return!0}return!1}function cg(e){if(Rs(e),Rl(e))for(let n=0;n<e.producerNode.length;n++)Xu(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Xu(e,n){if(function fg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Rs(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Xu(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Rs(i),i.producerIndexOfThis[r]=n}}function Rl(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Rs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let pg=null;const yg=()=>{},tc=(()=>({...cf,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:yg}))();class _g{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function wt(){return bg}function bg(e){return e.type.prototype.ngOnChanges&&(e.setInput=nc),wg}function wg(){const e=Cg(this),n=e?.current;if(n){const t=e.previous;if(t===vo)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function nc(e,n,t,r){const i=this.declaredInputs[t],l=Cg(e)||function rc(e,n){return e[Dg]=n}(e,{previous:vo,current:null}),c=l.current||(l.current={}),p=l.previous,y=p[i];c[i]=new _g(y&&y.currentValue,n,p===vo),e[r]=n}wt.ngInherit=!0;const Dg="__ngSimpleChanges__";function Cg(e){return e[Dg]||null}const wi=function(e,n,t){};function En(e){for(;Array.isArray(e);)e=e[vn];return e}function sc(e,n){return En(n[e])}function fi(e,n){return En(n[e.index])}function Eg(e,n){return e.data[n]}function hi(e,n){const t=n[e];return Qt(t)?t:t[vn]}function Vo(e,n){return null==n?null:e[n]}function vf(e){e[Ze]=0}function Tg(e){1024&e[At]||(e[At]|=1024,yf(e,1))}function mf(e){1024&e[At]&&(e[At]&=-1025,yf(e,-1))}function yf(e,n){let t=e[Bn];if(null===t)return;t[Ml]+=n;let r=t;for(t=t[Bn];null!==t&&(1===n&&1===r[Ml]||-1===n&&0===r[Ml]);)t[Ml]+=n,r=t,t=t[Bn]}const Dt={lFrame:Df(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _f(){return Dt.bindingsEnabled}function no(){return null!==Dt.skipHydrationRootTNode}function Te(){return Dt.lFrame.lView}function qt(){return Dt.lFrame.tView}function pi(e){return Dt.lFrame.contextLView=e,e[In]}function Jr(e){return Dt.lFrame.contextLView=null,e}function ir(){let e=Ng();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ng(){return Dt.lFrame.currentTNode}function Ui(e,n){const t=Dt.lFrame;t.currentTNode=e,t.isParent=n}function Fs(){return Dt.lFrame.isParent}function Cr(){Dt.lFrame.isParent=!1}function Er(){return Dt.lFrame.bindingIndex}function _a(){return Dt.lFrame.bindingIndex++}function Vn(e){const n=Dt.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function jr(e,n){const t=Dt.lFrame;t.bindingIndex=t.bindingRootIndex=e,bf(n)}function bf(e){Dt.lFrame.currentDirectiveIndex=e}function Bs(){return Dt.lFrame.currentQueryIndex}function Ya(e){Dt.lFrame.currentQueryIndex=e}function cc(e){const n=e[Ke];return 2===n.type?n.declTNode:1===n.type?e[Jn]:null}function Og(e,n,t){if(t&Ht.SkipSelf){let i=n,l=e;for(;!(i=i.parent,null!==i||t&Ht.Host||(i=cc(l),null===i||(l=l[Bo],10&i.type))););if(null===i)return!1;n=i,e=l}const r=Dt.lFrame=Za();return r.currentTNode=n,r.lView=e,!0}function wf(e){const n=Za(),t=e[Ke];Dt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Za(){const e=Dt.lFrame,n=null===e?null:e.child;return null===n?Df(e):n}function Df(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Cf(){const e=Dt.lFrame;return Dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ag=Cf;function dc(){const e=Cf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Pr(){return Dt.lFrame.selectedIndex}function Qa(e){Dt.lFrame.selectedIndex=e}function kn(){const e=Dt.lFrame;return Eg(e.tView,e.selectedIndex)}let Ef=!0;function fc(){return Ef}function ba(e){Ef=e}function Vl(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const l=e.data[t].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:p,ngAfterViewInit:y,ngAfterViewChecked:w,ngOnDestroy:S}=l;c&&(e.contentHooks??=[]).push(-t,c),p&&((e.contentHooks??=[]).push(t,p),(e.contentCheckHooks??=[]).push(t,p)),y&&(e.viewHooks??=[]).push(-t,y),w&&((e.viewHooks??=[]).push(t,w),(e.viewCheckHooks??=[]).push(t,w)),null!=S&&(e.destroyHooks??=[]).push(t,S)}}function hc(e,n,t){kg(e,n,3,t)}function pc(e,n,t,r){(3&e[At])===t&&kg(e,n,t,r)}function Vs(e,n){let t=e[At];(3&t)===n&&(t&=8191,t+=1,e[At]=t)}function kg(e,n,t,r){const l=r??-1,c=n.length-1;let p=0;for(let y=void 0!==r?65535&e[Ze]:0;y<c;y++)if("number"==typeof n[y+1]){if(p=n[y],null!=r&&p>=r)break}else n[y]<0&&(e[Ze]+=65536),(p<l||-1==l)&&(v0(e,t,n,y),e[Ze]=(4294901760&e[Ze])+y+2),y++}function Fg(e,n){wi(4,e,n);const t=bi(null);try{n.call(e)}finally{bi(t),wi(5,e,n)}}function v0(e,n,t,r){const i=t[r]<0,l=t[r+1],p=e[i?-t[r]:t[r]];i?e[At]>>13<e[Ze]>>16&&(3&e[At])===n&&(e[At]+=8192,Fg(p,l)):Fg(p,l)}const Hs=-1;class Hl{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Mf(e){return e!==Hs}function $s(e){return 32767&e}function js(e,n){let t=function D0(e){return e>>16}(e),r=n;for(;t>0;)r=r[Bo],t--;return r}let gc=!0;function $l(e){const n=gc;return gc=e,n}const wa=255,jl=5;let Ur=0;const ro={};function Us(e,n){const t=io(e,n);if(-1!==t)return t;const r=n[Ke];r.firstCreatePass&&(e.injectorIndex=n.length,If(r.data,e),If(n,null),If(r.blueprint,null));const i=Gl(e,n),l=e.injectorIndex;if(Mf(i)){const c=$s(i),p=js(i,n),y=p[Ke].data;for(let w=0;w<8;w++)n[l+w]=p[c+w]|y[c+w]}return n[l+8]=i,l}function If(e,n){e.push(0,0,0,0,0,0,0,0,n)}function io(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Gl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=Af(i),null===r)return Hs;if(t++,i=i[Bo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Hs}function vc(e,n,t){!function Ul(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ja)&&(r=t[ja]),null==r&&(r=t[ja]=Ur++);const i=r&wa;n.data[e+(i>>jl)]|=1<<i}(e,n,t)}function xf(e,n,t){if(t&Ht.Optional||void 0!==e)return e;Fo()}function Nf(e,n,t,r){if(t&Ht.Optional&&void 0===r&&(r=null),!(t&(Ht.Self|Ht.Host))){const i=e[pa],l=yr(void 0);try{return i?i.get(n,r,t&Ht.Optional):ju(n,r,t&Ht.Optional)}finally{yr(l)}}return xf(r,0,t)}function Of(e,n,t,r=Ht.Default,i){if(null!==e){if(2048&n[At]&&!(r&Ht.Self)){const c=function S0(e,n,t,r,i){let l=e,c=n;for(;null!==l&&null!==c&&2048&c[At]&&!(512&c[At]);){const p=zl(l,c,t,r|Ht.Self,ro);if(p!==ro)return p;let y=l.parent;if(!y){const w=c[rg];if(w){const S=w.get(t,ro,r);if(S!==ro)return S}y=Af(c),c=c[Bo]}l=y}return i}(e,n,t,r,ro);if(c!==ro)return c}const l=zl(e,n,t,r,ro);if(l!==ro)return l}return Nf(n,t,r,i)}function zl(e,n,t,r,i){const l=function Gs(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(ja)?e[ja]:void 0;return"number"==typeof n?n>=0?n&wa:qs:n}(t);if("function"==typeof l){if(!Og(n,e,r))return r&Ht.Host?xf(i,0,r):Nf(n,t,r,i);try{let c;if(c=l(r),null!=c||r&Ht.Optional)return c;Fo()}finally{Ag()}}else if("number"==typeof l){let c=null,p=io(e,n),y=Hs,w=r&Ht.Host?n[gt][Jn]:null;for((-1===p||r&Ht.SkipSelf)&&(y=-1===p?Gl(e,n):n[p+8],y!==Hs&&zs(r,!1)?(c=n[Ke],p=$s(y),n=js(y,n)):p=-1);-1!==p;){const S=n[Ke];if(wo(l,p,S.data)){const x=mc(p,n,t,c,r,w);if(x!==ro)return x}y=n[p+8],y!==Hs&&zs(r,n[Ke].data[p+8]===w)&&wo(l,p,n)?(c=S,p=$s(y),n=js(y,n)):p=-1}}return i}function mc(e,n,t,r,i,l){const c=n[Ke],p=c.data[e+8],S=Wl(p,c,t,null==r?Ga(p)&&gc:r!=c&&0!=(3&p.type),i&Ht.Host&&l===p);return null!==S?Da(n,c,S,p):ro}function Wl(e,n,t,r,i){const l=e.providerIndexes,c=n.data,p=1048575&l,y=e.directiveStart,S=l>>20,A=i?p+S:e.directiveEnd;for(let L=r?p:p+S;L<A;L++){const K=c[L];if(L<y&&t===K||L>=y&&K.type===t)return L}if(i){const L=c[y];if(L&&br(L)&&L.type===t)return y}return null}function Da(e,n,t,r){let i=e[t];const l=n.data;if(function m0(e){return e instanceof Hl}(i)){const c=i;c.resolving&&function Lu(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${e}${t}`)}(function hn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Nt(e)}(l[t]));const p=$l(c.canSeeViewProviders);c.resolving=!0;const w=c.injectImpl?yr(c.injectImpl):null;Og(e,r,Ht.Default);try{i=e[t]=c.factory(void 0,l,e,r),n.firstCreatePass&&t>=r.directiveStart&&function g0(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:l}=n.type.prototype;if(r){const c=bg(n);(t.preOrderHooks??=[]).push(e,c),(t.preOrderCheckHooks??=[]).push(e,c)}i&&(t.preOrderHooks??=[]).push(0-e,i),l&&((t.preOrderHooks??=[]).push(e,l),(t.preOrderCheckHooks??=[]).push(e,l))}(t,l[t],n)}finally{null!==w&&yr(w),$l(p),c.resolving=!1,Ag()}}return i}function wo(e,n,t){return!!(t[n+(e>>jl)]&1<<e)}function zs(e,n){return!(e&Ht.Self||e&Ht.Host&&n)}class Gr{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Of(this._tNode,this._lView,n,zu(r),t)}}function qs(){return new Gr(ir(),Te())}function Wn(e){return go(()=>{const n=e.prototype.constructor,t=n[Fi]||yc(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const l=i[Fi]||yc(i);if(l&&l!==t)return l;i=Object.getPrototypeOf(i)}return l=>new l})}function yc(e){return Ds(e)?()=>{const n=yc(Et(e));return n&&n()}:_i(e)}function Af(e){const n=e[Ke],t=n.type;return 2===t?n.declTNode:1===t?e[Jn]:null}const Ca="__parameters__";function Ys(e,n,t){return go(()=>{const r=function Rf(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...l){if(this instanceof i)return r.apply(this,l),this;const c=new i(...l);return p.annotation=c,p;function p(y,w,S){const x=y.hasOwnProperty(Ca)?y[Ca]:Object.defineProperty(y,Ca,{value:[]})[Ca];for(;x.length<=S;)x.push(null);return(x[S]=x[S]||[]).push(c),y}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function jo(e,n){e.forEach(t=>Array.isArray(t)?jo(t,n):n(t))}function Vg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function _c(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Kl(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function Ci(e,n,t){let r=Xs(e,n);return r>=0?e[1|r]=t:(r=~r,function N0(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function bc(e,n){const t=Xs(e,n);if(t>=0)return e[1|t]}function Xs(e,n){return function Pf(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const l=r+(i-r>>1),c=e[l<<t];if(n===c)return l<<t;c>n?i=l:r=l+1}return~(i<<t)}(e,n,1)}const wc=Ts(Ys("Optional"),8),Dc=Ts(Ys("SkipSelf"),4);function o(e){return 128==(128&e.flags)}var u=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(u||{});const m=new Map;let v=0;const O="__ngContext__";function N(e,n){Qt(n)?(e[O]=n[Il],function b(e){m.set(e[Il],e)}(n)):e[O]=n}let Q;function q(e,n){return Q(e,n)}function ee(e){const n=e[Bn];return Gt(n)?n[Bn]:n}function te(e){return ye(e[tn])}function de(e){return ye(e[Bi])}function ye(e){for(;null!==e&&!Gt(e);)e=e[Bi];return e}function we(e,n,t,r,i){if(null!=r){let l,c=!1;Gt(r)?l=r:Qt(r)&&(c=!0,r=r[vn]);const p=En(r);0===e&&null!==t?null==i?se(n,t,p):Mt(n,t,p,i||null,!0):1===e&&null!==t?Mt(n,t,p,i||null,!0):2===e?function Hn(e,n,t){const r=le(e,n);r&&function oe(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,p,c):3===e&&n.destroyNode(p),null!=l&&function ti(e,n,t,r,i){const l=t[mo];l!==En(t)&&we(n,e,r,l,i);for(let p=dr;p<t.length;p++){const y=t[p];ei(y[Ke],y,e,n,r,l)}}(n,e,l,t,i)}}function be(e,n,t){return e.createElement(n,t)}function $e(e,n){const t=e[Os],r=t.indexOf(n);mf(n),t.splice(r,1)}function lt(e,n){if(e.length<=dr)return;const t=dr+n,r=e[t];if(r){const i=r[ln];null!==i&&i!==e&&$e(i,r),n>0&&(e[t-1][Bi]=r[Bi]);const l=_c(e,dr+n);!function Ie(e,n){ei(e,n,n[Ot],2,null,null),n[vn]=null,n[Jn]=null}(r[Ke],r);const c=l[Vi];null!==c&&c.detachView(l[Ke]),r[Bn]=null,r[Bi]=null,r[At]&=-129}return r}function ut(e,n){if(!(256&n[At])){const t=n[Ot];n[Hi]&&cg(n[Hi]),n[Ua]&&cg(n[Ua]),t.destroyNode&&ei(e,n,t,3,null,null),function it(e){let n=e[tn];if(!n)return nt(e[Ke],e);for(;n;){let t=null;if(Qt(n))t=n[tn];else{const r=n[dr];r&&(t=r)}if(!t){for(;n&&!n[Bi]&&n!==e;)Qt(n)&&nt(n[Ke],n),n=n[Bn];null===n&&(n=e),Qt(n)&&nt(n[Ke],n),t=n&&n[Bi]}n=t}}(n)}}function nt(e,n){if(!(256&n[At])){n[At]&=-129,n[At]|=256,function Zt(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Hl)){const l=t[r+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const p=i[l[c]],y=l[c+1];wi(4,p,y);try{y.call(p)}finally{wi(5,p,y)}}else{wi(4,i,l);try{l.call(i)}finally{wi(5,i,l)}}}}}(e,n),function ft(e,n){const t=e.cleanup,r=n[ha];if(null!==t)for(let l=0;l<t.length-1;l+=2)if("string"==typeof t[l]){const c=t[l+3];c>=0?r[c]():r[-c].unsubscribe(),l+=2}else t[l].call(r[t[l+1]]);null!==r&&(n[ha]=null);const i=n[ga];if(null!==i){n[ga]=null;for(let l=0;l<i.length;l++)(0,i[l])()}}(e,n),1===n[Ke].type&&n[Ot].destroy();const t=n[ln];if(null!==t&&Gt(n[Bn])){t!==n[Bn]&&$e(t,n);const r=n[Vi];null!==r&&r.detachView(e)}!function E(e){m.delete(e[Il])}(n)}}function Ft(e,n,t){return function Tt(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[vn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:l}=e.data[r.directiveStart+i];if(l===eo.None||l===eo.Emulated)return null}return fi(r,t)}}(e,n.parent,t)}function Mt(e,n,t,r,i){e.insertBefore(n,t,r,i)}function se(e,n,t){e.appendChild(n,t)}function F(e,n,t,r,i){null!==r?Mt(e,n,t,r,i):se(e,n,t)}function le(e,n){return e.parentNode(n)}function dt(e,n,t){return ot(e,n,t)}let Rt,zi,ot=function me(e,n,t){return 40&e.type?fi(e,t):null};function Ct(e,n,t,r){const i=Ft(e,r,n),l=n[Ot],p=dt(r.parent||n[Jn],r,n);if(null!=i)if(Array.isArray(t))for(let y=0;y<t.length;y++)F(l,i,t[y],p,!1);else F(l,i,t,p,!1);void 0!==Rt&&Rt(l,r,n,t,i)}function Kt(e,n){if(null!==n){const t=n.type;if(3&t)return fi(n,e);if(4&t)return Pt(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Kt(e,r);{const i=e[n.index];return Gt(i)?Pt(-1,i):En(i)}}if(32&t)return q(n,e)()||En(e[n.index]);{const r=It(e,n);return null!==r?Array.isArray(r)?r[0]:Kt(ee(e[gt]),r):Kt(e,n.next)}}return null}function It(e,n){return null!==n?e[gt][Jn].projection[n.projection]:null}function Pt(e,n){const t=dr+e+1;if(t<n.length){const r=n[t],i=r[Ke].firstChild;if(null!==i)return Kt(r,i)}return n[mo]}function Si(e,n,t,r,i,l,c){for(;null!=t;){const p=r[t.index],y=t.type;if(c&&0===n&&(p&&N(En(p),r),t.flags|=2),32!=(32&t.flags))if(8&y)Si(e,n,t.child,r,i,l,!1),we(n,e,i,p,l);else if(32&y){const w=q(t,r);let S;for(;S=w();)we(n,e,i,S,l);we(n,e,i,p,l)}else 16&y?Ti(e,n,r,t,i,l):we(n,e,i,p,l);t=c?t.projectionNext:t.next}}function ei(e,n,t,r,i,l){Si(t,r,e.firstChild,n,i,l,!1)}function Ti(e,n,t,r,i,l){const c=t[gt],y=c[Jn].projection[r.projection];if(Array.isArray(y))for(let w=0;w<y.length;w++)we(n,e,i,y[w],l);else{let w=y;const S=c[Bn];o(r)&&(w.flags|=128),Si(e,n,w,S,i,l,!0)}}function Ja(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function xa(e,n,t){const{mergedAttrs:r,classes:i,styles:l}=t;null!==r&&ef(e,n,r),null!==i&&Ja(e,n,i),null!==l&&function Ia(e,n,t){e.setAttribute(n,"style",t)}(e,n,l)}class nv{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Na(e){return e instanceof nv?e.changingThisBreaksApplicationSecurity:e}const qf=new We("ENVIRONMENT_INITIALIZER"),CD=new We("INJECTOR",-1),ED=new We("INJECTOR_DEF_TYPES");class z0{get(n,t=Es){if(t===Es){const r=new Error(`NullInjectorError: No provider for ${ur(n)}!`);throw r.name="NullInjectorError",r}return t}}function cA(...e){return{\u0275providers:TD(0,e),\u0275fromNgModule:!0}}function TD(e,...n){const t=[],r=new Set;let i;const l=c=>{t.push(c)};return jo(n,c=>{const p=c;av(p,l,[],r)&&(i||=[],i.push(p))}),void 0!==i&&MD(i,l),t}function MD(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];W0(i,l=>{n(l,r)})}}function av(e,n,t,r){if(!(e=Et(e)))return!1;let i=null,l=Hu(e);const c=!l&&en(e);if(l||c){if(c&&!c.standalone)return!1;i=e}else{const y=e.ngModule;if(l=Hu(y),!l)return!1;i=y}const p=r.has(i);if(c){if(p)return!1;if(r.add(i),c.dependencies){const y="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const w of y)av(w,n,t,r)}}else{if(!l)return!1;{if(null!=l.imports&&!p){let w;r.add(i);try{jo(l.imports,S=>{av(S,n,t,r)&&(w||=[],w.push(S))})}finally{}void 0!==w&&MD(w,n)}if(!p){const w=_i(i)||(()=>new i);n({provide:i,useFactory:w,deps:Yt},i),n({provide:ED,useValue:i,multi:!0},i),n({provide:qf,useValue:()=>Qe(i),multi:!0},i)}const y=l.providers;if(null!=y&&!p){const w=e;W0(y,S=>{n(S,w)})}}}return i!==e&&void 0!==e.providers}function W0(e,n){for(let t of e)ku(t)&&(t=t.\u0275providers),Array.isArray(t)?W0(t,n):n(t)}const dA=yn({provide:String,useValue:yn});function q0(e){return null!==e&&"object"==typeof e&&dA in e}function Xl(e){return"function"==typeof e}const K0=new We("Set Injector scope."),sv={},hA={};let Y0;function lv(){return void 0===Y0&&(Y0=new z0),Y0}class Wi{}class kc extends Wi{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Q0(n,c=>this.processProvider(c)),this.records.set(CD,Fc(void 0,this)),i.has("environment")&&this.records.set(Wi,Fc(void 0,this));const l=this.records.get(K0);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(ED.multi,Yt,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=fa(this),r=yr(void 0);try{return n()}finally{fa(t),yr(r)}}get(n,t=Es,r=Ht.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Xd))return n[Xd](this);r=zu(r);const l=fa(this),c=yr(void 0);try{if(!(r&Ht.SkipSelf)){let y=this.records.get(n);if(void 0===y){const w=function yA(e){return"function"==typeof e||"object"==typeof e&&e instanceof We}(n)&&Vu(n);y=w&&this.injectableDefInScope(w)?Fc(Z0(n),sv):null,this.records.set(n,y)}if(null!=y)return this.hydrate(n,y)}return(r&Ht.Self?lv():this.parent).get(n,t=r&Ht.Optional&&t===Es?null:t)}catch(p){if("NullInjectorError"===p.name){if((p[Gu]=p[Gu]||[]).unshift(ur(n)),l)throw p;return function Ly(e,n,t,r){const i=e[Gu];throw n[Vp]&&i.unshift(n[Vp]),e.message=function jp(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ur(n);if(Array.isArray(n))i=n.map(ur).join(" -> ");else if("object"==typeof n){let l=[];for(let c in n)if(n.hasOwnProperty(c)){let p=n[c];l.push(c+":"+("string"==typeof p?JSON.stringify(p):ur(p)))}i=`{${l.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(Ry,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Gu]=null,e}(p,n,"R3InjectorError",this.source)}throw p}finally{yr(c),fa(l)}}resolveInjectorInitializers(){const n=fa(this),t=yr(void 0);try{const i=this.get(qf.multi,Yt,Ht.Self);for(const l of i)l()}finally{fa(n),yr(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(ur(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(n){let t=Xl(n=Et(n))?n:Et(n&&n.provide);const r=function gA(e){return q0(e)?Fc(void 0,e.useValue):Fc(ND(e),sv)}(n);if(Xl(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Fc(void 0,sv,!0),i.factory=()=>Zd(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===sv&&(t.value=hA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function mA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Et(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Z0(e){const n=Vu(e),t=null!==n?n.factory:_i(e);if(null!==t)return t;if(e instanceof We)throw new Ne(204,!1);if(e instanceof Function)return function pA(e){const n=e.length;if(n>0)throw Kl(n,"?"),new Ne(204,!1);const t=function Oy(e){return e&&(e[xr]||e[Fp])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Ne(204,!1)}function ND(e,n,t){let r;if(Xl(e)){const i=Et(e);return _i(i)||Z0(i)}if(q0(e))r=()=>Et(e.useValue);else if(function xD(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Zd(e.deps||[]));else if(function ID(e){return!(!e||!e.useExisting)}(e))r=()=>Qe(Et(e.useExisting));else{const i=Et(e&&(e.useClass||e.provide));if(!function vA(e){return!!e.deps}(e))return _i(i)||Z0(i);r=()=>new i(...Zd(e.deps))}return r}function Fc(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Q0(e,n){for(const t of e)Array.isArray(t)?Q0(t,n):t&&ku(t)?Q0(t.\u0275providers,n):n(t)}const uv=new We("AppId",{providedIn:"root",factory:()=>_A}),_A="ng",OD=new We("Platform Initializer"),Lc=new We("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),AD=new We("CSP nonce",{providedIn:"root",factory:()=>function nl(){if(void 0!==zi)return zi;if(typeof document<"u")return document;throw new Ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let RD=(e,n,t)=>null;function o_(e,n,t=!1){return RD(e,n,t)}class xA{}class FD{}class OA{resolveComponentFactory(n){throw function NA(e){const n=Error(`No component factory found for ${ur(e)}.`);return n.ngComponent=e,n}(n)}}let gv=(()=>{class e{static#e=this.NULL=new OA}return e})();function AA(){return Hc(ir(),Te())}function Hc(e,n){return new Sn(fi(e,n))}let Sn=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=AA}return e})();function RA(e){return e instanceof Sn?e.nativeElement:e}class l_{}let ao=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function PA(){const e=Te(),t=hi(ir().index,e);return(Qt(t)?t:e)[Ot]}()}return e})(),kA=(()=>{class e{static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>null})}return e})();class Zf{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const FA=new Zf("16.2.12"),u_={};function $D(e,n=null,t=null,r){const i=jD(e,n,t,r);return i.resolveInjectorInitializers(),i}function jD(e,n=null,t=null,r,i=new Set){const l=[t||Yt,cA(e)];return r=r||("object"==typeof e?void 0:ur(e)),new kc(l,n||lv(),r||null,i)}let ri=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Es;static#t=this.NULL=new z0;static create(t,r){if(Array.isArray(t))return $D({name:""},r,t,"");{const i=t.name??"";return $D({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=qe({token:e,providedIn:"any",factory:()=>Qe(CD)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function c_(e){return e.ngOriginalError}class ts{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&c_(n);for(;t&&c_(t);)t=c_(t);return t||null}}function d_(e){return n=>{setTimeout(e,void 0,n)}}const ht=class GA extends jt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,l=t||(()=>null),c=r;if(n&&"object"==typeof n){const y=n;i=y.next?.bind(y),l=y.error?.bind(y),c=y.complete?.bind(y)}this.__isAsync&&(l=d_(l),i&&(i=d_(i)),c&&(c=d_(c)));const p=super.subscribe({next:i,error:l,complete:c});return n instanceof Se&&n.add(p),p}};function GD(...e){}class on{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function zA(){const e="function"==typeof gn.requestAnimationFrame;let n=gn[e?"requestAnimationFrame":"setTimeout"],t=gn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function KA(e){const n=()=>{!function qA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(gn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,h_(e),e.isCheckStableRunning=!0,f_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),h_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,l,c,p)=>{if(function ZA(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(p))return t.invokeTask(i,l,c,p);try{return zD(e),t.invokeTask(i,l,c,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&n(),WD(e)}},onInvoke:(t,r,i,l,c,p,y)=>{try{return zD(e),t.invoke(i,l,c,p,y)}finally{e.shouldCoalesceRunChangeDetection&&n(),WD(e)}},onHasTask:(t,r,i,l)=>{t.hasTask(i,l),r===i&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,h_(e),f_(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(t,r,i,l)=>(t.handleError(i,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!on.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(on.isInAngularZone())throw new Ne(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+i,n,WA,GD,GD);try{return l.runTask(c,t,r)}finally{l.cancelTask(c)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const WA={};function f_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function h_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function zD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function WD(e){e._nesting--,f_(e)}class YA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const qD=new We("",{providedIn:"root",factory:KD});function KD(){const e=je(on);let n=!0;return function ws(...e){const n=Pi(e),t=function $d(e,n){return"number"==typeof Au(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?nr(r[0]):_s(t)(lr(r,n)):Xn}(new at(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new at(i=>{let l;e.runOutsideAngular(()=>{l=e.onStable.subscribe(()=>{on.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const c=e.onUnstable.subscribe(()=>{on.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}}).pipe(xp()))}function ns(e){return e instanceof Function?e():e}let p_=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>new e})}return e})();function Qf(e){for(;e;){e[At]|=64;const n=ee(e);if(yo(e)&&!n)return e;e=n}return null}const JD=new We("",{providedIn:"root",factory:()=>!1});let yv=null;function rC(e,n){return e[n]??aC()}function iC(e,n){const t=aC();t.producerNode?.length&&(e[n]=yv,t.lView=e,yv=oC())}const aR={...cf,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Qf(e.lView)},lView:null};function oC(){return Object.create(aR)}function aC(){return yv??=oC(),yv}const Lt={};function ke(e){sC(qt(),Te(),Pr()+e,!1)}function sC(e,n,t,r){if(!r)if(3==(3&n[At])){const l=e.preOrderCheckHooks;null!==l&&hc(n,l,t)}else{const l=e.preOrderHooks;null!==l&&pc(n,l,0,t)}Qa(t)}function Z(e,n=Ht.Default){const t=Te();return null===t?Qe(e,n):Of(ir(),t,Et(e),n)}function _v(e,n,t,r,i,l,c,p,y,w,S){const x=n.blueprint.slice();return x[vn]=i,x[At]=140|r,(null!==w||e&&2048&e[At])&&(x[At]|=2048),vf(x),x[Bn]=x[Bo]=e,x[In]=t,x[Ns]=c||e&&e[Ns],x[Ot]=p||e&&e[Ot],x[pa]=y||e&&e[pa]||null,x[Jn]=l,x[Il]=function _(){return v++}(),x[di]=S,x[rg]=w,x[gt]=2==n.type?e[gt]:x,x}function Gc(e,n,t,r,i){let l=e.data[n];if(null===l)l=function g_(e,n,t,r,i){const l=Ng(),c=Fs(),y=e.data[n]=function pR(e,n,t,r,i,l){let c=n?n.injectorIndex:-1,p=0;return no()&&(p|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:i,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=y),null!==l&&(c?null==l.child&&null!==y.parent&&(l.child=y):null===l.next&&(l.next=y,y.prev=l)),y}(e,n,t,r,i),function uc(){return Dt.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=t,l.value=r,l.attrs=i;const c=function Fl(){const e=Dt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return Ui(l,!0),l}function Xf(e,n,t,r){if(0===t)return-1;const i=n.length;for(let l=0;l<t;l++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function uC(e,n,t,r,i){const l=rC(n,Hi),c=Pr(),p=2&r;try{Qa(-1),p&&n.length>Wt&&sC(e,n,Wt,!1),wi(p?2:0,i);const w=p?l:null,S=qa(w);try{null!==w&&(w.dirty=!1),t(r,i)}finally{Ka(w,S)}}finally{p&&null===n[Hi]&&iC(n,Hi),Qa(c),wi(p?3:1,i)}}function v_(e,n,t){if(af(n)){const r=bi(null);try{const l=n.directiveEnd;for(let c=n.directiveStart;c<l;c++){const p=e.data[c];p.contentQueries&&p.contentQueries(1,t[c],c)}}finally{bi(r)}}}function m_(e,n,t){_f()&&(function wR(e,n,t,r){const i=t.directiveStart,l=t.directiveEnd;Ga(t)&&function IR(e,n,t){const r=fi(n,e),i=cC(t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const p=bv(e,_v(e,i,null,c,r,n,null,e[Ns].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=p}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Us(t,n),N(r,n);const c=t.initialInputs;for(let p=i;p<l;p++){const y=e.data[p],w=Da(n,e,p,t);N(w,n),null!==c&&xR(0,p-i,w,y,0,c),br(y)&&(hi(t.index,n)[In]=Da(n,e,p,t))}}(e,n,t,fi(t,n)),64==(64&t.flags)&&gC(e,n,t))}function y_(e,n,t=fi){const r=n.localNames;if(null!==r){let i=n.index+1;for(let l=0;l<r.length;l+=2){const c=r[l+1],p=-1===c?t(n,e):e[c];e[i++]=p}}}function cC(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=__(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function __(e,n,t,r,i,l,c,p,y,w,S){const x=Wt+r,A=x+i,L=function lR(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Lt);return t}(x,A),K="function"==typeof w?w():w;return L[Ke]={type:e,blueprint:L,template:t,queries:null,viewQuery:p,declTNode:n,data:L.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:y,consts:K,incompleteFirstPass:!1,ssrId:S}}let dC=e=>null;function fC(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const l=e[i];null===r?hC(t,n,i,l):r.hasOwnProperty(i)&&hC(t,n,r[i],l)}return t}function hC(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function b_(e,n,t,r){if(_f()){const i=null===r?null:{"":-1},l=function CR(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let l=0;l<t.length;l++){const c=t[l];if(qp(n,c.selectors,!1))if(r||(r=[]),br(c))if(null!==c.findHostDirectiveDefs){const p=[];i=i||new Map,c.findHostDirectiveDefs(c,p,i),r.unshift(...p,c),w_(e,n,p.length)}else r.unshift(c),w_(e,n,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(e,t);let c,p;null===l?c=p=null:[c,p]=l,null!==c&&pC(e,n,t,c,i,p),i&&function ER(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const l=t[n[i+1]];if(null==l)throw new Ne(-301,!1);r.push(n[i],l)}}}(t,r,i)}t.mergedAttrs=Is(t.mergedAttrs,t.attrs)}function pC(e,n,t,r,i,l){for(let w=0;w<r.length;w++)vc(Us(t,n),e,r[w].type);!function TR(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let w=0;w<r.length;w++){const S=r[w];S.providersResolver&&S.providersResolver(S)}let c=!1,p=!1,y=Xf(e,n,r.length,null);for(let w=0;w<r.length;w++){const S=r[w];t.mergedAttrs=Is(t.mergedAttrs,S.hostAttrs),MR(e,t,n,y,S),SR(y,S,i),null!==S.contentQueries&&(t.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(t.flags|=64);const x=S.type.prototype;!c&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!p&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),p=!0),y++}!function gR(e,n,t){const i=n.directiveEnd,l=e.data,c=n.attrs,p=[];let y=null,w=null;for(let S=n.directiveStart;S<i;S++){const x=l[S],A=t?t.get(x):null,K=A?A.outputs:null;y=fC(x.inputs,S,y,A?A.inputs:null),w=fC(x.outputs,S,w,K);const J=null===y||null===c||Wp(n)?null:NR(y,S,c);p.push(J)}null!==y&&(y.hasOwnProperty("class")&&(n.flags|=8),y.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=p,n.inputs=y,n.outputs=w}(e,t,l)}function gC(e,n,t){const r=t.directiveStart,i=t.directiveEnd,l=t.index,c=function u0(){return Dt.lFrame.currentDirectiveIndex}();try{Qa(l);for(let p=r;p<i;p++){const y=e.data[p],w=n[p];bf(p),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&DR(y,w)}}finally{Qa(-1),bf(c)}}function DR(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function w_(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function SR(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;br(n)&&(t[""]=e)}}function MR(e,n,t,r,i){e.data[r]=i;const l=i.factory||(i.factory=_i(i.type)),c=new Hl(l,br(i),Z);e.blueprint[r]=c,t[r]=c,function _R(e,n,t,r,i){const l=i.hostBindings;if(l){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const p=~n.index;(function bR(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(c)!=p&&c.push(p),c.push(t,r,l)}}(e,n,r,Xf(e,t,i.hostVars,Lt),i)}function Oa(e,n,t,r,i,l){const c=fi(e,n);!function D_(e,n,t,r,i,l,c){if(null==l)e.removeAttribute(n,i,t);else{const p=null==c?Nt(l):c(l,r||"",i);e.setAttribute(n,i,p,t)}}(n[Ot],c,l,e.value,t,r,i)}function xR(e,n,t,r,i,l){const c=l[n];if(null!==c)for(let p=0;p<c.length;)vC(r,t,c[p++],c[p++],c[p++])}function vC(e,n,t,r,i){const l=bi(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(i=c[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{bi(l)}}function NR(e,n,t){let r=null,i=0;for(;i<t.length;){const l=t[i];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===r&&(r=[]);const c=e[l];for(let p=0;p<c.length;p+=2)if(c[p]===n){r.push(l,c[p+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function mC(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function yC(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const l=t[r+1];if(-1!==l){const c=e.data[l];Ya(t[r]),c.contentQueries(2,n[l],l)}}}function bv(e,n){return e[tn]?e[ng][Bi]=n:e[tn]=n,e[ng]=n,n}function C_(e,n,t){Ya(0);const r=bi(null);try{n(e,t)}finally{bi(r)}}function _C(e){return e[ha]||(e[ha]=[])}function bC(e){return e.cleanup||(e.cleanup=[])}function DC(e,n){const t=e[pa],r=t?t.get(ts,null):null;r&&r.handleError(n)}function E_(e,n,t,r,i){for(let l=0;l<t.length;){const c=t[l++],p=t[l++];vC(e.data[c],n[c],r,p,i)}}function rs(e,n,t){const r=sc(n,e);!function Ee(e,n,t){e.setValue(n,t)}(e[Ot],r,t)}function OR(e,n){const t=hi(n,e),r=t[Ke];!function AR(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[vn];null!==i&&null===t[di]&&(t[di]=o_(i,t[pa])),S_(r,t,t[In])}function S_(e,n,t){wf(n);try{const r=e.viewQuery;null!==r&&C_(1,r,t);const i=e.template;null!==i&&uC(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&yC(e,n),e.staticViewQueries&&C_(2,e.viewQuery,t);const l=e.components;null!==l&&function RR(e,n){for(let t=0;t<n.length;t++)OR(e,n[t])}(n,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[At]&=-5,dc()}}let CC=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const l=typeof Zone>"u"?null:Zone.current,c=function n0(e,n,t){const r=Object.create(tc);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=c=>{r.cleanupFn=c};return r.ref={notify:()=>ug(r),run:()=>{if(r.dirty=!1,r.hasRun&&!hf(r))return;r.hasRun=!0;const c=qa(r);try{r.cleanupFn(),r.cleanupFn=yg,r.fn(i)}finally{Ka(r,c)}},cleanup:()=>r.cleanupFn()},r.ref}(t,w=>{this.all.has(w)&&this.queue.set(w,l)},i);let p;this.all.add(c),c.notify();const y=()=>{c.cleanup(),p?.(),this.all.delete(c),this.queue.delete(c)};return p=r?.onDestroy(y),{destroy:y}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>new e})}return e})();function wv(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,l=0;if(null!==n)for(let c=0;c<n.length;c++){const p=n[c];"number"==typeof p?l=p:1==l?i=Ud(i,p):2==l&&(r=Ud(r,p+": "+n[++c]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Jf(e,n,t,r,i=!1){for(;null!==t;){const l=n[t.index];null!==l&&r.push(En(l)),Gt(l)&&EC(l,r);const c=t.type;if(8&c)Jf(e,n,t.child,r);else if(32&c){const p=q(t,n);let y;for(;y=p();)r.push(y)}else if(16&c){const p=It(n,t);if(Array.isArray(p))r.push(...p);else{const y=ee(n[gt]);Jf(y[Ke],y,p,r,!0)}}t=i?t.projectionNext:t.next}return r}function EC(e,n){for(let t=dr;t<e.length;t++){const r=e[t],i=r[Ke].firstChild;null!==i&&Jf(r[Ke],r,i,n)}e[mo]!==e[vn]&&n.push(e[mo])}function Dv(e,n,t,r=!0){const i=n[Ns],l=i.rendererFactory,c=i.afterRenderEventManager;l.begin?.(),c?.begin();try{SC(e,n,e.template,t)}catch(y){throw r&&DC(n,y),y}finally{l.end?.(),i.effectManager?.flush(),c?.end()}}function SC(e,n,t,r){const i=n[At];if(256!=(256&i)){n[Ns].effectManager?.flush(),wf(n);try{vf(n),function Bl(e){return Dt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&uC(e,n,t,2,r);const c=3==(3&i);if(c){const w=e.preOrderCheckHooks;null!==w&&hc(n,w,null)}else{const w=e.preOrderHooks;null!==w&&pc(n,w,0,null),Vs(n,0)}if(function FR(e){for(let n=te(e);null!==n;n=de(n)){if(!n[ig])continue;const t=n[Os];for(let r=0;r<t.length;r++){Tg(t[r])}}}(n),TC(n,2),null!==e.contentQueries&&yC(e,n),c){const w=e.contentCheckHooks;null!==w&&hc(n,w)}else{const w=e.contentHooks;null!==w&&pc(n,w,1),Vs(n,1)}!function sR(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=rC(n,Ua);try{for(let i=0;i<t.length;i++){const l=t[i];if(l<0)Qa(~l);else{const c=l,p=t[++i],y=t[++i];jr(p,c),r.dirty=!1;const w=qa(r);try{y(2,n[c])}finally{Ka(r,w)}}}}finally{null===n[Ua]&&iC(n,Ua),Qa(-1)}}(e,n);const p=e.components;null!==p&&IC(n,p,0);const y=e.viewQuery;if(null!==y&&C_(2,y,r),c){const w=e.viewCheckHooks;null!==w&&hc(n,w)}else{const w=e.viewHooks;null!==w&&pc(n,w,2),Vs(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[At]&=-73,mf(n)}finally{dc()}}}function TC(e,n){for(let t=te(e);null!==t;t=de(t))for(let r=dr;r<t.length;r++)MC(t[r],n)}function LR(e,n,t){MC(hi(n,e),t)}function MC(e,n){if(!function $r(e){return 128==(128&e[At])}(e))return;const t=e[Ke],r=e[At];if(80&r&&0===n||1024&r||2===n)SC(t,e,t.template,e[In]);else if(e[Ml]>0){TC(e,1);const i=t.components;null!==i&&IC(e,i,1)}}function IC(e,n,t){for(let r=0;r<n.length;r++)LR(e,n[r],t)}class eh{get rootNodes(){const n=this._lView,t=n[Ke];return Jf(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(n){this._lView[In]=n}get destroyed(){return 256==(256&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Bn];if(Gt(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(lt(n,r),_c(t,r))}this._attachedToViewContainer=!1}ut(this._lView[Ke],this._lView)}onDestroy(n){!function Dr(e,n){if(256==(256&e[At]))throw new Ne(911,!1);null===e[ga]&&(e[ga]=[]),e[ga].push(n)}(this._lView,n)}markForCheck(){Qf(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-129}reattach(){this._lView[At]|=128}detectChanges(){Dv(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Re(e,n){ei(e,n,n[Ot],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=n}}class BR extends eh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Dv(n[Ke],n,n[In],!1)}checkNoChanges(){}get context(){return null}}class xC extends gv{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=en(n);return new th(t,this.ngModule)}}function NC(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class HR{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=zu(r);const i=this.injector.get(n,u_,r);return i!==u_||t===u_?i:this.parentInjector.get(n,t,r)}}class th extends FD{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=NC(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return NC(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function Zp(e){return e.map(Gy).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let l=(i=i||this.ngModule)instanceof Wi?i:i?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const c=l?new HR(n,l):n,p=c.get(l_,null);if(null===p)throw new Ne(407,!1);const x={rendererFactory:p,sanitizer:c.get(kA,null),effectManager:c.get(CC,null),afterRenderEventManager:c.get(p_,null)},A=p.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",K=r?function uR(e,n,t,r){const l=r.get(JD,!1)||t===eo.ShadowDom,c=e.selectRootElement(n,l);return function cR(e){dC(e)}(c),c}(A,r,this.componentDef.encapsulation,c):be(A,L,function VR(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(L)),pe=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ne=null;null!==K&&(ne=o_(K,c,!0));const ze=__(0,null,null,1,0,null,null,null,null,null,null),Fe=_v(null,ze,null,pe,null,null,x,A,c,null,ne);let et,kt;wf(Fe);try{const an=this.componentDef;let dn,sr=null;an.findHostDirectiveDefs?(dn=[],sr=new Map,an.findHostDirectiveDefs(an,dn,sr),dn.push(an)):dn=[an];const pr=function jR(e,n){const t=e[Ke],r=Wt;return e[r]=n,Gc(t,r,2,"#host",null)}(Fe,K),Zr=function UR(e,n,t,r,i,l,c){const p=i[Ke];!function GR(e,n,t,r){for(const i of e)n.mergedAttrs=Is(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(wv(n,n.mergedAttrs,!0),null!==t&&xa(r,t,n))}(r,e,n,c);let y=null;null!==n&&(y=o_(n,i[pa]));const w=l.rendererFactory.createRenderer(n,t);let S=16;t.signals?S=4096:t.onPush&&(S=64);const x=_v(i,cC(t),null,S,i[e.index],e,l,w,null,null,y);return p.firstCreatePass&&w_(p,e,r.length-1),bv(i,x),i[e.index]=x}(pr,K,an,dn,Fe,x,A);kt=Eg(ze,Wt),K&&function WR(e,n,t,r){if(r)ef(e,t,["ng-version",FA.full]);else{const{attrs:i,classes:l}=function zy(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let l=e[r];if("string"==typeof l)2===i?""!==l&&n.push(l,e[++r]):8===i&&t.push(l);else{if(!Li(i))break;i=l}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&ef(e,t,i),l&&l.length>0&&Ja(e,t,l.join(" "))}}(A,an,K,r),void 0!==t&&function qR(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const l=t[i];r.push(null!=l?Array.from(l):null)}}(kt,this.ngContentSelectors,t),et=function zR(e,n,t,r,i,l){const c=ir(),p=i[Ke],y=fi(c,i);pC(p,i,c,t,null,r);for(let S=0;S<t.length;S++)N(Da(i,p,c.directiveStart+S,c),i);gC(p,i,c),y&&N(y,i);const w=Da(i,p,c.directiveStart+c.componentOffset,c);if(e[In]=i[In]=w,null!==l)for(const S of l)S(w,n);return v_(p,c,e),w}(Zr,an,dn,sr,Fe,[KR]),S_(ze,Fe,null)}finally{dc()}return new $R(this.componentType,et,Hc(kt,Fe),Fe,kt)}}class $R extends xA{constructor(n,t,r,i,l){super(),this.location=r,this._rootLView=i,this._tNode=l,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new BR(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const l=this._rootLView;E_(l[Ke],l,i,n,t),this.previousInputValues.set(n,t),Qf(hi(this._tNode.index,l))}}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function KR(){const e=ir();Vl(Te()[Ke],e)}function Tn(e){let n=function OC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(br(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ne(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const c=e;c.inputs=Cv(e.inputs),c.inputTransforms=Cv(e.inputTransforms),c.declaredInputs=Cv(e.declaredInputs),c.outputs=Cv(e.outputs);const p=i.hostBindings;p&&XR(e,p);const y=i.viewQuery,w=i.contentQueries;if(y&&ZR(e,y),w&&QR(e,w),Pu(e.inputs,i.inputs),Pu(e.declaredInputs,i.declaredInputs),Pu(e.outputs,i.outputs),null!==i.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),Pu(c.inputTransforms,i.inputTransforms)),br(i)&&i.data.animation){const S=e.data;S.animation=(S.animation||[]).concat(i.data.animation)}}const l=i.features;if(l)for(let c=0;c<l.length;c++){const p=l[c];p&&p.ngInherit&&p(e),p===Tn&&(t=!1)}}n=Object.getPrototypeOf(n)}!function YR(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Is(i.hostAttrs,t=Is(t,i.hostAttrs))}}(r)}function Cv(e){return e===vo?{}:e===Yt?[]:e}function ZR(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function QR(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,l)=>{n(r,i,l),t(r,i,l)}:n}function XR(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function Ev(e){return!!T_(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function T_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vi(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Jl(e,n,t,r){const i=vi(e,n,t);return vi(e,n+1,r)||i}function Mn(e,n,t,r){const i=Te();return vi(i,_a(),n)&&(qt(),Oa(kn(),i,e,n,t,r)),Mn}function Kc(e,n,t,r,i,l,c,p){const w=function Sv(e,n,t,r,i){const l=Jl(e,n,t,r);return vi(e,n+2,i)||l}(e,Er(),t,i,c);return Vn(3),w?n+Nt(t)+r+Nt(i)+l+Nt(c)+p:Lt}function Xe(e,n,t,r,i,l,c,p){const y=Te(),w=qt(),S=e+Wt,x=w.firstCreatePass?function DP(e,n,t,r,i,l,c,p,y){const w=n.consts,S=Gc(n,e,4,c||null,Vo(w,p));b_(n,t,S,Vo(w,y)),Vl(n,S);const x=S.tView=__(2,S,r,i,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,w,null);return null!==n.queries&&(n.queries.template(n,S),x.queries=n.queries.embeddedTView(S)),S}(S,w,y,n,t,r,i,l,c):w.data[S];Ui(x,!1);const A=KC(w,y,x,e);fc()&&Ct(w,y,A,x),N(A,y),bv(y,y[S]=mC(A,y,A,x)),Ku(x)&&m_(w,y,x),null!=c&&y_(y,x,p)}let KC=function YC(e,n,t,r){return ba(!0),n[Ot].createComment("")};function Ve(e,n,t){const r=Te();return vi(r,_a(),n)&&function so(e,n,t,r,i,l,c,p){const y=fi(n,t);let S,w=n.inputs;!p&&null!=w&&(S=w[r])?(E_(e,t,S,r,i),Ga(n)&&function mR(e,n){const t=hi(n,e);16&t[At]||(t[At]|=64)}(t,n.index)):3&n.type&&(r=function vR(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=c?c(i,n.value||"",r):i,l.setProperty(y,r,i))}(qt(),kn(),r,e,n,r[Ot],t,!1),Ve}function A_(e,n,t,r,i){const c=i?"class":"style";E_(e,t,n.inputs[c],c,r)}function Ae(e,n,t,r){const i=Te(),l=qt(),c=Wt+e,p=i[Ot],y=l.firstCreatePass?function TP(e,n,t,r,i,l){const c=n.consts,y=Gc(n,e,2,r,Vo(c,i));return b_(n,t,y,Vo(c,l)),null!==y.attrs&&wv(y,y.attrs,!1),null!==y.mergedAttrs&&wv(y,y.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,y),y}(c,l,i,n,t,r):l.data[c],w=ZC(l,i,y,p,n,e);i[c]=w;const S=Ku(y);return Ui(y,!0),xa(p,w,y),32!=(32&y.flags)&&fc()&&Ct(l,i,w,y),0===function Pn(){return Dt.lFrame.elementDepthCount}()&&N(w,i),function lc(){Dt.lFrame.elementDepthCount++}(),S&&(m_(l,i,y),v_(l,y,i)),null!==r&&y_(i,y),Ae}function xe(){let e=ir();Fs()?Cr():(e=e.parent,Ui(e,!1));const n=e;(function a0(e){return Dt.skipHydrationRootTNode===e})(n)&&function l0(){Dt.skipHydrationRootTNode=null}(),function Ig(){Dt.lFrame.elementDepthCount--}();const t=qt();return t.firstCreatePass&&(Vl(t,e),af(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function b0(e){return 0!=(8&e.flags)}(n)&&A_(t,n,Te(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Tf(e){return 0!=(16&e.flags)}(n)&&A_(t,n,Te(),n.stylesWithoutHost,!1),xe}function ii(e,n,t,r){return Ae(e,n,t,r),xe(),ii}let ZC=(e,n,t,r,i,l)=>(ba(!0),be(r,i,function Pg(){return Dt.lFrame.currentNamespace}()));function To(){return Te()}function sh(e){return!!e&&"function"==typeof e.then}function JC(e){return!!e&&"function"==typeof e.subscribe}function Vt(e,n,t,r){const i=Te(),l=qt(),c=ir();return function tE(e,n,t,r,i,l,c){const p=Ku(r),w=e.firstCreatePass&&bC(e),S=n[In],x=_C(n);let A=!0;if(3&r.type||c){const J=fi(r,n),re=c?c(J):J,pe=x.length,ne=c?Fe=>c(En(Fe[r.index])):r.index;let ze=null;if(!c&&p&&(ze=function AP(e,n,t,r){const i=e.cleanup;if(null!=i)for(let l=0;l<i.length-1;l+=2){const c=i[l];if(c===t&&i[l+1]===r){const p=n[ha],y=i[l+2];return p.length>y?p[y]:null}"string"==typeof c&&(l+=2)}return null}(e,n,i,r.index)),null!==ze)(ze.__ngLastListenerFn__||ze).__ngNextListenerFn__=l,ze.__ngLastListenerFn__=l,A=!1;else{l=rE(r,n,S,l,!1);const Fe=t.listen(re,i,l);x.push(l,Fe),w&&w.push(i,ne,pe,pe+1)}}else l=rE(r,n,S,l,!1);const L=r.outputs;let K;if(A&&null!==L&&(K=L[i])){const J=K.length;if(J)for(let re=0;re<J;re+=2){const et=n[K[re]][K[re+1]].subscribe(l),kt=x.length;x.push(l,et),w&&w.push(i,r.index,kt,-(kt+1))}}}(l,i,i[Ot],c,e,n,r),Vt}function nE(e,n,t,r){try{return wi(6,n,t),!1!==t(r)}catch(i){return DC(e,i),!1}finally{wi(7,n,t)}}function rE(e,n,t,r,i){return function l(c){if(c===Function)return r;Qf(e.componentOffset>-1?hi(e.index,n):n);let y=nE(n,t,r,c),w=l.__ngNextListenerFn__;for(;w;)y=nE(n,t,w,c)&&y,w=w.__ngNextListenerFn__;return i&&!1===y&&c.preventDefault(),y}}function vt(e=1){return function c0(e){return(Dt.lFrame.contextLView=function Rg(e,n){for(;e>0;)n=n[Bo],e--;return n}(e,Dt.lFrame.contextLView))[In]}(e)}function RP(e,n){let t=null;const r=function jy(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const l=n[i];if("*"!==l){if(null===r?qp(e,l,!0):qu(r,l))return i}else t=i}return t}function Nv(e,n){return e<<17|n<<2}function rl(e){return e>>17&32767}function F_(e){return 2|e}function eu(e){return(131068&e)>>2}function L_(e,n){return-131069&e|n<<2}function B_(e){return 1|e}function pE(e,n,t,r,i){const l=e[t+1],c=null===n;let p=r?rl(l):eu(l),y=!1;for(;0!==p&&(!1===y||c);){const S=e[p+1];VP(e[p],n)&&(y=!0,e[p+1]=r?B_(S):F_(S)),p=r?rl(S):eu(S)}y&&(e[t+1]=r?F_(l):B_(l))}function VP(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Xs(e,n)>=0}const Lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gE(e){return e.substring(Lr.key,Lr.keyEnd)}function vE(e,n){const t=Lr.textEnd;return t===n?-1:(n=Lr.keyEnd=function UP(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,Lr.key=n,t),ed(e,n,t))}function ed(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function mn(e,n){return function Wo(e,n,t,r){const i=Te(),l=qt(),c=Vn(2);l.firstUpdatePass&&CE(l,e,c,r),n!==Lt&&vi(i,c,n)&&SE(l,l.data[Pr()],i,i[Ot],e,i[c+1]=function e2(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ur(Na(e)))),e}(n,t),r,c)}(e,n,null,!0),mn}function tu(e){!function qo(e,n,t,r){const i=qt(),l=Vn(2);i.firstUpdatePass&&CE(i,null,l,r);const c=Te();if(t!==Lt&&vi(c,l,t)){const p=i.data[Pr()];if(ME(p,r)&&!DE(i,l)){let y=r?p.classesWithoutHost:p.stylesWithoutHost;null!==y&&(t=Ud(y,t||"")),A_(i,p,c,t,r)}else!function JP(e,n,t,r,i,l,c,p){i===Lt&&(i=Yt);let y=0,w=0,S=0<i.length?i[0]:null,x=0<l.length?l[0]:null;for(;null!==S||null!==x;){const A=y<i.length?i[y+1]:void 0,L=w<l.length?l[w+1]:void 0;let J,K=null;S===x?(y+=2,w+=2,A!==L&&(K=x,J=L)):null===x||null!==S&&S<x?(y+=2,K=S):(w+=2,K=x,J=L),null!==K&&SE(e,n,t,r,K,J,c,p),S=y<i.length?i[y]:null,x=w<l.length?l[w]:null}}(i,p,c,c[Ot],c[l+1],c[l+1]=function QP(e,n,t){if(null==t||""===t)return Yt;const r=[],i=Na(t);if(Array.isArray(i))for(let l=0;l<i.length;l++)e(r,i[l],!0);else if("object"==typeof i)for(const l in i)i.hasOwnProperty(l)&&e(r,l,i[l]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,l)}}(XP,ka,e,!0)}function ka(e,n){for(let t=function $P(e){return function yE(e){Lr.key=0,Lr.keyEnd=0,Lr.value=0,Lr.valueEnd=0,Lr.textEnd=e.length}(e),vE(e,ed(e,0,Lr.textEnd))}(n);t>=0;t=vE(n,t))Ci(e,gE(n),!0)}function DE(e,n){return n>=e.expandoStartIndex}function CE(e,n,t,r){const i=e.data;if(null===i[t+1]){const l=i[Pr()],c=DE(e,t);ME(l,r)&&null===n&&!c&&(n=!1),n=function qP(e,n,t,r){const i=function Ho(e){const n=Dt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let l=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=lh(t=V_(null,e,n,t,r),n.attrs,r),l=null);else{const c=n.directiveStylingLast;if(-1===c||e[c]!==i)if(t=V_(i,e,n,t,r),null===l){let y=function KP(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==eu(r))return e[rl(r)]}(e,n,r);void 0!==y&&Array.isArray(y)&&(y=V_(null,e,n,y[1],r),y=lh(y,n.attrs,r),function YP(e,n,t,r){e[rl(t?n.classBindings:n.styleBindings)]=r}(e,n,r,y))}else l=function ZP(e,n,t){let r;const i=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<i;l++)r=lh(r,e[l].hostAttrs,t);return lh(r,n.attrs,t)}(e,n,r)}return void 0!==l&&(r?n.residualClasses=l:n.residualStyles=l),t}(i,l,n,r),function LP(e,n,t,r,i,l){let c=l?n.classBindings:n.styleBindings,p=rl(c),y=eu(c);e[r]=t;let S,w=!1;if(Array.isArray(t)?(S=t[1],(null===S||Xs(t,S)>0)&&(w=!0)):S=t,i)if(0!==y){const A=rl(e[p+1]);e[r+1]=Nv(A,p),0!==A&&(e[A+1]=L_(e[A+1],r)),e[p+1]=function kP(e,n){return 131071&e|n<<17}(e[p+1],r)}else e[r+1]=Nv(p,0),0!==p&&(e[p+1]=L_(e[p+1],r)),p=r;else e[r+1]=Nv(y,0),0===p?p=r:e[y+1]=L_(e[y+1],r),y=r;w&&(e[r+1]=F_(e[r+1])),pE(e,S,r,!0),pE(e,S,r,!1),function BP(e,n,t,r,i){const l=i?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof n&&Xs(l,n)>=0&&(t[r+1]=B_(t[r+1]))}(n,S,e,r,l),c=Nv(p,y),l?n.classBindings=c:n.styleBindings=c}(i,l,n,t,c,r)}}function V_(e,n,t,r,i){let l=null;const c=t.directiveEnd;let p=t.directiveStylingLast;for(-1===p?p=t.directiveStart:p++;p<c&&(l=n[p],r=lh(r,l.hostAttrs,i),l!==e);)p++;return null!==e&&(t.directiveStylingLast=p),r}function lh(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let l=0;l<n.length;l++){const c=n[l];"number"==typeof c?i=c:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ci(e,c,!!t||n[++l]))}return void 0===e?null:e}function XP(e,n,t){const r=String(n);""!==r&&!r.includes(" ")&&Ci(e,r,t)}function SE(e,n,t,r,i,l,c,p){if(!(3&n.type))return;const y=e.data,w=y[p+1],S=function FP(e){return 1==(1&e)}(w)?TE(y,n,t,i,eu(w),c):void 0;Ov(S)||(Ov(l)||function PP(e){return 2==(2&e)}(w)&&(l=TE(y,null,t,i,p,c)),function Go(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let l=-1===r.indexOf("-")?void 0:u.DashCase;null==i?e.removeStyle(t,r,l):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),l|=u.Important),e.setStyle(t,r,i,l))}}(r,c,sc(Pr(),t),i,l))}function TE(e,n,t,r,i,l){const c=null===n;let p;for(;i>0;){const y=e[i],w=Array.isArray(y),S=w?y[1]:y,x=null===S;let A=t[i+1];A===Lt&&(A=x?Yt:void 0);let L=x?bc(A,r):S===r?A:void 0;if(w&&!Ov(L)&&(L=bc(y,r)),Ov(L)&&(p=L,c))return p;const K=e[i+1];i=c?rl(K):eu(K)}if(null!==n){let y=l?n.residualClasses:n.residualStyles;null!=y&&(p=bc(y,r))}return p}function Ov(e){return void 0!==e}function ME(e,n){return 0!=(e.flags&(n?8:16))}function st(e,n=""){const t=Te(),r=qt(),i=e+Wt,l=r.firstCreatePass?Gc(r,i,1,n,null):r.data[i],c=IE(r,t,l,n,e);t[i]=c,fc()&&Ct(r,t,c,l),Ui(l,!1)}let IE=(e,n,t,r,i)=>(ba(!0),function _e(e,n){return e.createText(n)}(n[Ot],r));function Ko(e){return is("",e,""),Ko}function is(e,n,t){const r=Te(),i=function Wc(e,n,t,r){return vi(e,_a(),t)?n+Nt(t)+r:Lt}(r,e,n,t);return i!==Lt&&rs(r,Pr(),i),is}function H_(e,n,t,r,i){const l=Te(),c=function qc(e,n,t,r,i,l){const p=Jl(e,Er(),t,i);return Vn(2),p?n+Nt(t)+r+Nt(i)+l:Lt}(l,e,n,t,r,i);return c!==Lt&&rs(l,Pr(),c),H_}function $_(e,n,t,r,i,l,c){const p=Te(),y=Kc(p,e,n,t,r,i,l,c);return y!==Lt&&rs(p,Pr(),y),$_}const nd="en-US";let qE=nd;function G_(e,n,t,r,i){if(e=Et(e),Array.isArray(e))for(let l=0;l<e.length;l++)G_(e[l],n,t,r,i);else{const l=qt(),c=Te(),p=ir();let y=Xl(e)?e:Et(e.provide);const w=ND(e),S=1048575&p.providerIndexes,x=p.directiveStart,A=p.providerIndexes>>20;if(Xl(e)||!e.multi){const L=new Hl(w,i,Z),K=W_(y,n,i?S:S+A,x);-1===K?(vc(Us(p,c),l,y),z_(l,e,n.length),n.push(y),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),t.push(L),c.push(L)):(t[K]=L,c[K]=L)}else{const L=W_(y,n,S+A,x),K=W_(y,n,S,S+A),re=K>=0&&t[K];if(i&&!re||!i&&!(L>=0&&t[L])){vc(Us(p,c),l,y);const pe=function bk(e,n,t,r,i){const l=new Hl(e,t,Z);return l.multi=[],l.index=n,l.componentProviders=0,yS(l,i,r&&!t),l}(i?_k:yk,t.length,i,r,w);!i&&re&&(t[K].providerFactory=pe),z_(l,e,n.length,0),n.push(y),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),t.push(pe),c.push(pe)}else z_(l,e,L>-1?L:K,yS(t[i?K:L],w,!i&&r));!i&&r&&re&&t[K].componentProviders++}}}function z_(e,n,t,r){const i=Xl(n),l=function fA(e){return!!e.useClass}(n);if(i||l){const y=(l?Et(n.useClass):n).prototype.ngOnDestroy;if(y){const w=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const S=w.indexOf(t);-1===S?w.push(t,[r,y]):w[S+1].push(r,y)}else w.push(t,y)}}}function yS(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function W_(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function yk(e,n,t,r){return q_(this.multi,[])}function _k(e,n,t,r){const i=this.multi;let l;if(this.providerFactory){const c=this.providerFactory.componentProviders,p=Da(t,t[Ke],this.providerFactory.index,r);l=p.slice(0,c),q_(i,l);for(let y=c;y<p.length;y++)l.push(p[y])}else l=[],q_(i,l);return l}function q_(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function $n(e,n=[]){return t=>{t.providersResolver=(r,i)=>function mk(e,n,t){const r=qt();if(r.firstCreatePass){const i=br(e);G_(t,r.data,r.blueprint,i,!0),G_(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class ru{}class _S{}class K_ extends ru{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xC(this);const i=Hr(n);this._bootstrapComponents=ns(i.bootstrap),this._r3Injector=jD(n,t,[{provide:ru,useValue:this},{provide:gv,useValue:this.componentFactoryResolver},...r],ur(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Y_ extends _S{constructor(n){super(),this.moduleType=n}create(n){return new K_(this.moduleType,n,[])}}class bS extends ru{constructor(n){super(),this.componentFactoryResolver=new xC(this),this.instance=null;const t=new kc([...n.providers,{provide:ru,useValue:this},{provide:gv,useValue:this.componentFactoryResolver}],n.parent||lv(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Z_(e,n,t=null){return new bS({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let Ck=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=TD(0,t.type),i=r.length>0?Z_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=qe({token:e,providedIn:"environment",factory:()=>new e(Qe(Wi))})}return e})();function Io(e){e.getStandaloneInjector=n=>n.get(Ck).getOrCreateStandaloneInjector(e)}function os(e,n,t,r){return function MS(e,n,t,r,i,l){const c=n+t;return vi(e,c,i)?function Aa(e,n,t){return e[n]=t}(e,c+1,l?r.call(l,i):r(i)):function vh(e,n){const t=e[n];return t===Lt?void 0:t}(e,c+1)}(Te(),function Ar(){const e=Dt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),e,n,t,r)}function Wk(){return this._results[Symbol.iterator]()}class J_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ht)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=J_.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Wk)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function zr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function I0(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],l=n[r];if(t&&(i=t(i),l=t(l)),l!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Kk(e,n,t,r=!0){const i=n[Ke];if(function St(e,n,t,r){const i=dr+r,l=t.length;r>0&&(t[i-1][Bi]=n),r<l-dr?(n[Bi]=t[i],Vg(t,dr+r,n)):(t.push(n),n[Bi]=null),n[Bn]=t;const c=n[ln];null!==c&&t!==c&&function He(e,n){const t=e[Os];n[gt]!==n[Bn][Bn][gt]&&(e[ig]=!0),null===t?e[Os]=[n]:t.push(n)}(c,n);const p=n[Vi];null!==p&&p.insertView(e),n[At]|=128}(i,n,e,t),r){const l=Pt(t,e),c=n[Ot],p=le(c,e[mo]);null!==p&&function Me(e,n,t,r,i,l){r[vn]=i,r[Jn]=n,ei(e,r,t,1,i,l)}(i,e[Jn],c,n,p,l)}}let er=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Qk}return e})();const Yk=er,Zk=class extends Yk{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function qk(e,n,t,r){const i=n.tView,p=_v(e,i,t,4096&e[At]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);p[ln]=e[n.index];const w=e[Vi];return null!==w&&(p[Vi]=w.createEmbeddedView(i)),S_(i,p,t),p}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new eh(i)}};function Qk(){return Fv(ir(),Te())}function Fv(e,n){return 4&e.type?new Zk(n,e,Hc(e,n)):null}let xo=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=rF}return e})();function rF(){return BS(ir(),Te())}const iF=xo,FS=class extends iF{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){const n=Gl(this._hostTNode,this._hostLView);if(Mf(n)){const t=js(n,this._hostLView),r=$s(n);return new Gr(t[Ke].data[r+8],t)}return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=LS(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-dr}createEmbeddedView(n,t,r){let i,l;"number"==typeof r?i=r:null!=r&&(i=r.index,l=r.injector);const p=n.createEmbeddedViewImpl(t||{},l,null);return this.insertImpl(p,i,false),p}createComponent(n,t,r,i,l){const c=n&&!function qn(e){return"function"==typeof e}(n);let p;if(c)p=t;else{const J=t||{};p=J.index,r=J.injector,i=J.projectableNodes,l=J.environmentInjector||J.ngModuleRef}const y=c?n:new th(en(n)),w=r||this.parentInjector;if(!l&&null==y.ngModule){const re=(c?w:this.parentInjector).get(Wi,null);re&&(l=re)}en(y.componentType??{});const L=y.create(w,i,null,l);return this.insertImpl(L.hostView,p,false),L}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function Sg(e){return Gt(e[Bn])}(i)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const w=i[Bn],S=new FS(w,w[Jn],w[Bn]);S.detach(S.indexOf(n))}}const c=this._adjustIndex(t),p=this._lContainer;return Kk(p,i,c,!r),n.attachToViewContainerRef(),Vg(eb(p),c,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=LS(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=lt(this._lContainer,t);r&&(_c(eb(this._lContainer),t),ut(r[Ke],r))}detach(n){const t=this._adjustIndex(n,-1),r=lt(this._lContainer,t);return r&&null!=_c(eb(this._lContainer),t)?new eh(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function LS(e){return e[8]}function eb(e){return e[8]||(e[8]=[])}function BS(e,n){let t;const r=n[e.index];return Gt(r)?t=r:(t=mC(r,n,null,e),n[e.index]=t,bv(n,t)),VS(t,n,e,r),new FS(t,e,n)}let VS=function HS(e,n,t,r){if(e[mo])return;let i;i=8&t.type?En(r):function oF(e,n){const t=e[Ot],r=t.createComment(""),i=fi(n,e);return Mt(t,le(t,i),r,function fe(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[mo]=i};class tb{constructor(n){this.queryList=n,this.matches=null}clone(){return new tb(this.queryList)}setDirty(){this.queryList.setDirty()}}class nb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let l=0;l<r;l++){const c=t.getByIndex(l);i.push(this.queries[c.indexInDeclarationView].clone())}return new nb(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==zS(n,t).matches&&this.queries[t].setDirty()}}class $S{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class rb{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,l=this.getByIndex(r).embeddedTView(n,i);l&&(l.indexInDeclarationView=r,null!==t?t.push(l):t=[l])}return null!==t?new rb(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ib{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new ib(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const l=r[i];this.matchTNodeWithReadOption(n,t,lF(t,l)),this.matchTNodeWithReadOption(n,t,Wl(t,n,l,!1,!1))}else r===er?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Wl(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Sn||i===xo||i===er&&4&t.type)this.addMatch(t.index,-2);else{const l=Wl(t,n,i,!1,!1);null!==l&&this.addMatch(t.index,l)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function lF(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function cF(e,n,t,r){return-1===t?function uF(e,n){return 11&e.type?Hc(e,n):4&e.type?Fv(e,n):null}(n,e):-2===t?function dF(e,n,t){return t===Sn?Hc(n,e):t===er?Fv(n,e):t===xo?BS(n,e):void 0}(e,n,r):Da(e,e[Ke],t,n)}function jS(e,n,t,r){const i=n[Vi].queries[r];if(null===i.matches){const l=e.data,c=t.matches,p=[];for(let y=0;y<c.length;y+=2){const w=c[y];p.push(w<0?null:cF(n,l[w],c[y+1],t.metadata.read))}i.matches=p}return i.matches}function ob(e,n,t,r){const i=e.queries.getByIndex(t),l=i.matches;if(null!==l){const c=jS(e,n,i,t);for(let p=0;p<l.length;p+=2){const y=l[p];if(y>0)r.push(c[p/2]);else{const w=l[p+1],S=n[-y];for(let x=dr;x<S.length;x++){const A=S[x];A[ln]===A[Bn]&&ob(A[Ke],A,w,r)}if(null!==S[Os]){const x=S[Os];for(let A=0;A<x.length;A++){const L=x[A];ob(L[Ke],L,w,r)}}}}}return r}function xn(e){const n=Te(),t=qt(),r=Bs();Ya(r+1);const i=zS(t,r);if(e.dirty&&function ks(e){return 4==(4&e[At])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const l=i.crossesNgTemplate?ob(t,n,r,[]):jS(t,n,i,r);e.reset(l,RA),e.notifyOnChanges()}return!0}return!1}function iu(e,n,t){const r=qt();r.firstCreatePass&&(function GS(e,n,t){null===e.queries&&(e.queries=new rb),e.queries.track(new ib(n,t))}(r,new $S(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function US(e,n,t){const r=new J_(4==(4&t));(function hR(e,n,t,r){const i=_C(n);i.push(t),e.firstCreatePass&&bC(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[Vi]&&(n[Vi]=new nb),n[Vi].queries.push(new tb(r))}(r,Te(),n)}function zS(e,n){return e.queries.getByIndex(n)}const db=new We("Application Initializer");let fb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=je(db,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const l=i();if(sh(l))t.push(l);else if(JC(l)){const c=new Promise((p,y)=>{l.subscribe({complete:p,error:y})});t.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lT=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Zo=new We("LocaleId",{providedIn:"root",factory:()=>je(Zo,Ht.Optional|Ht.SkipSelf)||function PF(){return typeof $localize<"u"&&$localize.locale||nd}()});let uT=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ir(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class LF{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let cT=(()=>{class e{compileModuleSync(t){return new Y_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),l=ns(Hr(t).declarations).reduce((c,p)=>{const y=en(p);return y&&c.push(new th(y)),c},[]);return new LF(r,l)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pT=new We(""),Hv=new We("");let mb,gb=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mb||(function oL(e){mb=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{on.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:l,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(on),Qe(vb),Qe(Hv))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})(),vb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return mb?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),il=null;const gT=new We("AllowMultipleToken"),yb=new We("PlatformDestroyListeners"),_b=new We("appBootstrapListener");class mT{constructor(n,t){this.name=n,this.token=t}}function _T(e,n,t=[]){const r=`Platform: ${n}`,i=new We(r);return(l=[])=>{let c=bb();if(!c||c.injector.get(gT,!1)){const p=[...t,...l,{provide:i,useValue:!0}];e?e(p):function lL(e){if(il&&!il.get(gT,!1))throw new Ne(400,!1);(function vT(){!function Pl(e){pg=e}(()=>{throw new Ne(600,!1)})})(),il=e;const n=e.get(wT);(function yT(e){e.get(OD,null)?.forEach(t=>t())})(e)}(function bT(e=[],n){return ri.create({name:n,providers:[{provide:K0,useValue:"platform"},{provide:yb,useValue:new Set([()=>il=null])},...e]})}(p,r))}return function cL(e){const n=bb();if(!n)throw new Ne(401,!1);return n}()}}function bb(){return il?.get(wT)??null}let wT=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function dL(e="zone.js",n){return"noop"===e?new YA:"zone.js"===e?new on(n):e}(r?.ngZone,function DT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const l=function Dk(e,n,t){return new K_(e,n,t)}(t.moduleType,this.injector,function MT(e){return[{provide:on,useFactory:e},{provide:qf,multi:!0,useFactory:()=>{const n=je(hL,{optional:!0});return()=>n.initialize()}},{provide:TT,useFactory:fL},{provide:qD,useFactory:KD}]}(()=>i)),c=l.injector.get(ts,null);return i.runOutsideAngular(()=>{const p=i.onError.subscribe({next:y=>{c.handleError(y)}});l.onDestroy(()=>{$v(this._modules,l),p.unsubscribe()})}),function CT(e,n,t){try{const r=t();return sh(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(c,i,()=>{const p=l.injector.get(fb);return p.runInitializers(),p.donePromise.then(()=>(function KE(e){Xr(e,"Expected localeId to be defined"),"string"==typeof e&&(qE=e.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Zo,nd)||nd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,r=[]){const i=ET({},r);return function aL(e,n,t){const r=new Y_(t);return Promise.resolve(r)}(0,0,t).then(l=>this.bootstrapModuleFactory(l,i))}_moduleDoBootstrap(t){const r=t.injector.get(ol);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ne(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(yb,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(ri))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function ET(e,n){return Array.isArray(n)?n.reduce(ET,e):{...e,...n}}let ol=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=je(TT),this.zoneIsStable=je(qD),this.componentTypes=[],this.components=[],this.isStable=je(uT).hasPendingTasks.pipe(Xi(t=>t?yt(!1):this.zoneIsStable),function Np(e,n=Pe){return e=e??Sy,zn((t,r)=>{let i,l=!0;t.subscribe(An(r,c=>{const p=n(c);(l||!e(i,p))&&(l=!1,i=p,r.next(c))}))})}(),xp()),this._injector=je(Wi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof FD;if(!this._injector.get(fb).done)throw!i&&function xs(e){const n=en(e)||Nr(e)||_r(e);return null!==n&&n.standalone}(t),new Ne(405,!1);let c;c=i?t:this._injector.get(gv).resolveComponentFactory(t),this.componentTypes.push(c.componentType);const p=function sL(e){return e.isBoundToModule}(c)?void 0:this._injector.get(ru),w=c.create(ri.NULL,[],r||c.selector,p),S=w.location.nativeElement,x=w.injector.get(pT,null);return x?.registerApplication(S),w.onDestroy(()=>{this.detachView(w.hostView),$v(this.components,w),x?.unregisterApplication(S)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;$v(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(_b,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$v(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ne(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $v(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const TT=new We("",{providedIn:"root",factory:()=>je(ts).handleError.bind(void 0)});function fL(){const e=je(on),n=je(ts);return t=>e.runOutsideAngular(()=>n.handleError(t))}let hL=(()=>{class e{constructor(){this.zone=je(on),this.applicationRef=je(ol)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Qo=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=gL}return e})();function gL(e){return function vL(e,n,t){if(Ga(e)&&!t){const r=hi(e.index,n);return new eh(r,r)}return 47&e.type?new eh(n[gt],n):null}(ir(),Te(),16==(16&e))}class OT{constructor(){}supports(n){return Ev(n)}create(n){return new DL(n)}}const wL=(e,n)=>n;class DL{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||wL}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,l=null;for(;t||r;){const c=!r||t&&t.currentIndex<RT(r,i,l)?t:r,p=RT(c,i,l),y=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(t=t._next,null==c.previousIndex)i++;else{l||(l=[]);const w=p-i,S=y-i;if(w!=S){for(let A=0;A<w;A++){const L=A<l.length?l[A]:l[A]=0,K=L+A;S<=K&&K<w&&(l[A]=L+1)}l[c.previousIndex]=S-w}}p!==y&&n(c,p,y)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Ev(n))throw new Ne(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,l,c,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let p=0;p<this.length;p++)l=n[p],c=this._trackByFn(p,l),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,l,c,p)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,c,p),r=!0),t=t._next}else i=0,function iP(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,p=>{c=this._trackByFn(i,p),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,p,c,i)),Object.is(t.item,p)||this._addIdentityChange(t,p)):(t=this._mismatch(t,p,c,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,l,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,l,i)):n=this._addAfter(new CL(t,r),l,i),n}_verifyReinsertion(n,t,r,i){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?n=this._reinsertAfter(l,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,l=n._nextRemoved;return null===i?this._removalsHead=l:i._nextRemoved=l,null===l?this._removalsTail=i:l._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new AT),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class CL{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EL{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class AT{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new EL,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RT(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class PT{constructor(){}supports(n){return n instanceof Map||T_(n)}create(){return new SL}}class SL{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||T_(n)))throw new Ne(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const l=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,l)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const l=i._prev,c=i._next;return l&&(l._next=c),c&&(c._prev=l),i._next=null,i._prev=null,i}const r=new TL(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class TL{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kT(){return new Gv([new OT])}let Gv=(()=>{class e{static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:kT});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||kT()),deps:[[e,new Dc,new wc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ne(901,!1)}}return e})();function FT(){return new bh([new PT])}let bh=(()=>{class e{static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:FT});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||FT()),deps:[[e,new Dc,new wc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Ne(901,!1)}}return e})();const xL=_T(null,"core",[]);let NL=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(ol))};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})();function Tb(e,n){const t=en(e),r=n.elementInjector||lv();return new th(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector)}let Mb=null;function al(){return Mb}class GL{}const Tr=new We("DocumentToken");let Ib=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:function(){return je(WL)},providedIn:"platform"})}return e})();const zL=new We("Location Initialized");let WL=(()=>{class e extends Ib{constructor(){super(),this._doc=je(Tr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return al().getBaseHref(this._doc)}onPopState(t){const r=al().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=al().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function xb(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function zT(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function as(e){return e&&"?"!==e[0]?"?"+e:e}let au=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:function(){return je(qT)},providedIn:"root"})}return e})();const WT=new We("appBaseHref");let qT=(()=>{class e extends au{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??je(Tr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+as(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const c=this.prepareExternalUrl(i+as(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){const c=this.prepareExternalUrl(i+as(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Ib),Qe(WT,8))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qL=(()=>{class e extends au{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let c=this.prepareExternalUrl(i+as(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){let c=this.prepareExternalUrl(i+as(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Ib),Qe(WT,8))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})(),Nb=(()=>{class e{constructor(t){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ZL(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(zT(KT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+as(r))}normalize(t){return e.stripTrailingSlash(function YL(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,KT(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+as(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+as(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=as;static#t=this.joinWithSlash=xb;static#n=this.stripTrailingSlash=zT;static#r=this.\u0275fac=function(r){return new(r||e)(Qe(au))};static#i=this.\u0275prov=qe({token:e,factory:function(){return function KL(){return new Nb(Qe(au))}()},providedIn:"root"})}return e})();function KT(e){return e.replace(/\/index.html$/,"")}class PB{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let us=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new PB(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,c),sM(p,i)}});for(let i=0,l=r.length;i<l;i++){const p=r.get(i).context;p.index=i,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{sM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Z(xo),Z(er),Z(Gv))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function sM(e,n){e.context.$implicit=n.item}let cs=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new kB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Z(xo),Z(er))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class kB{constructor(){this.$implicit=null,this.ngIf=null}}function lM(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ur(n)}'.`)}let Gb=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,l]=t.split("."),c=-1===i.indexOf("-")?void 0:u.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,l?`${r}${l}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||e)(Z(Sn),Z(bh),Z(ao))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),sV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})();function fM(e){return"server"===e}let dV=(()=>{class e{static#e=this.\u0275prov=qe({token:e,providedIn:"root",factory:()=>new fV(Qe(Tr),window)})}return e})();class fV{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function hV(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const c=l.getElementById(n)||l.querySelector(`[name="${n}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class LV extends GL{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yb extends LV{static makeCurrent(){!function UL(e){Mb||(Mb=e)}(new Yb)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function BV(){return Eh=Eh||document.querySelector("base"),Eh?Eh.getAttribute("href"):null}();return null==t?null:function VV(e){im=im||document.createElement("a"),im.setAttribute("href",e);const n=im.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Eh=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function OB(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(l)}return null}(document.cookie,n)}}let im,Eh=null,$V=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const Zb=new We("EventManagerPlugins");let mM=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(l=>l.supports(t)),!r)throw new Ne(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Zb),Qe(on))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();class yM{constructor(n){this._doc=n}}const Qb="ng-app-id";let _M=(()=>{class e{constructor(t,r,i,l={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fM(l),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Qb}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const l=i.get(t);return l.usage+=r,l.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,l=i?.get(r);if(l?.parentNode===t)return i.delete(r),l.removeAttribute(Qb),l;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Qb,this.appId),c}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const l=this.styleRef,c=l.get(r)?.elements;c?c.push(i):l.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Tr),Qe(uv),Qe(AD,8),Qe(Lc))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const Xb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jb=/%COMP%/g,zV=new We("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function wM(e,n){return n.map(t=>t.replace(Jb,e))}let DM=(()=>{class e{constructor(t,r,i,l,c,p,y,w=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=p,this.ngZone=y,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=fM(p),this.defaultRenderer=new e1(t,c,y,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===eo.ShadowDom&&(r={...r,encapsulation:eo.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof EM?i.applyToHost(t):i instanceof t1&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let l=i.get(r.id);if(!l){const c=this.doc,p=this.ngZone,y=this.eventManager,w=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(r.encapsulation){case eo.Emulated:l=new EM(y,w,r,this.appId,S,c,p,x);break;case eo.ShadowDom:return new YV(y,w,t,r,c,p,this.nonce,x);default:l=new t1(y,w,r,S,c,p,x)}i.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(mM),Qe(_M),Qe(uv),Qe(zV),Qe(Tr),Qe(Lc),Qe(on),Qe(AD))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();class e1{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Xb[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(CM(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(CM(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Ne(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const l=Xb[i];l?n.setAttributeNS(l,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Xb[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(u.DashCase|u.Important)?n.style.setProperty(t,r,i&u.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&u.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=al().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function CM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class YV extends e1{constructor(n,t,r,i,l,c,p,y){super(n,l,c,y),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=wM(i.id,i.styles);for(const S of w){const x=document.createElement("style");p&&x.setAttribute("nonce",p),x.textContent=S,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class t1 extends e1{constructor(n,t,r,i,l,c,p,y){super(n,l,c,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=y?wM(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class EM extends t1{constructor(n,t,r,i,l,c,p,y){const w=i+"-"+r.id;super(n,t,r,l,c,p,y,w),this.contentAttr=function WV(e){return"_ngcontent-%COMP%".replace(Jb,e)}(w),this.hostAttr=function qV(e){return"_nghost-%COMP%".replace(Jb,e)}(w)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let ZV=(()=>{class e extends yM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Tr))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const SM=["alt","control","meta","shift"],QV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let JV=(()=>{class e extends yM{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const l=e.parseEventName(r),c=e.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>al().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=e._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),SM.forEach(w=>{const S=r.indexOf(w);S>-1&&(r.splice(S,1),c+=w+".")}),c+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=i,y.fullKey=c,y}static matchEventFullKeyCode(t,r){let i=QV[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),SM.forEach(c=>{c!==i&&(0,XV[c])(t)&&(l+=c+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{e.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Tr))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();const rH=_T(xL,"browser",[{provide:Lc,useValue:"browser"},{provide:OD,useValue:function eH(){Yb.makeCurrent()},multi:!0},{provide:Tr,useFactory:function nH(){return function Xg(e){zi=e}(document),document},deps:[]}]),iH=new We(""),IM=[{provide:Hv,useClass:class HV{addToWindow(n){gn.getAngularTestability=(r,i=!0)=>{const l=n.findTestabilityInTree(r,i);if(null==l)throw new Ne(5103,!1);return l},gn.getAllAngularTestabilities=()=>n.getAllTestabilities(),gn.getAllAngularRootElements=()=>n.getAllRootElements(),gn.frameworkStabilizers||(gn.frameworkStabilizers=[]),gn.frameworkStabilizers.push(r=>{const i=gn.getAllAngularTestabilities();let l=i.length,c=!1;const p=function(y){c=c||y,l--,0==l&&r(c)};i.forEach(y=>{y.whenStable(p)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?al().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:pT,useClass:gb,deps:[on,vb,Hv]},{provide:gb,useClass:gb,deps:[on,vb,Hv]}],xM=[{provide:K0,useValue:"root"},{provide:ts,useFactory:function tH(){return new ts},deps:[]},{provide:Zb,useClass:ZV,multi:!0,deps:[Tr,on,Lc]},{provide:Zb,useClass:JV,multi:!0,deps:[Tr]},DM,_M,mM,{provide:l_,useExisting:DM},{provide:class pV{},useClass:$V,deps:[]},[]];let oH=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:uv,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(iH,12))};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({providers:[...xM,...IM],imports:[sV,NL]})}return e})(),NM=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Tr))};static#t=this.\u0275prov=qe({token:e,factory:function(r){let i=null;return i=r?new r:function sH(){return new NM(Qe(Tr))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:fH}=Array;function r1(e){return Ut(n=>function hH(e,n){return fH(n)?e(...n):e(n)}(e,n))}const pH=["addListener","removeListener"],gH=["addEventListener","removeEventListener"],vH=["on","off"];function oi(e,n,t,r){if(X(t)&&(r=t,t=void 0),r)return oi(e,n,t).pipe(r1(r));const[i,l]=function _H(e){return X(e.addEventListener)&&X(e.removeEventListener)}(e)?gH.map(c=>p=>e[c](n,p,t)):function mH(e){return X(e.addListener)&&X(e.removeListener)}(e)?pH.map(PM(e,n)):function yH(e){return X(e.on)&&X(e.off)}(e)?vH.map(PM(e,n)):[];if(!i&&Nu(e))return bt(c=>oi(c,n,t))(nr(e));if(!i)throw new TypeError("Invalid event target");return new at(c=>{const p=(...y)=>c.next(1<y.length?y:y[0]);return i(p),()=>l(p)})}function PM(e,n){return t=>r=>e[t](n,r)}class bH extends Se{constructor(n,t){super()}schedule(n,t=0){return this}}const om={setInterval(e,n,...t){const{delegate:r}=om;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=om;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},kM={now:()=>(kM.delegate||Date).now(),delegate:void 0};class Sh{constructor(n,t=Sh.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Sh.now=kM.now;const CH=new class DH extends Sh{constructor(n,t=Sh.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class wH extends bH{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,l=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(l,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(l,this.id,t),this}requestAsyncId(n,t,r=0){return om.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&om.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(l){r=!0,i=l||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ve(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});const{isArray:SH}=Array;function BM(e){return 1===e.length&&SH(e[0])?e[0]:e}function i1(...e){const n=rr(e),t=BM(e);return t.length?new at(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let c=0;!r.closed&&c<t.length;c++)nr(t[c]).subscribe(An(r,p=>{if(i[c].push(p),i.every(y=>y.length)){const y=i.map(w=>w.shift());r.next(n?n(...y):y),i.some((w,S)=>!w.length&&l[S])&&r.complete()}},()=>{l[c]=!0,!i[c].length&&r.complete()}));return()=>{i=l=null}}):Xn}function Th(...e){return function MH(){return _s(1)}()(lr(e,Pi(e)))}function ar(e){return zn((n,t)=>{nr(e).subscribe(An(t,()=>t.complete(),Bt)),!t.closed&&n.subscribe(t)})}function Kr(e,n){return zn((t,r)=>{let i=0;t.subscribe(An(r,l=>e.call(n,l,i++)&&r.next(l)))})}function ai(e){return e<=0?()=>Xn:zn((n,t)=>{let r=0;n.subscribe(An(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Yr(e,n,t){const r=X(e)||n||t?{next:e,error:n,complete:t}:e;return r?zn((i,l)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let p=!0;i.subscribe(An(l,y=>{var w;null===(w=r.next)||void 0===w||w.call(r,y),l.next(y)},()=>{var y;p=!1,null===(y=r.complete)||void 0===y||y.call(r),l.complete()},y=>{var w;p=!1,null===(w=r.error)||void 0===w||w.call(r,y),l.error(y)},()=>{var y,w;p&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):Pe}function o1(...e){const n=rr(e);return zn((t,r)=>{const i=e.length,l=new Array(i);let c=e.map(()=>!1),p=!1;for(let y=0;y<i;y++)nr(e[y]).subscribe(An(r,w=>{l[y]=w,!p&&!c[y]&&(c[y]=!0,(p=c.every(Pe))&&(c=null))},Bt));t.subscribe(An(r,y=>{if(p){const w=[y,...l];r.next(n?n(...w):w)}}))})}const{isArray:KH}=Array,{getPrototypeOf:YH,prototype:ZH,keys:QH}=Object;function JM(e){if(1===e.length){const n=e[0];if(KH(n))return{args:n,keys:null};if(function XH(e){return e&&"object"==typeof e&&YH(e)===ZH}(n)){const t=QH(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function eI(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}let tI=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||e)(Z(ao),Z(Sn))};static#t=this.\u0275dir=Be({type:e})}return e})(),su=(()=>{class e extends tI{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(e)))(i||e)}}();static#t=this.\u0275dir=Be({type:e,features:[Tn]})}return e})();const Ao=new We("NgValueAccessor"),t$={provide:Ao,useExisting:zt(()=>Ih),multi:!0},r$=new We("CompositionEventMode");let Ih=(()=>{class e extends tI{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function n$(){const e=al()?al().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Z(ao),Z(Sn),Z(r$,8))};static#t=this.\u0275dir=Be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Vt("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[$n([t$]),Tn]})}return e})();function ul(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function rI(e){return null!=e&&"number"==typeof e.length}const li=new We("NgValidators"),cl=new We("NgAsyncValidators"),i$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class dl{static min(n){return function iI(e){return n=>{if(ul(n.value)||ul(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function oI(e){return n=>{if(ul(n.value)||ul(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return function aI(e){return ul(e.value)?{required:!0}:null}(n)}static requiredTrue(n){return function sI(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function lI(e){return ul(e.value)||i$.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function uI(e){return n=>ul(n.value)||!rI(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function cI(e){return n=>rI(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function dI(e){if(!e)return um;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(ul(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return mI(n)}static composeAsync(n){return yI(n)}}function um(e){return null}function fI(e){return null!=e}function hI(e){return sh(e)?lr(e):e}function pI(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function gI(e,n){return n.map(t=>t(e))}function vI(e){return e.map(n=>function o$(e){return!e.validate}(n)?n:t=>n.validate(t))}function mI(e){if(!e)return null;const n=e.filter(fI);return 0==n.length?null:function(t){return pI(gI(t,n))}}function c1(e){return null!=e?mI(vI(e)):null}function yI(e){if(!e)return null;const n=e.filter(fI);return 0==n.length?null:function(t){return function JH(...e){const n=rr(e),{args:t,keys:r}=JM(e),i=new at(l=>{const{length:c}=t;if(!c)return void l.complete();const p=new Array(c);let y=c,w=c;for(let S=0;S<c;S++){let x=!1;nr(t[S]).subscribe(An(l,A=>{x||(x=!0,w--),p[S]=A},()=>y--,void 0,()=>{(!y||!x)&&(w||l.next(r?eI(r,p):p),l.complete())}))}});return n?i.pipe(r1(n)):i}(gI(t,n).map(hI)).pipe(Ut(pI))}}function d1(e){return null!=e?yI(vI(e)):null}function _I(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function bI(e){return e._rawValidators}function wI(e){return e._rawAsyncValidators}function f1(e){return e?Array.isArray(e)?e:[e]:[]}function cm(e,n){return Array.isArray(e)?e.includes(n):e===n}function DI(e,n){const t=f1(n);return f1(e).forEach(i=>{cm(t,i)||t.push(i)}),t}function CI(e,n){return f1(n).filter(t=>!cm(e,t))}class EI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=c1(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=d1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Ni extends EI{get formDirective(){return null}get path(){return null}}class fl extends EI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class SI{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let h1=(()=>{class e extends SI{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Z(fl,2))};static#t=this.\u0275dir=Be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Tn]})}return e})(),p1=(()=>{class e extends SI{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Z(Ni,10))};static#t=this.\u0275dir=Be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Tn]})}return e})();const xh="VALID",fm="INVALID",ud="PENDING",Nh="DISABLED";function m1(e){return(hm(e)?e.validators:e)||null}function y1(e,n){return(hm(n)?n.asyncValidators:e)||null}function hm(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function MI(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new Ne(1e3,"");if(!r[t])throw new Ne(1001,"")}function II(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new Ne(1002,"")})}class pm{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===xh}get invalid(){return this.status===fm}get pending(){return this.status==ud}get disabled(){return this.status===Nh}get enabled(){return this.status!==Nh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(DI(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(DI(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(CI(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(CI(n,this._rawAsyncValidators))}hasValidator(n){return cm(this._rawValidators,n)}hasAsyncValidator(n){return cm(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ud,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Nh,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=xh,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xh||this.status===ud)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nh:xh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ud,this._hasOwnPendingAsyncValidator=!0;const t=hI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?Nh:this.errors?fm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ud)?ud:this._anyControlsHaveStatus(fm)?fm:xh}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){hm(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function u$(e){return Array.isArray(e)?c1(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function c$(e){return Array.isArray(e)?d1(e):e||null}(this._rawAsyncValidators)}}class Oh extends pm{constructor(n,t,r){super(m1(t),y1(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){II(this,0,n),Object.keys(n).forEach(r=>{MI(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class xI extends Oh{}const cd=new We("CallSetDisabledState",{providedIn:"root",factory:()=>gm}),gm="always";function Ah(e,n,t=gm){_1(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function f$(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&NI(e,n)})}(e,n),function p$(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function h$(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&NI(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function d$(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function mm(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),_m(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ym(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _1(e,n){const t=bI(e);null!==n.validator?e.setValidators(_I(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=wI(e);null!==n.asyncValidator?e.setAsyncValidators(_I(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();ym(n._rawValidators,i),ym(n._rawAsyncValidators,i)}function _m(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=bI(e);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==n.validator);l.length!==i.length&&(t=!0,e.setValidators(l))}}if(null!==n.asyncValidator){const i=wI(e);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==n.asyncValidator);l.length!==i.length&&(t=!0,e.setAsyncValidators(l))}}}const r=()=>{};return ym(n._rawValidators,r),ym(n._rawAsyncValidators,r),t}function NI(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function RI(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function PI(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ds=class extends pm{constructor(n=null,t,r){super(m1(t),y1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=PI(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){RI(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){RI(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){PI(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let E1=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),HI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})();const S1=new We("NgModelWithFormControlWarning"),I$={provide:Ni,useExisting:zt(()=>Ph)};let Ph=(()=>{class e extends Ni{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ht,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_m(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ah(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){mm(t.control||null,t,!1),function y$(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function AI(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(mm(r||null,t),(e=>e instanceof ds)(i)&&(Ah(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function OI(e,n){_1(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function g$(e,n){return _m(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_1(this.form,this),this._oldForm&&_m(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||e)(Z(li,10),Z(cl,10),Z(cd,8))};static#t=this.\u0275dir=Be({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Vt("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$n([I$]),Tn,wt]})}return e})();const O$={provide:fl,useExisting:zt(()=>bm)};let bm=(()=>{class e extends fl{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,l,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new ht,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function D1(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(l=>{l.constructor===Ih?t=l:function m$(e){return Object.getPrototypeOf(e.constructor)===su}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){this._added||this._setUpControl(),function w1(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function vm(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||e)(Z(Ni,13),Z(li,10),Z(cl,10),Z(Ao,10),Z(S1,8))};static#n=this.\u0275dir=Be({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$n([O$]),Tn,wt]})}return e})(),W$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({imports:[HI]})}return e})();class nx extends pm{constructor(n,t,r){super(m1(t),y1(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){II(this,0,n),n.forEach((r,i)=>{MI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function rx(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let ix=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let l={};return rx(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new Oh(i,l)}record(t,r=null){const i=this._reduceControls(t);return new xI(i,r)}control(t,r,i){let l={};return this.useNonNullable?(rx(r)?l=r:(l.validators=r,l.asyncValidators=i),new ds(t,{...l,nonNullable:!0})):new ds(t,r,i)}array(t,r,i){const l=t.map(c=>this._createControl(c));return new nx(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ds||t instanceof pm?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),q$=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:S1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:cd,useValue:t.callSetDisabledState??gm}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({imports:[W$]})}return e})();Math,Math,Math;const ij=["*"],Pj=["dialog"];function du(e){return"string"==typeof e}function fu(e){return null!=e}function gd(e){return(e||document.body).getBoundingClientRect()}const Sx={animation:!0,transitionTimerDelayMs:5},T5=()=>{},{transitionTimerDelayMs:M5}=Sx,$h=new Map,Qi=(e,n,t,r)=>{let i=r.context||{};const l=$h.get(n);if(l)switch(r.runningTransition){case"continue":return Xn;case"stop":e.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),$h.delete(n)}const c=t(n,r.animation,i)||T5;if(!r.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>c()),yt(void 0).pipe(function E5(e){return n=>new at(t=>n.subscribe({next:c=>e.run(()=>t.next(c)),error:c=>e.run(()=>t.error(c)),complete:()=>e.run(()=>t.complete())}))}(e));const p=new jt,y=new jt,w=p.pipe(function IH(...e){return n=>Th(n,yt(...e))}(!0));$h.set(n,{transition$:p,complete:()=>{y.next(),y.complete()},context:i});const S=function S5(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const x=oi(n,"transitionend").pipe(ar(w),Kr(({target:L})=>L===n));(function VM(...e){return 1===(e=BM(e)).length?nr(e[0]):new at(function TH(e){return n=>{let t=[];for(let r=0;t&&!n.closed&&r<e.length;r++)t.push(nr(e[r]).subscribe(An(n,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}n.next(i)})))}}(e))})(function LM(e=0,n,t=CH){let r=-1;return null!=n&&(Tp(n)?t=n:r=n),new at(i=>{let l=function EH(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;l<0&&(l=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(S+M5).pipe(ar(w)),x,y).pipe(ar(w)).subscribe(()=>{$h.delete(n),e.run(()=>{c(),p.next(),p.complete()})})}),p.asObservable()};let Sm=(()=>{class e{constructor(){this.animation=Sx.animation}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Px=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),kx=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),Bx=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),Vx=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})();var jn=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(jn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Wx=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qx(e){const n=Array.from(e.querySelectorAll(Wx)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let aN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),uN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})();class mu{constructor(n,t,r){this.nodes=n,this.viewRef=t,this.componentRef=r}}let TU=(()=>{class e{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(ai(1)).subscribe(()=>{Qi(this._zone,this._el.nativeElement,(t,r)=>{r&&gd(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||e)(Z(Sn),Z(on))};static#t=this.\u0275cmp=Vr({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(tu("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),mn("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Io],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return e})();class cN{update(n){}close(n){}dismiss(n){}}const MU=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],IU=["animation","backdropClass"];class xU{_applyWindowOptions(n,t){MU.forEach(r=>{fu(t[r])&&(n[r]=t[r])})}_applyBackdropOptions(n,t){IU.forEach(r=>{fu(t[r])&&(n[r]=t[r])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ar(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ar(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,r,i){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new jt,this._dismissed=new jt,this._hidden=new jt,n.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,c)=>{this._resolve=l,this._reject=c}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Dx(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(r=>{!1!==r&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():yt(void 0);n.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),i1(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ew=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(ew||{});let NU=(()=>{class e{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new jt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ht,this.shown=new jt,this.hidden=new jt}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":du(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ai(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=i1(Qi(this._zone,t,()=>t.classList.remove("show"),r),Qi(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};i1(Qi(this._zone,this._elRef.nativeElement,(l,c)=>{c&&gd(l),l.classList.add("show")},t),Qi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{oi(t,"keydown").pipe(ar(this._closed$),Kr(i=>i.which===jn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(ew.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;oi(this._dialogEl.nativeElement,"mousedown").pipe(ar(this._closed$),Yr(()=>r=!1),Xi(()=>oi(t,"mouseup").pipe(ar(this._closed$),ai(1))),Kr(({target:i})=>t===i)).subscribe(()=>{r=!0}),oi(t,"click").pipe(ar(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(ew.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=qx(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Qi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||e)(Z(Tr),Z(Sn),Z(on))};static#t=this.\u0275cmp=Vr({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&iu(Pj,7),2&r){let l;xn(l=function Nn(){return function fF(e,n){return e[Vi].queries[n].queryList}(Te(),Bs())}())&&(i._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Mn("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),tu("modal d-block"+(i.windowClass?" "+i.windowClass:"")),mn("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Io],ngContentSelectors:ij,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function iE(e){const n=Te()[gt][Jn];if(!n.projection){const r=n.projection=Kl(e?e.length:1,null),i=r.slice();let l=n.child;for(;null!==l;){const c=e?RP(l,e):0;null!==c&&(i[c]?i[c].projectionNext=l:r[c]=l,i[c]=l),l=l.next}}}(),Ae(0,"div",0,1)(2,"div",2),function oE(e,n=0,t){const r=Te(),i=qt(),l=Gc(i,Wt+e,16,null,t||null);null===l.projection&&(l.projection=n),Cr(),(!r[di]||no())&&32!=(32&l.flags)&&function Fr(e,n,t){Ti(n[Ot],0,n,t,Ft(e,t,n),dt(t.parent||n[Jn],t,n))}(i,r,l)}(3),xe()()),2&r&&tu("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),OU=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:c}=i;if(t>0){const p=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${p+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=l}}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Tr))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),AU=(()=>{class e{constructor(t,r,i,l,c,p,y){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=l,this._scrollBar=c,this._rendererFactory=p,this._ngZone=y,this._activeWindowCmptHasChanged=new jt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ht,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const w=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,r=!1)=>{e.runOutsideAngular(()=>{const i=oi(n,"focusin").pipe(ar(t),Ut(l=>l.target));oi(n,"keydown").pipe(ar(t),Kr(l=>l.which===jn.Tab),o1(i)).subscribe(([l,c])=>{const[p,y]=qx(n);(c===p||c===n)&&l.shiftKey&&(y.focus(),l.preventDefault()),c===y&&!l.shiftKey&&(p.focus(),l.preventDefault())}),r&&oi(n,"click").pipe(ar(t),o1(i),Ut(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,w.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(w.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const l=i.container instanceof HTMLElement?i.container:fu(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new cN,y=(t=i.injector||t).get(Wi,null)||this._environmentInjector,w=this._getContentRef(t,y,r,p,i);let S=!1!==i.backdrop?this._attachBackdrop(l):void 0,x=this._attachWindowComponent(l,w.nodes),A=new xU(x,w,S,i.beforeDismiss);return this._registerModalRef(A),this._registerWindowCmpt(x),A.hidden.pipe(ai(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=L=>{A.close(L)},p.dismiss=L=>{A.dismiss(L)},p.update=L=>{A.update(L)},A.update(i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),S&&S.instance&&S.changeDetectorRef.detectChanges(),x.changeDetectorRef.detectChanges(),A}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=Tb(TU,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=Tb(NU,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,l,c){return i?i instanceof er?this._createFromTemplateRef(i,l):du(i)?this._createFromString(i):this._createFromComponent(t,r,i,l,c):new mu([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(l),new mu([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new mu([[r]])}_createFromComponent(t,r,i,l,c){const y=Tb(i,{environmentInjector:r,elementInjector:ri.create({providers:[{provide:cN,useValue:l}],parent:t})}),w=y.location.nativeElement;return c.scrollable&&w.classList.add("component-host-scrollable"),this._applicationRef.attachView(y.hostView),new mu([[w]],y.hostView,y)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(ol),Qe(ri),Qe(Wi),Qe(Tr),Qe(OU),Qe(l_),Qe(on))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),RU=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Sm))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),PU=(()=>{class e{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(ri),Qe(AU),Qe(RU))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({providers:[PU]})}return e})(),pN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),DN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),CN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),EN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),SN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),TN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),MN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),IN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),xN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})();new We("live announcer delay",{providedIn:"root",factory:function YU(){return 100}});let NN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})(),ON=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})();const QU=[Px,kx,Bx,Vx,aN,uN,dN,pN,ON,DN,CN,EN,SN,TN,MN,IN,xN,NN];let XU=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({imports:[QU,Px,kx,Bx,Vx,aN,uN,dN,pN,ON,DN,CN,EN,SN,TN,MN,IN,xN,NN]})}return e})();function nw(...e){const n=Pi(e),t=rr(e),{args:r,keys:i}=JM(e);if(0===r.length)return lr([],n);const l=new at(function eG(e,n,t=Pe){return r=>{AN(n,()=>{const{length:i}=e,l=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)AN(n,()=>{const w=lr(e[y],n);let S=!1;w.subscribe(An(r,x=>{l[y]=x,S||(S=!0,p--),p||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,n,i?c=>eI(i,c):Pe));return t?l.pipe(r1(t)):l}function AN(e,n,t){e?fn(t,e,n):n()}const Bm=ce(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function RN(e){return new at(n=>{nr(e()).subscribe(n)})}function Wh(e,n){const t=X(e)?e:()=>e,r=i=>i.error(t());return new at(n?i=>n.schedule(r,0,i):r)}function rw(){return zn((e,n)=>{let t=null;e._refCount++;const r=An(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class PN extends at{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,xd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Se;const t=this.getSubject();n.add(this.source.subscribe(An(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Se.EMPTY)}return n}refCount(){return rw()(this)}}function Vm(e){return zn((n,t)=>{let r=!1;n.subscribe(An(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function kN(e=tG){return zn((n,t)=>{let r=!1;n.subscribe(An(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function tG(){return new Bm}function yu(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Kr((i,l)=>e(i,l,r)):Pe,ai(1),t?Vm(n):kN(()=>new Bm))}function qh(e,n){return X(n)?bt(e,n,1):bt(e,1)}function _u(e){return zn((n,t)=>{let l,r=null,i=!1;r=n.subscribe(An(t,void 0,void 0,c=>{l=nr(e(c,_u(e)(n))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function iw(e){return e<=0?()=>Xn:zn((n,t)=>{let r=[];n.subscribe(An(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ow(e){return zn((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const $t="primary",Kh=Symbol("RouteTitle");class oG{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _d(e){return new oG(e)}function aG(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let l=0;l<r.length;l++){const c=r[l],p=e[l];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ba(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!FN(e[i],n[i]))return!1;return!0}function FN(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,l)=>r[l]===i)}return e===n}function LN(e){return e.length>0?e[e.length-1]:null}function pl(e){return function JU(e){return!!e&&(e instanceof at||X(e.lift)&&X(e.subscribe))}(e)?e:sh(e)?lr(Promise.resolve(e)):yt(e)}const lG={exact:function HN(e,n,t){if(!bu(e.segments,n.segments)||!Hm(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!HN(e.children[r],n.children[r],t))return!1;return!0},subset:$N},BN={exact:function uG(e,n){return Ba(e,n)},subset:function cG(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>FN(e[t],n[t]))},ignored:()=>!0};function VN(e,n,t){return lG[t.paths](e.root,n.root,t.matrixParams)&&BN[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function $N(e,n,t){return jN(e,n,n.segments,t)}function jN(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!bu(i,t)||n.hasChildren()||!Hm(i,t,r))}if(e.segments.length===t.length){if(!bu(e.segments,t)||!Hm(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!$N(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),l=t.slice(e.segments.length);return!!(bu(e.segments,i)&&Hm(e.segments,i,r)&&e.children[$t])&&jN(e.children[$t],n,l,r)}}function Hm(e,n,t){return n.every((r,i)=>BN[t](e[i].parameters,r.parameters))}class bd{constructor(n=new On([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_d(this.queryParams)),this._queryParamMap}toString(){return hG.serialize(this)}}class On{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $m(this)}}class Yh{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_d(this.parameters)),this._parameterMap}toString(){return zN(this)}}function bu(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Zh=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:function(){return new aw},providedIn:"root"})}return e})();class aw{parse(n){const t=new EG(n);return new bd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Qh(n.root,!0)}`,r=function vG(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${jm(t)}=${jm(i)}`).join("&"):`${jm(t)}=${jm(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function pG(e){return encodeURI(e)}(n.fragment)}`:""}`}}const hG=new aw;function $m(e){return e.segments.map(n=>zN(n)).join("/")}function Qh(e,n){if(!e.hasChildren())return $m(e);if(n){const t=e.children[$t]?Qh(e.children[$t],!1):"",r=[];return Object.entries(e.children).forEach(([i,l])=>{i!==$t&&r.push(`${i}:${Qh(l,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function fG(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===$t&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==$t&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===$t?[Qh(e.children[$t],!1)]:[`${i}:${Qh(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[$t]?`${$m(e)}/${t[0]}`:`${$m(e)}/(${t.join("//")})`}}function UN(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jm(e){return UN(e).replace(/%3B/gi,";")}function sw(e){return UN(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Um(e){return decodeURIComponent(e)}function GN(e){return Um(e.replace(/\+/g,"%20"))}function zN(e){return`${sw(e.path)}${function gG(e){return Object.keys(e).map(n=>`;${sw(n)}=${sw(e[n])}`).join("")}(e.parameters)}`}const mG=/^[^\/()?;#]+/;function lw(e){const n=e.match(mG);return n?n[0]:""}const yG=/^[^\/()?;=#]+/,bG=/^[^=?&#]+/,DG=/^[^&#]+/;class EG{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[$t]=new On(n,t)),r}parseSegment(){const n=lw(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Ne(4009,!1);return this.capture(n),new Yh(Um(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function _G(e){const n=e.match(yG);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=lw(this.remaining);i&&(r=i,this.capture(r))}n[Um(t)]=Um(r)}parseQueryParam(n){const t=function wG(e){const n=e.match(bG);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function CG(e){const n=e.match(DG);return n?n[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=GN(t),l=GN(r);if(n.hasOwnProperty(i)){let c=n[i];Array.isArray(c)||(c=[c],n[i]=c),c.push(l)}else n[i]=l}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ne(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):n&&(l=$t);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[$t]:new On([],c),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Ne(4011,!1)}}function WN(e){return e.segments.length>0?new On([],{[$t]:e}):e}function qN(e){const n={};for(const r of Object.keys(e.children)){const l=qN(e.children[r]);if(r===$t&&0===l.segments.length&&l.hasChildren())for(const[c,p]of Object.entries(l.children))n[c]=p;else(l.segments.length>0||l.hasChildren())&&(n[r]=l)}return function SG(e){if(1===e.numberOfChildren&&e.children[$t]){const n=e.children[$t];return new On(e.segments.concat(n.segments),n.children)}return e}(new On(e.segments,n))}function wu(e){return e instanceof bd}function KN(e){let n;const i=WN(function t(l){const c={};for(const y of l.children){const w=t(y);c[y.outlet]=w}const p=new On(l.url,c);return l===e&&(n=p),p}(e.root));return n??i}function YN(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return uw(i,i,i,t,r);const l=function MG(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new QN(!0,0,e);let n=0,t=!1;const r=e.reduce((i,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Object.entries(l.outlets).forEach(([y,w])=>{p[y]="string"==typeof w?w.split("/"):w}),[...i,{outlets:p}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===c?(l.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?n++:""!=p&&i.push(p))}),i):[...i,l]},[]);return new QN(t,n,r)}(n);if(l.toRoot())return uw(i,i,new On([],{}),t,r);const c=function IG(e,n,t){if(e.isAbsolute)return new zm(n,!0,0);if(!t)return new zm(n,!1,NaN);if(null===t.parent)return new zm(t,!0,0);const r=Gm(e.commands[0])?0:1;return function xG(e,n,t){let r=e,i=n,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Ne(4005,!1);i=r.segments.length}return new zm(r,!1,i-l)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(l,i,e),p=c.processChildren?Jh(c.segmentGroup,c.index,l.commands):XN(c.segmentGroup,c.index,l.commands);return uw(i,c.segmentGroup,p,t,r)}function Gm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xh(e){return"object"==typeof e&&null!=e&&e.outlets}function uw(e,n,t,r,i){let c,l={};r&&Object.entries(r).forEach(([y,w])=>{l[y]=Array.isArray(w)?w.map(S=>`${S}`):`${w}`}),c=e===n?t:ZN(e,n,t);const p=WN(qN(c));return new bd(p,l,i)}function ZN(e,n,t){const r={};return Object.entries(e.children).forEach(([i,l])=>{r[i]=l===n?t:ZN(l,n,t)}),new On(e.segments,r)}class QN{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Gm(r[0]))throw new Ne(4003,!1);const i=r.find(Xh);if(i&&i!==LN(r))throw new Ne(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zm{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function XN(e,n,t){if(e||(e=new On([],{})),0===e.segments.length&&e.hasChildren())return Jh(e,n,t);const r=function OG(e,n,t){let r=0,i=n;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return l;const c=e.segments[i],p=t[r];if(Xh(p))break;const y=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!eO(y,w,c))return l;r+=2}else{if(!eO(y,{},c))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const l=new On(e.segments.slice(0,r.pathIndex),{});return l.children[$t]=new On(e.segments.slice(r.pathIndex),e.children),Jh(l,0,i)}return r.match&&0===i.length?new On(e.segments,{}):r.match&&!e.hasChildren()?cw(e,n,t):r.match?Jh(e,0,i):cw(e,n,t)}function Jh(e,n,t){if(0===t.length)return new On(e.segments,{});{const r=function NG(e){return Xh(e[0])?e[0].outlets:{[$t]:e}}(t),i={};if(Object.keys(r).some(l=>l!==$t)&&e.children[$t]&&1===e.numberOfChildren&&0===e.children[$t].segments.length){const l=Jh(e.children[$t],n,t);return new On(e.segments,l.children)}return Object.entries(r).forEach(([l,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[l]=XN(e.children[l],n,c))}),Object.entries(e.children).forEach(([l,c])=>{void 0===r[l]&&(i[l]=c)}),new On(e.segments,i)}}function cw(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const l=t[i];if(Xh(l)){const y=AG(l.outlets);return new On(r,y)}if(0===i&&Gm(t[0])){r.push(new Yh(e.segments[n].path,JN(t[0]))),i++;continue}const c=Xh(l)?l.outlets[$t]:`${l}`,p=i<t.length-1?t[i+1]:null;c&&p&&Gm(p)?(r.push(new Yh(c,JN(p))),i+=2):(r.push(new Yh(c,{})),i++)}return new On(r,{})}function AG(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=cw(new On([],{}),0,r))}),n}function JN(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function eO(e,n,t){return e==t.path&&Ba(n,t.parameters)}const ep="imperative";class Va{constructor(n,t){this.id=n,this.url=t}}class Wm extends Va{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gl extends Va{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tp extends Va{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wd extends Va{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class qm extends Va{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tO extends Va{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RG extends Va{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PG extends Va{constructor(n,t,r,i,l){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kG extends Va{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FG extends Va{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LG{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BG{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class VG{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HG{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $G{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jG{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nO{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dw{}class fw{constructor(n){this.url=n}}class UG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new np,this.attachRef=null}}let np=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new UG,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class rO{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=hw(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=hw(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=pw(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return pw(n,this._root).map(t=>t.value)}}function hw(e,n){if(e===n.value)return n;for(const t of n.children){const r=hw(e,t);if(r)return r}return null}function pw(e,n){if(e===n.value)return[n];for(const t of n.children){const r=pw(e,t);if(r.length)return r.unshift(n),r}return[]}class hs{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dd(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class iO extends rO{constructor(n,t){super(n),this.snapshot=t,gw(this,n)}toString(){return this.snapshot.toString()}}function oO(e,n){const t=function GG(e,n){const c=new Km([],{},{},"",{},$t,n,null,{});return new sO("",new hs(c,[]))}(0,n),r=new Ir([new Yh("",{})]),i=new Ir({}),l=new Ir({}),c=new Ir({}),p=new Ir(""),y=new Cd(r,i,c,p,l,$t,n,t.root);return y.snapshot=t.root,new iO(new hs(y,[]),t)}class Cd{constructor(n,t,r,i,l,c,p,y){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=l,this.outlet=c,this.component=p,this._futureSnapshot=y,this.title=this.dataSubject?.pipe(Ut(w=>w[Kh]))??yt(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ut(n=>_d(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ut(n=>_d(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aO(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function zG(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Km{get title(){return this.data?.[Kh]}constructor(n,t,r,i,l,c,p,y,w){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=p,this.routeConfig=y,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_d(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_d(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sO extends rO{constructor(n,t){super(t),this.url=n,gw(this,t)}toString(){return lO(this._root)}}function gw(e,n){n.value._routerState=e,n.children.forEach(t=>gw(e,t))}function lO(e){const n=e.children.length>0?` { ${e.children.map(lO).join(", ")} } `:"";return`${e.value}${n}`}function vw(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ba(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ba(n.params,t.params)||e.paramsSubject.next(t.params),function sG(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ba(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Ba(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function mw(e,n){const t=Ba(e.params,n.params)&&function dG(e,n){return bu(e,n)&&e.every((t,r)=>Ba(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||mw(e.parent,n.parent))}let yw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=je(np),this.location=je(xo),this.changeDetector=je(Qo),this.environmentInjector=je(Wi),this.inputBinder=je(Ym,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ne(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ne(4013,!1);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new WG(t,p,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wt]})}return e})();class WG{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Cd?this.route:n===np?this.childContexts:this.parent.get(n,t)}}const Ym=new We("");let uO=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=nw([r.queryParams,r.params,r.data]).pipe(Xi(([l,c,p],y)=>(p={...l,...c,...p},0===y?yt(p):Promise.resolve(p)))).subscribe(l=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const c=function jL(e){const n=en(e);if(!n)return null;const t=new th(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(c)for(const{templateName:p}of c.inputs)t.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();function rp(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function KG(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return rp(e,r,i);return rp(e,r)})}(e,n,t);return new hs(r,i)}{if(e.shouldAttach(n.value)){const l=e.retrieve(n.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(p=>rp(e,p)),c}}const r=function YG(e){return new Cd(new Ir(e.url),new Ir(e.params),new Ir(e.queryParams),new Ir(e.fragment),new Ir(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(l=>rp(e,l));return new hs(r,i)}}const _w="ngNavigationCancelingError";function cO(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=wu(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=dO(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function dO(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[_w]=!0,r.cancellationCode=n,t&&(r.url=t),r}function fO(e){return e&&e[_w]}let hO=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Vr({type:e,selectors:[["ng-component"]],standalone:!0,features:[Io],decls:1,vars:0,template:function(r,i){1&r&&ii(0,"router-outlet")},dependencies:[yw],encapsulation:2})}return e})();function bw(e){const n=e.children&&e.children.map(bw),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=hO),t}function ra(e){return e.outlet||$t}function ip(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class r4{constructor(n,t,r,i,l){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=l}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),vw(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Dd(t);n.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,i[c],r),delete i[c]}),Object.values(i).forEach(l=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(n,t,r){const i=n.value,l=t?t.value:null;if(i===l)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(n,t,c.children)}else this.deactivateChildRoutes(n,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,l=Dd(n);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:p})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,l=Dd(n);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Dd(t);n.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new jG(l.value.snapshot))}),n.children.length&&this.forwardEvent(new HG(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,l=t?t.value:null;if(vw(i),i===l)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,c.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),vw(p.route.value),this.activateChildRoutes(n,null,c.children)}else{const p=ip(i.snapshot);c.attachRef=null,c.route=i,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,r)}}class pO{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Zm{constructor(n,t){this.component=n,this.route=t}}function i4(e,n,t){const r=e._root;return op(r,n?n._root:null,t,[r.value])}function Ed(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function Ny(e){return null!==Vu(e)}(e)?n.get(e):e:r}function op(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Dd(n);return e.children.forEach(c=>{(function a4(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=e.value,c=n?n.value:null,p=t?t.getContext(e.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const y=function s4(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!bu(e.url,n.url);case"pathParamsOrQueryParamsChange":return!bu(e.url,n.url)||!Ba(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mw(e,n)||!Ba(e.queryParams,n.queryParams);default:return!mw(e,n)}}(c,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new pO(r)):(l.data=c.data,l._resolvedData=c._resolvedData),op(e,n,l.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Zm(p.outlet.component,c))}else c&&ap(n,p,i),i.canActivateChecks.push(new pO(r)),op(e,null,l.component?p?p.children:null:t,r,i)})(c,l[c.value.outlet],t,r.concat([c.value]),i),delete l[c.value.outlet]}),Object.entries(l).forEach(([c,p])=>ap(p,t.getContext(c),i)),i}function ap(e,n,t){const r=Dd(e),i=e.value;Object.entries(r).forEach(([l,c])=>{ap(c,i.component?n?n.children.getContext(l):null:n,t)}),t.canDeactivateChecks.push(new Zm(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function sp(e){return"function"==typeof e}function gO(e){return e instanceof Bm||"EmptyError"===e?.name}const Qm=Symbol("INITIAL_VALUE");function Sd(){return Xi(e=>nw(e.map(n=>n.pipe(ai(1),function jM(...e){const n=Pi(e);return zn((t,r)=>{(n?Th(e,t,n):Th(e,t)).subscribe(r)})}(Qm)))).pipe(Ut(n=>{for(const t of n)if(!0!==t){if(t===Qm)return Qm;if(!1===t||t instanceof bd)return t}return!0}),Kr(n=>n!==Qm),ai(1)))}function vO(e){return function sn(...e){return Jt(e)}(Yr(n=>{if(wu(n))throw cO(0,n)}),Ut(n=>!0===n))}class Xm{constructor(n){this.segmentGroup=n||null}}class mO{constructor(n){this.urlTree=n}}function Td(e){return Wh(new Xm(e))}function yO(e){return Wh(new mO(e))}class M4{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new Ne(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return yt(r);if(i.numberOfChildren>1||!i.children[$t])return Wh(new Ne(4e3,!1));i=i.children[$t]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const l=this.createSegmentGroup(n,t.root,r,i);return new bd(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,l])=>{if("string"==typeof l&&l.startsWith(":")){const p=l.substring(1);r[i]=t[p]}else r[i]=l}),r}createSegmentGroup(n,t,r,i){const l=this.createSegments(n,t.segments,r,i);let c={};return Object.entries(t.children).forEach(([p,y])=>{c[p]=this.createSegmentGroup(n,y,r,i)}),new On(l,c)}createSegments(n,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(n,l,i):this.findOrReturn(l,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new Ne(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const ww={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function I4(e,n,t,r,i){const l=Dw(e,n,t);return l.matched?(r=function QG(e,n){return e.providers&&!e._injector&&(e._injector=Z_(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function E4(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?yt(i.map(c=>{const p=Ed(c,e);return pl(function h4(e){return e&&sp(e.canMatch)}(p)?p.canMatch(n,t):e.runInContext(()=>p(n,t)))})).pipe(Sd(),vO()):yt(!0)}(r,n,t).pipe(Ut(c=>!0===c?l:{...ww}))):yt(l)}function Dw(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...ww}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||aG)(t,e,n);if(!i)return{...ww};const l={};Object.entries(i.posParams??{}).forEach(([p,y])=>{l[p]=y.path});const c=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function _O(e,n,t,r){return t.length>0&&function O4(e,n,t){return t.some(r=>Jm(e,n,r)&&ra(r)!==$t)}(e,t,r)?{segmentGroup:new On(n,N4(r,new On(t,e.children))),slicedSegments:[]}:0===t.length&&function A4(e,n,t){return t.some(r=>Jm(e,n,r))}(e,t,r)?{segmentGroup:new On(e.segments,x4(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new On(e.segments,e.children),slicedSegments:t}}function x4(e,n,t,r,i){const l={};for(const c of r)if(Jm(e,t,c)&&!i[ra(c)]){const p=new On([],{});l[ra(c)]=p}return{...i,...l}}function N4(e,n){const t={};t[$t]=n;for(const r of e)if(""===r.path&&ra(r)!==$t){const i=new On([],{});t[ra(r)]=i}return t}function Jm(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class F4{constructor(n,t,r,i,l,c,p){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=l,this.paramsInheritanceStrategy=c,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new M4(this.urlSerializer,this.urlTree)}noMatchError(n){return new Ne(4002,!1)}recognize(){const n=_O(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,$t).pipe(_u(t=>{if(t instanceof mO)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Xm?this.noMatchError(t):t}),Ut(t=>{const r=new Km([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,{}),i=new hs(r,t),l=new sO("",i),c=function TG(e,n,t=null,r=null){return YN(KN(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(l._root),{state:l,tree:c}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,$t).pipe(_u(r=>{throw r instanceof Xm?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=aO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return lr(i).pipe(qh(l=>{const c=r.children[l],p=function t4(e,n){const t=e.filter(r=>ra(r)===n);return t.push(...e.filter(r=>ra(r)!==n)),t}(t,l);return this.processSegmentGroup(n,p,c,l)}),function rG(e,n){return zn(function nG(e,n,t,r,i){return(l,c)=>{let p=t,y=n,w=0;l.subscribe(An(c,S=>{const x=w++;y=p?e(y,S,x):(p=!0,S),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}(e,n,arguments.length>=2,!0))}((l,c)=>(l.push(...c),l)),Vm(null),function iG(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Kr((i,l)=>e(i,l,r)):Pe,iw(1),t?Vm(n):kN(()=>new Bm))}(),bt(l=>{if(null===l)return Td(r);const c=bO(l);return function L4(e){e.sort((n,t)=>n.value.outlet===$t?-1:t.value.outlet===$t?1:n.value.outlet.localeCompare(t.value.outlet))}(c),yt(c)}))}processSegment(n,t,r,i,l,c){return lr(t).pipe(qh(p=>this.processSegmentAgainstRoute(p._injector??n,t,p,r,i,l,c).pipe(_u(y=>{if(y instanceof Xm)return yt(null);throw y}))),yu(p=>!!p),_u(p=>{if(gO(p))return function P4(e,n,t){return 0===n.length&&!e.children[t]}(r,i,l)?yt([]):Td(r);throw p}))}processSegmentAgainstRoute(n,t,r,i,l,c,p){return function R4(e,n,t,r){return!!(ra(e)===r||r!==$t&&Jm(n,t,e))&&("**"===e.path||Dw(n,e,t).matched)}(r,i,l,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,l,c,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,l,c):Td(i):Td(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,l,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const l=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yO(l):this.applyRedirects.lineralizeSegments(r,l).pipe(bt(c=>{const p=new On(c,{});return this.processSegment(n,t,p,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,l,c){const{matched:p,consumedSegments:y,remainingSegments:w,positionalParamSegments:S}=Dw(t,i,l);if(!p)return Td(t);const x=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,S);return i.redirectTo.startsWith("/")?yO(x):this.applyRedirects.lineralizeSegments(i,x).pipe(bt(A=>this.processSegment(n,r,t,A.concat(w),c,!1)))}matchSegmentAgainstRoute(n,t,r,i,l,c){let p;if("**"===r.path){const y=i.length>0?LN(i).parameters:{};p=yt({snapshot:new Km(i,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wO(r),ra(r),r.component??r._loadedComponent??null,r,DO(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else p=I4(t,r,i,n).pipe(Ut(({matched:y,consumedSegments:w,remainingSegments:S,parameters:x})=>y?{snapshot:new Km(w,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wO(r),ra(r),r.component??r._loadedComponent??null,r,DO(r)),consumedSegments:w,remainingSegments:S}:null));return p.pipe(Xi(y=>null===y?Td(t):this.getChildConfig(n=r._injector??n,r,i).pipe(Xi(({routes:w})=>{const S=r._loadedInjector??n,{snapshot:x,consumedSegments:A,remainingSegments:L}=y,{segmentGroup:K,slicedSegments:J}=_O(t,A,L,w);if(0===J.length&&K.hasChildren())return this.processChildren(S,w,K).pipe(Ut(pe=>null===pe?null:[new hs(x,pe)]));if(0===w.length&&0===J.length)return yt([new hs(x,[])]);const re=ra(r)===l;return this.processSegment(S,w,K,J,re?$t:l,!0).pipe(Ut(pe=>[new hs(x,pe)]))}))))}getChildConfig(n,t,r){return t.children?yt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?yt({routes:t._loadedRoutes,injector:t._loadedInjector}):function C4(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?yt(!0):yt(i.map(c=>{const p=Ed(c,e);return pl(function u4(e){return e&&sp(e.canLoad)}(p)?p.canLoad(n,t):e.runInContext(()=>p(n,t)))})).pipe(Sd(),vO())}(n,t,r).pipe(bt(i=>i?this.configLoader.loadChildren(n,t).pipe(Yr(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function T4(e){return Wh(dO(!1,3))}())):yt({routes:[],injector:n})}}function B4(e){const n=e.value.routeConfig;return n&&""===n.path}function bO(e){const n=[],t=new Set;for(const r of e){if(!B4(r)){n.push(r);continue}const i=n.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=bO(r.children);n.push(new hs(r.value,i))}return n.filter(r=>!t.has(r))}function wO(e){return e.data||{}}function DO(e){return e.resolve||{}}function H4(e,n){return bt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return yt(t);let l=0;return lr(i).pipe(qh(c=>function $4(e,n,t,r){const i=e.routeConfig,l=e._resolve;return void 0!==i?.title&&!CO(i)&&(l[Kh]=i.title),function j4(e,n,t,r){const i=function U4(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return yt({});const l={};return lr(i).pipe(bt(c=>function G4(e,n,t,r){const i=ip(n)??r,l=Ed(e,i);return pl(l.resolve?l.resolve(n,t):i.runInContext(()=>l(n,t)))}(e[c],n,t,r).pipe(yu(),Yr(p=>{l[c]=p}))),iw(1),function HM(e){return Ut(()=>e)}(l),_u(c=>gO(c)?Xn:Wh(c)))}(l,e,n,r).pipe(Ut(c=>(e._resolvedData=c,e.data=aO(e,t).resolve,i&&CO(i)&&(e.data[Kh]=i.title),null)))}(c.route,r,e,n)),Yr(()=>l++),iw(1),bt(c=>l===i.length?yt(t):Xn))})}function CO(e){return"string"==typeof e.title||null===e.title}function Cw(e){return Xi(n=>{const t=e(n);return t?lr(t).pipe(Ut(()=>n)):yt(n)})}const Md=new We("ROUTES");let Ew=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=je(cT)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return yt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=pl(t.loadComponent()).pipe(Ut(EO),Yr(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),ow(()=>{this.componentLoaders.delete(t)})),i=new PN(r,()=>new jt).pipe(rw());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return yt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=function z4(e,n,t,r){return pl(e.loadChildren()).pipe(Ut(EO),bt(i=>i instanceof _S||Array.isArray(i)?yt(i):lr(n.compileModuleAsync(i))),Ut(i=>{r&&r(e);let l,c,p=!1;return Array.isArray(i)?(c=i,!0):(l=i.create(t).injector,c=l.get(Md,[],{optional:!0,self:!0}).flat()),{routes:c.map(bw),injector:l}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(ow(()=>{this.childrenLoaders.delete(r)})),c=new PN(l,()=>new jt).pipe(rw());return this.childrenLoaders.set(r,c),c}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EO(e){return function W4(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let ey=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jt,this.transitionAbortSubject=new jt,this.configLoader=je(Ew),this.environmentInjector=je(Wi),this.urlSerializer=je(Zh),this.rootContexts=je(np),this.inputBindingEnabled=null!==je(Ym,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>yt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new BG(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new LG(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Ir({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ep,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kr(l=>0!==l.id),Ut(l=>({...l,extractedUrl:t.urlHandlingStrategy.extract(l.rawUrl)})),Xi(l=>{this.currentTransition=l;let c=!1,p=!1;return yt(l).pipe(Yr(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xi(y=>{const w=y.currentBrowserUrl.toString(),S=!t.navigated||y.extractedUrl.toString()!==w||w!==y.currentUrlTree.toString();if(!S&&"reload"!==(y.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const A="";return this.events.next(new wd(y.id,this.urlSerializer.serialize(y.rawUrl),A,0)),y.resolve(null),Xn}if(t.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return yt(y).pipe(Xi(A=>{const L=this.transitions?.getValue();return this.events.next(new Wm(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),L!==this.transitions?.getValue()?Xn:Promise.resolve(A)}),function V4(e,n,t,r,i,l){return bt(c=>function k4(e,n,t,r,i,l,c="emptyOnly"){return new F4(e,n,t,r,i,c,l).recognize()}(e,n,t,r,c.extractedUrl,i,l).pipe(Ut(({state:p,tree:y})=>({...c,targetSnapshot:p,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Yr(A=>{l.targetSnapshot=A.targetSnapshot,l.urlAfterRedirects=A.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects};const L=new tO(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(L)}));if(S&&t.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:A,extractedUrl:L,source:K,restoredState:J,extras:re}=y,pe=new Wm(A,this.urlSerializer.serialize(L),K,J);this.events.next(pe);const ne=oO(0,this.rootComponentType).snapshot;return this.currentTransition=l={...y,targetSnapshot:ne,urlAfterRedirects:L,extras:{...re,skipLocationChange:!1,replaceUrl:!1}},yt(l)}{const A="";return this.events.next(new wd(y.id,this.urlSerializer.serialize(y.extractedUrl),A,1)),y.resolve(null),Xn}}),Yr(y=>{const w=new RG(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}),Ut(y=>(this.currentTransition=l={...y,guards:i4(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},l)),function g4(e,n){return bt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?yt({...t,guardsResult:!0}):function v4(e,n,t,r){return lr(e).pipe(bt(i=>function D4(e,n,t,r,i){const l=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return l&&0!==l.length?yt(l.map(p=>{const y=ip(n)??i,w=Ed(p,y);return pl(function f4(e){return e&&sp(e.canDeactivate)}(w)?w.canDeactivate(e,n,t,r):y.runInContext(()=>w(e,n,t,r))).pipe(yu())})).pipe(Sd()):yt(!0)}(i.component,i.route,t,n,r)),yu(i=>!0!==i,!0))}(c,r,i,e).pipe(bt(p=>p&&function l4(e){return"boolean"==typeof e}(p)?function m4(e,n,t,r){return lr(n).pipe(qh(i=>Th(function _4(e,n){return null!==e&&n&&n(new VG(e)),yt(!0)}(i.route.parent,r),function y4(e,n){return null!==e&&n&&n(new $G(e)),yt(!0)}(i.route,r),function w4(e,n,t){const r=n[n.length-1],l=n.slice(0,n.length-1).reverse().map(c=>function o4(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(c)).filter(c=>null!==c).map(c=>RN(()=>yt(c.guards.map(y=>{const w=ip(c.node)??t,S=Ed(y,w);return pl(function d4(e){return e&&sp(e.canActivateChild)}(S)?S.canActivateChild(r,e):w.runInContext(()=>S(r,e))).pipe(yu())})).pipe(Sd())));return yt(l).pipe(Sd())}(e,i.path,t),function b4(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const i=r.map(l=>RN(()=>{const c=ip(n)??t,p=Ed(l,c);return pl(function c4(e){return e&&sp(e.canActivate)}(p)?p.canActivate(n,e):c.runInContext(()=>p(n,e))).pipe(yu())}));return yt(i).pipe(Sd())}(e,i.route,t))),yu(i=>!0!==i,!0))}(r,l,e,n):yt(p)),Ut(p=>({...t,guardsResult:p})))})}(this.environmentInjector,y=>this.events.next(y)),Yr(y=>{if(l.guardsResult=y.guardsResult,wu(y.guardsResult))throw cO(0,y.guardsResult);const w=new PG(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(w)}),Kr(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",3),!1)),Cw(y=>{if(y.guards.canActivateChecks.length)return yt(y).pipe(Yr(w=>{const S=new kG(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(S)}),Xi(w=>{let S=!1;return yt(w).pipe(H4(t.paramsInheritanceStrategy,this.environmentInjector),Yr({next:()=>S=!0,complete:()=>{S||this.cancelNavigationTransition(w,"",2)}}))}),Yr(w=>{const S=new FG(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(S)}))}),Cw(y=>{const w=S=>{const x=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(S.routeConfig).pipe(Yr(A=>{S.component=A}),Ut(()=>{})));for(const A of S.children)x.push(...w(A));return x};return nw(w(y.targetSnapshot.root)).pipe(Vm(),ai(1))}),Cw(()=>this.afterPreactivation()),Ut(y=>{const w=function qG(e,n,t){const r=rp(e,n._root,t?t._root:void 0);return new iO(r,n)}(t.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=l={...y,targetRouterState:w},l}),Yr(()=>{this.events.next(new dw)}),((e,n,t,r)=>Ut(i=>(new r4(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),ai(1),Yr({next:y=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gl(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),t.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{c=!0}}),ar(this.transitionAbortSubject.pipe(Yr(y=>{throw y}))),ow(()=>{c||p||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),_u(y=>{if(p=!0,fO(y))this.events.next(new tp(l.id,this.urlSerializer.serialize(l.extractedUrl),y.message,y.cancellationCode)),function ZG(e){return fO(e)&&wu(e.url)}(y)?this.events.next(new fw(y.url)):l.resolve(!1);else{this.events.next(new qm(l.id,this.urlSerializer.serialize(l.extractedUrl),y,l.targetSnapshot??void 0));try{l.resolve(t.errorHandler(y))}catch(w){l.reject(w)}}return Xn}))}))}cancelNavigationTransition(t,r,i){const l=new tp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(l),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SO(e){return e!==ep}let TO=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===$t);return r}getResolvedTitleForRoute(t){return t.data[Kh]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:function(){return je(q4)},providedIn:"root"})}return e})(),q4=(()=>{class e extends TO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(NM))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),K4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:function(){return je(Z4)},providedIn:"root"})}return e})();class Y4{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let Z4=(()=>{class e extends Y4{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(e)))(i||e)}}();static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ty=new We("",{providedIn:"root",factory:()=>({})});let Q4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:function(){return je(X4)},providedIn:"root"})}return e})(),X4=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(lp||{});function MO(e,n){e.events.pipe(Kr(t=>t instanceof gl||t instanceof tp||t instanceof qm||t instanceof wd),Ut(t=>t instanceof gl||t instanceof wd?lp.COMPLETE:t instanceof tp&&(0===t.code||1===t.code)?lp.REDIRECTING:lp.FAILED),Kr(t=>t!==lp.REDIRECTING),ai(1)).subscribe(()=>{n()})}function J4(e){throw e}function ez(e,n,t){return n.parse("/")}const tz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=je(lT),this.isNgZoneEnabled=!1,this._events=new jt,this.options=je(ty,{optional:!0})||{},this.pendingTasks=je(uT),this.errorHandler=this.options.errorHandler||J4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ez,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=je(Q4),this.routeReuseStrategy=je(K4),this.titleStrategy=je(TO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=je(Md,{optional:!0})?.flat()??[],this.navigationTransitions=je(ey),this.urlSerializer=je(Zh),this.location=je(Nb),this.componentInputBindingEnabled=!!je(Ym,{optional:!0}),this.eventsSubscription=new Se,this.isNgZoneEnabled=je(on)instanceof on&&on.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(IO(r)&&this._events.next(r));if(r instanceof Wm)SO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof wd)this.rawUrlTree=i.rawUrl;else if(r instanceof tO){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(l,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof dw)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof tp)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof fw){const l=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||SO(i.source)};this.scheduleNavigation(l,ep,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof qm&&this.restoreHistory(i,!0),r instanceof gl&&(this.navigated=!0),IO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ep,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const l={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(bw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:c;let x,S=null;switch(p){case"merge":S={...this.currentUrlTree.queryParams,...l};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=l||null}null!==S&&(S=this.removeEmptyProps(S));try{x=KN(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return YN(x,t,S,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=wu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,ep,null,r)}navigate(t,r={skipLocationChange:!1}){return function rz(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new Ne(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...tz}:!1===r?{...nz}:r,wu(t))return VN(this.currentUrlTree,t,i);const l=this.parseUrl(t);return VN(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}scheduleNavigation(t,r,i,l,c){if(this.disposed)return Promise.resolve(!1);let p,y,w;c?(p=c.resolve,y=c.reject,w=c.promise):w=new Promise((x,A)=>{p=x,y=A});const S=this.pendingTasks.add();return MO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:l,resolve:p,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",l)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IO(e){return!(e instanceof dw||e instanceof fw)}class xO{}let az=(()=>{class e{constructor(t,r,i,l,c){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Kr(t=>t instanceof gl),qh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=Z_(l.providers,t,`Route: ${l.path}`));const c=l._injector??t,p=l._loadedInjector??c;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&i.push(this.preloadConfig(c,l)),(l.children||l._loadedRoutes)&&i.push(this.processRoutes(p,l.children??l._loadedRoutes))}return lr(i).pipe(_s())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):yt(null);const l=i.pipe(bt(c=>null===c?yt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));return r.loadComponent&&!r._loadedComponent?lr([l,this.loader.loadComponent(r)]).pipe(_s()):l})}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Oi),Qe(cT),Qe(Wi),Qe(xO),Qe(Ew))};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Tw=new We("");let NO=(()=>{class e{constructor(t,r,i,l,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=l,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gl?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function lC(){throw new Error("invalid")}()};static#t=this.\u0275prov=qe({token:e,factory:e.\u0275fac})}return e})();function ps(e,n){return{\u0275kind:e,\u0275providers:n}}function AO(){const e=je(ri);return n=>{const t=e.get(ol);if(n!==t.components[0])return;const r=e.get(Oi),i=e.get(RO);1===e.get(Mw)&&r.initialNavigation(),e.get(PO,null,Ht.Optional)?.setUpPreloading(),e.get(Tw,null,Ht.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const RO=new We("",{factory:()=>new jt}),Mw=new We("",{providedIn:"root",factory:()=>1}),PO=new We("");function cz(e){return ps(0,[{provide:PO,useExisting:az},{provide:xO,useExisting:e}])}const kO=new We("ROUTER_FORROOT_GUARD"),fz=[Nb,{provide:Zh,useClass:aw},Oi,np,{provide:Cd,useFactory:function OO(e){return e.routerState.root},deps:[Oi]},Ew,[]];function hz(){return new mT("Router",Oi)}let FO=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[fz,[],{provide:Md,multi:!0,useValue:t},{provide:kO,useFactory:mz,deps:[[Oi,new wc,new Dc]]},{provide:ty,useValue:r||{}},r?.useHash?{provide:au,useClass:qL}:{provide:au,useClass:qT},{provide:Tw,useFactory:()=>{const e=je(dV),n=je(on),t=je(ty),r=je(ey),i=je(Zh);return t.scrollOffset&&e.setOffset(t.scrollOffset),new NO(i,r,e,n,t)}},r?.preloadingStrategy?cz(r.preloadingStrategy).\u0275providers:[],{provide:mT,multi:!0,useFactory:hz},r?.initialNavigation?yz(r):[],r?.bindToComponentInputs?ps(8,[uO,{provide:Ym,useExisting:uO}]).\u0275providers:[],[{provide:LO,useFactory:AO},{provide:_b,multi:!0,useExisting:LO}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Md,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(kO,8))};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({})}return e})();function mz(e){return"guarded"}function yz(e){return["disabled"===e.initialNavigation?ps(3,[{provide:db,multi:!0,useFactory:()=>{const n=je(Oi);return()=>{n.setUpLocationChangeListener()}}},{provide:Mw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ps(2,[{provide:Mw,useValue:0},{provide:db,multi:!0,deps:[ri],useFactory:n=>{const t=n.get(zL,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Oi),l=n.get(RO);MO(i,()=>{r(!0)}),n.get(ey).afterPreactivation=()=>(r(!0),l.closed?yt(void 0):l),i.initialNavigation()}))}}]).\u0275providers:[]]}const LO=new We("");var bz=Y(6100);class BO{constructor(){}setEdge(n,t,r){this.source=n,this.target=t,this.capacity=r,this.flow=0}addFlowByNum(n){this.flow+=n}setEdgeValue(n,t){this.flow=n,this.capacity=t}}class wz{constructor(){this.adjMatrix=[],this.currentPath=[],this.verticesConsidered=[]}initMatrix(n){for(var t=0;t<=n;t++){this.adjMatrix[t]=[];for(var r=0;r<=n;r++)this.adjMatrix[t][r]=void 0}}isEdgeExist(n,t){return null!=this.adjMatrix[n][t]}addEdge(n,t,r){let i=n.id,l=t.id;return i!=l&&(this.adjMatrix[i][l]=new BO,this.adjMatrix[i][l].setEdge(n,t,r),this.isEdgeExist(l,i)||(this.adjMatrix[l][i]=new BO,this.adjMatrix[l][i].setEdge(t,n,0)),!0)}areTwoNodesConnected(n,t){if(n==t)return!1;for(var r=[n],i=[n];r.length;){let l=r.shift(),c=this.adjMatrix[l].filter(p=>null!=p&&p.capacity);for(let p of c)p.capacity>0&&-1==i.indexOf(p.target.id)&&(r.push(p.target.id),i.push(p.target.id))}return i.indexOf(t)>-1}isEdgeInPaths(n,t,r){for(let i of r)if(this.isEdgeOnPath(n,t,i))return!0;return!1}isEdgeOnPath(n,t,r){for(let i=0;i<r.length-1;i++)if(r[i].id==n&&r[i+1].id==t)return!0;return!1}findPaths(n,t){let r=[],i=[];for(let l=0;l<=this.adjMatrix.length;l++)r[l]=!1;return this.areTwoNodesConnected(n.id,t.id)&&(this.currentPath=[],this.findPathsRecursively(n,t,r,i)),i}findPathsRecursively(n,t,r,i){if(r[n.id])return;if(this.currentPath.push(n),r[n.id]=!0,n.id==t.id)return i.push([...this.currentPath]),r[n.id]=!1,void this.currentPath.pop();let l=this.adjMatrix[n.id].filter(y=>null!=y&&y.capacity);for(var c=0;c<l.length;c++)this.findPathsRecursively(l[c].target,t,r,i);this.currentPath.pop(),r[n.id]=!1}}class Dz{constructor(n,t,r,i){this.id=n,this.x=t,this.y=r,this.name=i}printVertex(){return"Vertex "+this.id}}const Cz=[{id:1,name:1,x:150,y:240},{id:2,name:2,x:250,y:100},{id:3,name:3,x:250,y:200},{id:4,name:4,x:250,y:300},{id:5,name:5,x:250,y:400},{id:6,name:6,x:400,y:100},{id:7,name:7,x:400,y:200},{id:8,name:8,x:400,y:300},{id:9,name:9,x:400,y:400},{id:10,name:10,x:500,y:240},{id:11,name:11,x:580,y:100},{id:12,name:12,x:580,y:400},{id:13,name:13,x:660,y:240}],Ez=[{id:"1-2",label:8,source:1,target:2},{id:"1-3",label:8,source:1,target:3},{id:"1-4",label:8,source:1,target:4},{id:"1-5",label:8,source:1,target:5},{id:"2-6",label:3,source:2,target:6},{id:"3-6",label:4,source:3,target:6},{id:"3-7",label:6,source:3,target:7},{id:"4-8",label:11,source:4,target:8},{id:"5-8",label:2,source:5,target:8},{id:"5-9",label:3,source:5,target:9},{id:"6-11",label:9,source:6,target:11},{id:"6-10",label:5,source:6,target:10},{id:"7-10",label:6,source:7,target:10},{id:"8-10",label:2,source:8,target:10},{id:"8-12",label:1,source:8,target:12},{id:"9-12",label:4,source:9,target:12},{id:"10-11",label:11,source:10,target:11},{id:"10-12",label:2,source:10,target:12},{id:"11-13",label:8,source:11,target:13},{id:"12-13",label:8,source:12,target:13}];class ia{static#e=this.areSourceSinkSet=new Ir(!1);constructor(){this.network=new wz,this.vertices=[],this.panX=-40,this.panY=40,this.zoomLevel=1}nativeGlobal(){return window}makeGraph(){this.cy=bz({container:document.getElementById("cy"),style:[{selector:"node",css:{content:"data(id)","text-valign":"center","text-halign":"center"}},{selector:"edge",css:{"text-margin-y":15,"text-rotation":"autorotate","target-arrow-color":"#ccc","line-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:".selected",css:{"line-color":"#F6B8C8","target-arrow-color":"#F6B8C8"}},{selector:".highlighted",css:{"background-color":"#03A688","line-color":"#F2668B","target-arrow-color":"#F2668B","transition-duration":.5,"transition-property":"background-color, line-color, target-arrow-color"}}],zoom:this.zoomLevel,pan:{x:this.panX,y:this.panY},userPanningEnabled:!1,zoomingEnabled:!1,userZoomingEnabled:!1,selectionType:"single"}),Cz.forEach(n=>{this.addNode(this.cy,n.id,n.name,n.x,n.y),this.vertices.push(new Dz(n.id,n.x,n.y,n.name))}),this.network.initMatrix(this.vertices.length),Ez.forEach(n=>{this.addEdge(this.cy,n.id,n.label,n.source,n.target);let t=this.vertices.filter(i=>i.id==n.source)[0],r=this.vertices.filter(i=>i.id==n.target)[0];this.network.addEdge(t,r,n.label)})}getGraph(){return this.cy}addNode(n,t,r,i,l){n.add({group:"nodes",data:{id:t.toString(),name:r},position:{x:i,y:l},selectable:!0})}addEdge(n,t,r,i,l){n.add({group:"edges",data:{id:t,source:i,target:l},css:{label:"0/"+r.toString()},selectable:!0})}setSourceandSink(n,t){this.sourceNode=this.vertices.filter(r=>r.id==n)[0],this.sinkNode=this.vertices.filter(r=>r.id==t)[0],ia.areSourceSinkSet.next(!0)}resetNodes(){this.cy.nodes().removeClass("highlighted")}removeHighlightedEdges(){this.cy.edges().removeClass("highlighted")}resetEdges(){this.cy.edges().removeClass("selected"),this.cy.edges().removeClass("highlighted")}highlightNode(n){let t=this.cy.nodes("[name="+n+"]");t&&t.length>0&&t[0].addClass("highlighted")}findPathsBetweenSourceAndSink(){this.paths=this.network.findPaths(this.sourceNode,this.sinkNode),this.verticesConsidered=[];for(let n of this.vertices)for(let t of this.paths)null!=t.filter(r=>r.id==n.id)&&t.filter(r=>r.id==n.id).length>0&&this.verticesConsidered.push(n.id);this.verticesConsidered=Array.from(new Set(this.verticesConsidered))}isFlowValid(){if(-1==this.checkFlowAmount(0))return!1;for(let n of this.verticesConsidered)if(n!=this.sourceNode.id&&n!=this.sinkNode.id&&-1==this.checkFlowAmount(n))return!1;return!0}checkFlowAmount(n){let t,r;0!=n?(t=this.network.adjMatrix[n].filter(c=>null!=c&&c.capacity),r=[],this.network.adjMatrix[n].filter(c=>null!=c&&0==c.capacity).forEach(c=>{r.push(this.network.adjMatrix[c.target.id][c.source.id])})):(t=this.network.adjMatrix[this.sourceNode.id].filter(c=>null!=c&&c.capacity),r=[],this.network.adjMatrix[this.sinkNode.id].filter(c=>null!=c&&0==c.capacity).forEach(c=>{r.push(this.network.adjMatrix[c.target.id][c.source.id])}));let i=0,l=0;for(let c of t)i+=+c.flow;for(let c of r)l+=+c.flow;return i==l?i:-1}static#t=this.\u0275fac=function(t){return new(t||ia)};static#n=this.\u0275prov=qe({token:ia,factory:ia.\u0275fac,providedIn:"root"})}class Iw{static checkFlowCapacity(n){return t=>0!=n.getValue()&&n.getValue()<parseInt(t.value)?{checkFlowCapacity:!0}:null}static checkSourceSinkId(n){return t=>parseInt(t.value)>n||parseInt(t.value)<=0?{checkSourceSinkId:!0}:null}}function Sz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter the source node"),xe()())}function Tz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter a number"),xe()())}function Mz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter a number within the range!"),xe()())}function Iz(e,n){if(1&e&&(Ae(0,"div",15),Xe(1,Sz,3,0,"div",16),Xe(2,Tz,3,0,"div",16),Xe(3,Mz,3,0,"div",16),xe()),2&e){const t=vt();ke(1),Ve("ngIf",null==t.source.errors?null:t.source.errors.required),ke(1),Ve("ngIf",null==t.source.errors?null:t.source.errors.pattern),ke(1),Ve("ngIf",null==t.source.errors?null:t.source.errors.checkSourceSinkId)}}function xz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter the sink node."),xe()())}function Nz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter a number."),xe()())}function Oz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter a number within the range!"),xe()())}function Az(e,n){if(1&e&&(Ae(0,"div",15),Xe(1,xz,3,0,"div",16),Xe(2,Nz,3,0,"div",16),Xe(3,Oz,3,0,"div",16),xe()),2&e){const t=vt();ke(1),Ve("ngIf",null==t.sink.errors?null:t.sink.errors.required),ke(1),Ve("ngIf",null==t.sink.errors?null:t.sink.errors.pattern),ke(1),Ve("ngIf",null==t.sink.errors?null:t.sink.errors.checkSourceSinkId)}}const Rz=function(e){return{display:e}};let Pz=(()=>{class e{get source(){return this.graphFormGroup.get("source")}get sink(){return this.graphFormGroup.get("sink")}constructor(t,r,i){this.formBuilder=t,this.graphInitService=r,this.router=i,this.graphFormGroup=this.formBuilder.group({source:new ds("1",[dl.required,dl.pattern("^(0|[1-9][0-9]*)$"),Iw.checkSourceSinkId(this.graphInitService.vertices.length)]),sink:new ds("13",[dl.required,dl.pattern("^(0|[1-9][0-9]*)$"),Iw.checkSourceSinkId(this.graphInitService.vertices.length)])}),this.displayStyle="none"}ngOnInit(){ia.areSourceSinkSet.next(!1)}onSubmit(){this.graphInitService.resetNodes();const t=parseInt(this.graphFormGroup.get("source").value),r=parseInt(this.graphFormGroup.get("sink").value);this.graphInitService.network.areTwoNodesConnected(t,r)?(this.graphInitService.highlightNode(t),this.graphInitService.highlightNode(r),this.graphInitService.setSourceandSink(t,r),this.graphInitService.findPathsBetweenSourceAndSink(),this.router.navigate(["step-two"])):this.displayStyle="block"}closeModal(){this.displayStyle="none"}static#e=this.\u0275fac=function(r){return new(r||e)(Z(ix),Z(ia),Z(Oi))};static#t=this.\u0275cmp=Vr({type:e,selectors:[["app-select-nodes"]],decls:25,vars:7,consts:[["id","graph-input",3,"formGroup","ngSubmit"],[1,"input-wrapper"],[1,"input-field"],["for","source"],["type","text","id","source","formControlName","source"],["class","error-message",4,"ngIf"],[1,"input-field","mt-2"],["type","text","id","sink","formControlName","sink"],["type","submit",1,"fill-btn","mt-3",3,"disabled"],["id","errorModal","tabindex","-1","role","dialog","aria-labelledby","errorModalLabel","aria-hidden","true",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(r,i){1&r&&(Ae(0,"h4"),st(1,"Enter a source node and a sink node"),xe(),Ae(2,"form",0),Vt("ngSubmit",function(){return i.onSubmit()}),Ae(3,"div",1)(4,"div",2)(5,"label",3),st(6,"Source"),xe(),ii(7,"input",4),xe(),Xe(8,Iz,4,3,"div",5),xe(),Ae(9,"div",1)(10,"div",6)(11,"label",3),st(12,"Sink"),xe(),ii(13,"input",7),xe(),Xe(14,Az,4,3,"div",5),xe(),Ae(15,"button",8),st(16," Continue "),xe()(),Ae(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12),st(21," The source and sink are not connected! Please choose another set of vertices. "),xe(),Ae(22,"div",13)(23,"button",14),Vt("click",function(){return i.closeModal()}),st(24,"Close"),xe()()()()()),2&r&&(ke(2),Ve("formGroup",i.graphFormGroup),ke(6),Ve("ngIf",i.source.invalid&&(i.source.touched||i.source.dirty)),ke(6),Ve("ngIf",i.sink.invalid&&(i.sink.touched||i.sink.dirty)),ke(1),Ve("disabled",i.graphFormGroup.invalid),ke(2),Ve("ngStyle",os(5,Rz,i.displayStyle)))},dependencies:[cs,Gb,E1,Ih,h1,p1,Ph,bm]})}return e})();function kz(e,n){if(1&e&&(Ae(0,"p"),st(1),xe()),2&e){const t=n.$implicit,r=vt();ke(1),is(" ",r.printPath(t)," ")}}function Fz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter a flow amount."),xe()())}function Lz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter an integer."),xe()())}function Bz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Flow does not respect capacity constraint!"),xe()())}function Vz(e,n){if(1&e&&(Ae(0,"div",25),Xe(1,Fz,3,0,"div",7),Xe(2,Lz,3,0,"div",7),Xe(3,Bz,3,0,"div",7),xe()),2&e){const t=vt(2);ke(1),Ve("ngIf",null==t.flow.errors?null:t.flow.errors.required),ke(1),Ve("ngIf",null==t.flow.errors?null:t.flow.errors.pattern),ke(1),Ve("ngIf",null==t.flow.errors?null:t.flow.errors.checkFlowCapacity)}}function Hz(e,n){if(1&e){const t=To();Ae(0,"div",16)(1,"form",17),Vt("ngSubmit",function(){return pi(t),Jr(vt().onSubmit())}),Ae(2,"div",18)(3,"div",19)(4,"label",20),st(5,"Enter a flow amount for this edge"),xe(),ii(6,"input",21),xe(),Xe(7,Vz,4,3,"div",22),xe(),Ae(8,"div",23)(9,"button",24),st(10,"Continue"),xe()()()()}if(2&e){const t=vt();ke(1),Ve("formGroup",t.flowFormGroup),ke(6),Ve("ngIf",t.flow.invalid&&(t.flow.touched||t.flow.dirty)),ke(2),Ve("disabled",t.flowFormGroup.invalid)}}function $z(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter a flow amount."),xe()())}function jz(e,n){1&e&&(Ae(0,"div")(1,"p"),st(2,"Please enter an integer."),xe()())}function Uz(e,n){if(1&e&&(Ae(0,"div",25),Xe(1,$z,3,0,"div",7),Xe(2,jz,3,0,"div",7),xe()),2&e){const t=vt(2);ke(1),Ve("ngIf",null==t.flowVal.errors?null:t.flowVal.errors.required),ke(1),Ve("ngIf",null==t.flowVal.errors?null:t.flowVal.errors.pattern)}}function Gz(e,n){if(1&e){const t=To();Ae(0,"div")(1,"form",26),Vt("ngSubmit",function(){return pi(t),Jr(vt().compute())}),Ae(2,"div",18)(3,"div",19)(4,"label",27),st(5,"Enter the flow value"),xe(),ii(6,"input",28),xe(),Xe(7,Uz,3,2,"div",22),xe(),Ae(8,"button",29),st(9," Check "),xe()()()}if(2&e){const t=vt();ke(1),Ve("formGroup",t.flowCalculateGroup),ke(6),Ve("ngIf",t.flowVal.invalid&&(t.flowVal.touched||t.flowVal.dirty)),ke(1),Ve("disabled",t.flowCalculateGroup.invalid)}}const xw=function(e){return{display:e}},zz=[{path:"step-two",component:(()=>{class e{get flow(){return this.flowFormGroup.get("flow")}get flowVal(){return this.flowCalculateGroup.get("flowVal")}constructor(t,r,i){this.formBuilder=t,this.graphInitServices=r,this.router=i,this.msg="Select an edge by clicking on the graph.",this.counter=new Ir(0),this.edgeSource=new Ir(0),this.edgeTarget=new Ir(0),this.edgeCapacity=new Ir(0),this.isFlowInvalid=!1,this.showForm=!1,this.showFlowInput=!1,this.edgeError="none",this.flowError="none",this.showResult="none",this.flowFormGroup=this.formBuilder.group({flow:new ds("0",[dl.required,dl.pattern("^(0|[1-9][0-9]*)$"),Iw.checkFlowCapacity(this.edgeCapacity)])}),this.flowCalculateGroup=this.formBuilder.group({flowVal:new ds("0",[dl.required,dl.pattern("^(0|[1-9][0-9]*)$")])})}ngOnInit(){this.paths=this.graphInitServices.paths,this.sourceTxt=this.graphInitServices.sourceNode.id.toString(),this.sinkTxt=this.graphInitServices.sinkNode.id.toString(),this.graphInitServices.cy.on("tap",t=>{if("edges"==t.target._private.group){let r=+t.target._private.data.source,i=+t.target._private.data.target;this.graphInitServices.network.isEdgeInPaths(r,i,this.paths)?(this.graphInitServices.removeHighlightedEdges(),this.flowFormGroup.reset(),this.msg=`Edge ${r} -> ${i} selected.`,this.showForm=!0,this.showFlowInput=!1,this.selectedEdge=this.graphInitServices.cy.edges().getElementById(t.target._private.data.id),this.edgeSource.next(r),this.edgeTarget.next(i),this.edgeCapacity.next(this.graphInitServices.network.adjMatrix[this.edgeSource.getValue()][this.edgeTarget.getValue()].capacity),this.selectedEdge.addClass("highlighted")):(this.selectedEdgeTxt=`${r} -> ${i}`,this.edgeError="block")}})}printPath(t){var r="";for(let i of t)r+=i.id+" -> ";return r.substring(0,r.length-4)}isFlowBelowCapacity(){return this.graphInitServices.network.adjMatrix[this.edgeSource.getValue()][this.edgeTarget.getValue()].capacity>=this.flow.value}onSubmit(){if(this.selectedEdge&&this.edgeSource.getValue()&&this.edgeTarget.getValue()){this.graphInitServices.removeHighlightedEdges(),this.graphInitServices.network.adjMatrix[this.edgeSource.getValue()][this.edgeTarget.getValue()].flow=this.flow.value;var r=this.selectedEdge.css("label").split("/");2==r.length&&this.selectedEdge.css("label",this.flow.value+"/"+r[1]),this.counter.next(this.counter.getValue()+1),this.selectedEdge.addClass("selected"),this.flowFormGroup.reset(),this.showForm=!1,this.msg="Select an edge by clicking on the graph."}}calculateFlow(){this.graphInitServices.isFlowValid()?this.showFlowInput=!0:this.flowError="block"}compute(){this.showResult="block",this.resultFlowCheck=this.flowVal.value==this.graphInitServices.checkFlowAmount(0)?`Correct! The flow is ${this.flowVal.value}.`:"Incorrect flow amount! (Hint: Please make sure it is equal to the sum of the flow out of the source (and flow into the sink).)"}closeModalFlow(){this.flowError="none"}closeModalEdge(){this.edgeError="none"}closeModalResult(){this.showResult="none"}goBack(){this.graphInitServices.resetNodes(),this.graphInitServices.resetEdges(),this.graphInitServices.makeGraph(),this.flowFormGroup.reset(),this.router.navigate(["/step-one"])}static#e=this.\u0275fac=function(r){return new(r||e)(Z(ix),Z(ia),Z(Oi))};static#t=this.\u0275cmp=Vr({type:e,selectors:[["app-send-flow"]],inputs:{msg:"msg"},decls:43,vars:19,consts:[[1,"path-log","mb-2","mt-1"],[4,"ngFor","ngForOf"],["id","flow-input",4,"ngIf"],[1,"row","mt-2"],[1,"col-lg-6","mb-1"],["type","button",3,"click"],["type","button",1,"regular-btn",3,"click"],[4,"ngIf"],["id","edgeInvalidModal","tabindex","-1","role","dialog","aria-labelledby","edgeInvalidModalLabel","aria-hidden","true",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["id","errorModal","tabindex","-1","role","dialog","aria-labelledby","errorModalLabel","aria-hidden","true",1,"modal",3,"ngStyle"],["id","resultModal","tabindex","-1","role","dialog","aria-labelledby","resultModalLabel","aria-hidden","true",1,"modal",3,"ngStyle"],["id","flow-input"],["id","graph-input",3,"formGroup","ngSubmit"],[1,"input-wrapper"],[1,"input-field"],["for","flow"],["type","text","id","flow","formControlName","flow"],["class","error-message",4,"ngIf"],[1,"mt-3"],["type","submit",1,"mb-2",3,"disabled"],[1,"error-message"],[3,"formGroup","ngSubmit"],["for","flowVal"],["type","text","id","flowVal","formControlName","flowVal"],["type","submit",1,"mt-3",3,"disabled"]],template:function(r,i){1&r&&(Ae(0,"h4"),st(1),xe(),Ae(2,"div",0)(3,"p"),st(4),xe(),Xe(5,kz,2,1,"p",1),xe(),Xe(6,Hz,11,3,"div",2),Ae(7,"div",3)(8,"div",4)(9,"button",5),Vt("click",function(){return i.calculateFlow()}),st(10,"Calculate flow"),xe()(),Ae(11,"div",4)(12,"button",6),Vt("click",function(){return i.goBack()}),st(13," Back to step 1 "),xe()()(),Ae(14,"div",3),Xe(15,Gz,10,3,"div",7),xe(),Ae(16,"div",8)(17,"div",9)(18,"div",10)(19,"div",11),st(20),xe(),Ae(21,"div",12)(22,"button",13),Vt("click",function(){return i.closeModalEdge()}),st(23," Close "),xe()()()()(),Ae(24,"div",14)(25,"div",9)(26,"div",10)(27,"div",11),st(28," The flow is invalid! (Hint: double check each "),Ae(29,"em"),st(30,"internal"),xe(),st(31," vertices if the sum of flow in = sum of flow out [conservation constraint]) "),xe(),Ae(32,"div",12)(33,"button",13),Vt("click",function(){return i.closeModalFlow()}),st(34," Close "),xe()()()()(),Ae(35,"div",15)(36,"div",9)(37,"div",10)(38,"div",11),st(39),xe(),Ae(40,"div",12)(41,"button",13),Vt("click",function(){return i.closeModalResult()}),st(42," Close "),xe()()()()()),2&r&&(ke(1),Ko(i.msg),ke(3),H_("Available paths from ",i.sourceTxt," to ",i.sinkTxt,""),ke(1),Ve("ngForOf",i.paths),ke(1),Ve("ngIf",i.showForm),ke(9),Ve("ngIf",i.showFlowInput),ke(1),Ve("ngStyle",os(13,xw,i.edgeError)),ke(4),$_(" The edge selected (",i.selectedEdgeTxt,") is not on any paths from the source ",i.sourceTxt," to the sink ",i.sinkTxt,"! Please select again. "),ke(4),Ve("ngStyle",os(15,xw,i.flowError)),ke(11),Ve("ngStyle",os(17,xw,i.showResult)),ke(4),is(" ",i.resultFlowCheck," "))},dependencies:[us,cs,Gb,E1,Ih,h1,p1,Ph,bm]})}return e})(),canActivate:[(e,n)=>!!ia.areSourceSinkSet.getValue()||je(Oi).createUrlTree(["/step-one"])]},{path:"step-one",component:Pz},{path:"",redirectTo:"/step-one",pathMatch:"full"},{path:"**",redirectTo:"/step-one",pathMatch:"full"}];let Wz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e});static#n=this.\u0275inj=pn({imports:[FO.forRoot(zz),FO]})}return e})(),qz=(()=>{class e{constructor(t,r){this.graphInitServices=t,this.document=r}ngOnInit(){document.addEventListener("DOMContentLoaded",function(){var t=(new Date).toLocaleString().split(",")[0];document.getElementById("currentDate").textContent=t}),this.renderMath(),this.loadMathConfig()}renderMath(){this.mathJaxObject=this.graphInitServices.nativeGlobal().MathJax,setTimeout(()=>{this.mathJaxObject.Hub.Queue(["Typeset",this.mathJaxObject.Hub],"sum","aim")},1e3)}loadMathConfig(){this.mathJaxObject=this.graphInitServices.nativeGlobal().MathJax,this.mathJaxObject.Hub.Config({showMathMenu:!1,tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],processEscapes:!0},menuSettings:{zoom:"Double-Click",zscale:"150%"},CommonHTML:{linebreaks:{automatic:!0}},"HTML-CSS":{linebreaks:{automatic:!0}},SVG:{linebreaks:{automatic:!0}}}),this.sum="$$\\sum_{\\text{e into v}}f(e) = \\sum_{\\text{e out of v}}f(e)$$",this.aim="In the network flow problem, we want to find the maximum $s-t$ flow $= \\text{flow out of source} = \\text{flow into sink}$ using residual graphs (Ford-Fulkerson algorithm). \n                This project is incomplete since I have yet added the feature to calculate the maximum flow.\n                If you have any suggestions, want to report a bug, or contribute any features, please submit a pull request to"}static#e=this.\u0275fac=function(r){return new(r||e)(Z(ia),Z(Tr))};static#t=this.\u0275cmp=Vr({type:e,selectors:[["app-explanation"]],inputs:{sum:"sum",aim:"aim"},decls:31,vars:2,consts:[[1,"mt-3"],["id","sum"],["id","aim",1,"alert","alert-warning","mt-5"],["href","https://github.com/LynnHaDo/Network-Flow/pulls"],[1,"center"],["id","currentDate"]],template:function(r,i){1&r&&(Ae(0,"h1"),st(1,"Problem setup"),xe(),Ae(2,"h4",0),st(3,"Given a directed graph $G=(V, E)$ with edge capacities $c_e$ for each edge $e$, construct a $s-t$ flow from a source vertex $s$ and a sink vertex $t$."),xe(),Ae(4,"h4",0),st(5,"What is a flow?"),xe(),Ae(6,"p"),st(7,"A "),Ae(8,"b"),st(9,"$s-t$ flow"),xe(),st(10," is defined as a function $f: E \\rightarrow R^+$ that satisfies 2 conditions:"),xe(),Ae(11,"p")(12,"b"),st(13,"1. Capacity: "),xe(),st(14," $0 \\leq f(e) \\leq c_e$ for each edge $e$. Meaning the flow on each edge should not exceed its capacity."),xe(),Ae(15,"p")(16,"b"),st(17,"2. Conservation: "),xe(),st(18," For each internal vertex $v$ (not $s$ or $t$):"),xe(),Ae(19,"p",1),st(20),xe(),Ae(21,"p"),st(22,"Meaning the sum of the flow into each vertex should be equal to the sum of the flow out of that vertex."),xe(),Ae(23,"div",2),st(24),Ae(25,"a",3),st(26,"Github repository"),xe(),st(27," of this project. Thank you!\n"),xe(),Ae(28,"p",4),st(29,"Last updated: "),ii(30,"span",5),xe()),2&r&&(ke(20),Ko(i.sum),ke(4),is(" ",i.aim," the "))}})}return e})(),Kz=(()=>{class e{constructor(t){this.graphInitServices=t,this.cy=this.graphInitServices.getGraph(),this.mediaPhoneS=window.matchMedia("(max-width: 530px)"),this.mediaPhone=window.matchMedia("(max-width: 694px)"),this.mediaTabletS=window.matchMedia("(max-width: 695px)"),this.mediaTablet=window.matchMedia("(max-width: 1100px)"),this.mediaDesktopSmall=window.matchMedia("(max-width: 1300px)")}ngOnInit(){this.adjustMediaDisplay(),this.graphInitServices.makeGraph(),null!=this.graphInitServices.sourceNode&&null!=this.graphInitServices.sinkNode&&(this.paths=this.graphInitServices.paths,this.sourceTxt=this.graphInitServices.sourceNode.id.toString(),this.sinkTxt=this.graphInitServices.sinkNode.id.toString())}adjustMediaDisplay(){this.editMediaDisplayPhoneS(this.mediaPhoneS),this.mediaPhoneS.addEventListener("change",()=>{this.editMediaDisplayPhoneS(this.mediaPhoneS)}),this.editMediaDisplayPhone(this.mediaPhone),this.mediaPhone.addEventListener("change",()=>{this.editMediaDisplayPhone(this.mediaPhone)}),this.editMediaDisplayTabletS(this.mediaTabletS),this.mediaTabletS.addEventListener("change",()=>{this.editMediaDisplayTabletS(this.mediaTabletS)}),this.editMediaDisplayTablet(this.mediaTablet),this.mediaTablet.addEventListener("change",()=>{this.editMediaDisplayTablet(this.mediaTablet)}),this.editMediaDisplayDesktop(this.mediaDesktopSmall),this.mediaDesktopSmall.addEventListener("change",()=>{this.editMediaDisplayDesktop(this.mediaDesktopSmall)})}editMediaDisplayDesktop(t){this.graphInitServices.panX=t.matches?-90:-40,this.graphInitServices.makeGraph()}editMediaDisplayTablet(t){t.matches?(this.graphInitServices.panX=-80,this.graphInitServices.zoomLevel=.9):(this.graphInitServices.panX=-40,this.graphInitServices.zoomLevel=1),this.graphInitServices.makeGraph()}editMediaDisplayTabletS(t){t.matches?(this.graphInitServices.panX=-80,this.graphInitServices.zoomLevel=.8):(this.graphInitServices.panX=-40,this.graphInitServices.zoomLevel=1),this.graphInitServices.makeGraph()}editMediaDisplayPhone(t){t.matches?(this.graphInitServices.panX=-100,this.graphInitServices.panY=20,this.graphInitServices.zoomLevel=.7):(this.graphInitServices.panX=-40,this.graphInitServices.zoomLevel=1),this.graphInitServices.makeGraph()}editMediaDisplayPhoneS(t){t.matches?(this.graphInitServices.panX=-60,this.graphInitServices.panY=20,this.graphInitServices.zoomLevel=.7):(this.graphInitServices.panX=-40,this.graphInitServices.zoomLevel=1),this.graphInitServices.makeGraph()}static#e=this.\u0275fac=function(r){return new(r||e)(Z(ia))};static#t=this.\u0275cmp=Vr({type:e,selectors:[["app-root"]],decls:12,vars:0,consts:[[1,"main","playspace"],[1,"wrapper"],[1,"row"],[1,"col-lg-7","order-1","playground"],["id","cy"],["canvas",""],[1,"col-lg-5","order-2","prompt"],[1,"main","explanation"]],template:function(r,i){1&r&&(Ae(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),st(5,"Network Flow"),xe(),ii(6,"div",4,5),xe(),Ae(8,"div",6),ii(9,"router-outlet"),xe()()()(),Ae(10,"section",7),ii(11,"app-explanation"),xe())},dependencies:[yw,qz]})}return e})(),Yz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=_n({type:e,bootstrap:[Kz]});static#n=this.\u0275inj=pn({imports:[oH,Wz,q$,XU]})}return e})();rH().bootstrapModule(Yz).catch(e=>console.error(e))},6100:(ue,Le,Y)=>{"use strict";var X=Y(4430),ce=Y(7444),ge=Y(5440),ve=Y(7939),Se=Y(9078);function Ce(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var Ue=Ce(X),tt=Ce(ce),rt=Ce(ge),ct=Ce(ve),Fn=Ce(Se);function Bt(a){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}function gr(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function Qn(a,o){for(var s=0;s<o.length;s++){var u=o[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}function Dn(a,o,s){return o&&Qn(a.prototype,o),s&&Qn(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}function Kn(a,o,s){return o in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a}function Xt(a,o){return function Oe(a){if(Array.isArray(a))return a}(a)||function Ye(a,o){var s=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=s){var h,g,u=[],d=!0,f=!1;try{for(s=s.call(a);!(d=(h=s.next()).done)&&(u.push(h.value),!o||u.length!==o);d=!0);}catch(m){f=!0,g=m}finally{try{!d&&null!=s.return&&s.return()}finally{if(f)throw g}}return u}}(a,o)||function Je(a,o){if(a){if("string"==typeof a)return pt(a,o);var s=Object.prototype.toString.call(a).slice(8,-1);if("Object"===s&&a.constructor&&(s=a.constructor.name),"Map"===s||"Set"===s)return Array.from(a);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pt(a,o)}}(a,o)||function Cn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(a,o){(null==o||o>a.length)&&(o=a.length);for(var s=0,u=new Array(o);s<o;s++)u[s]=a[s];return u}var xt=typeof window>"u"?null:window,nn=xt?xt.navigator:null,Ln=Bt(""),Qr=Bt({}),Ri=Bt(function(){}),mi=typeof HTMLElement>"u"?"undefined":Bt(HTMLElement),Yn=function(o){return o&&o.instanceString&&sn(o.instanceString)?o.instanceString():null},Pe=function(o){return null!=o&&Bt(o)==Ln},sn=function(o){return null!=o&&Bt(o)===Ri},Jt=function(o){return!jt(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},at=function(o){return null!=o&&Bt(o)===Qr&&!Jt(o)&&o.constructor===Object},Ge=function(o){return null!=o&&Bt(o)===Bt(1)&&!isNaN(o)},Mu=function(o){if("undefined"!==mi)return null!=o&&o instanceof HTMLElement},jt=function(o){return gs(o)||xd(o)},gs=function(o){return"collection"===Yn(o)&&o._private.single},xd=function(o){return"collection"===Yn(o)&&!o._private.single},zn=function(o){return"core"===Yn(o)},An=function(o){return"stylesheet"===Yn(o)},Ut=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Od=function(o){return function(o){return null!=o&&Bt(o)===Qr}(o)&&sn(o.then)},ml=function(o,s){s||(s=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var f=[],h=0;h<arguments.length;h++)f.push(arguments[h]);return f.join("$")});var u=function d(){var g,h=arguments,m=s.apply(this,h),v=d.cache;return(g=v[m])||(g=v[m]=o.apply(this,h)),g};return u.cache={},u},Ad=ml(function(a){return a.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),Rd=ml(function(a){return a.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),dy=ml(function(a,o){return a+o[0].toUpperCase()+o.substring(1)},function(a,o){return a+"$"+o}),fy=function(o){return Ut(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},vr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",hy="rgb[a]?\\(("+vr+"[%]?)\\s*,\\s*("+vr+"[%]?)\\s*,\\s*("+vr+"[%]?)(?:\\s*,\\s*("+vr+"))?\\)",fp="rgb[a]?\\((?:"+vr+"[%]?)\\s*,\\s*(?:"+vr+"[%]?)\\s*,\\s*(?:"+vr+"[%]?)(?:\\s*,\\s*(?:"+vr+"))?\\)",py="hsl[a]?\\(("+vr+")\\s*,\\s*("+vr+"[%])\\s*,\\s*("+vr+"[%])(?:\\s*,\\s*("+vr+"))?\\)",Pd="hsl[a]?\\((?:"+vr+")\\s*,\\s*(?:"+vr+"[%])\\s*,\\s*(?:"+vr+"[%])(?:\\s*,\\s*(?:"+vr+"))?\\)",Fd=function(o,s){return o<s?-1:o>s?1:0},mt=null!=Object.assign?Object.assign.bind(Object):function(a){for(var o=arguments,s=1;s<o.length;s++){var u=o[s];if(null!=u)for(var d=Object.keys(u),f=0;f<d.length;f++){var h=d[f];a[h]=u[h]}}return a},_y={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},gp=function(o){for(var s=o.map,u=o.keys,d=u.length,f=0;f<d;f++){var h=u[f];if(at(h))throw Error("Tried to set map with object key");f<u.length-1?(null==s[h]&&(s[h]={}),s=s[h]):s[h]=o.value}},vp=function(o){for(var s=o.map,u=o.keys,d=u.length,f=0;f<d;f++){var h=u[f];if(at(h))throw Error("Tried to get map with object key");if(null==(s=s[h]))return s}return s},Ld=xt?xt.performance:null,mp=Ld&&Ld.now?function(){return Ld.now()}:function(){return Date.now()},by=function(){if(xt){if(xt.requestAnimationFrame)return function(a){xt.requestAnimationFrame(a)};if(xt.mozRequestAnimationFrame)return function(a){xt.mozRequestAnimationFrame(a)};if(xt.webkitRequestAnimationFrame)return function(a){xt.webkitRequestAnimationFrame(a)};if(xt.msRequestAnimationFrame)return function(a){xt.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(mp())},1e3/60)}}(),Iu=function(o){return by(o)},Po=mp,vs=9261,xu=5381,Nu=function(o){for(var d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vs;!(d=o.next()).done;)u=65599*u+d.value|0;return u},ms=function(o){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:vs)+o|0},ys=function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xu;return(s<<5)+s+o|0},ko=function(o){return 2097152*o[0]+o[1]},Ou=function(o,s){return[ms(o[0],s[0]),ys(o[1],s[1])]},la=function(o,s){var u={value:0,done:!1},d=0,f=o.length;return Nu({next:function(){return d<f?u.value=o.charCodeAt(d++):u.done=!0,u}},s)},Bd=function(){return wp(arguments)},wp=function(o){for(var s,u=0;u<o.length;u++){var d=o[u];s=0===u?la(d):la(d,s)}return s},nr=!0,wy=null!=console.warn,Dy=null!=console.trace,Vd=Number.MAX_SAFE_INTEGER||9007199254740991,Dp=function(){return!0},yl=function(){return!1},Cp=function(){return 0},Hd=function(){},fn=function(o){throw new Error(o)},Ep=function(o){if(void 0===o)return nr;nr=!!o},bt=function(o){Ep()&&(wy?console.warn(o):(console.log(o),Dy&&console.trace()))},Xn=function(o){return null==o?o:Jt(o)?o.slice():at(o)?function(o){return mt({},o)}(o):o},Sp=function(o,s){for(s=o="";o++<36;s+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return s},Tp={},Au=function(){return Tp},rr=function(o){var s=Object.keys(o);return function(u){for(var d={},f=0;f<s.length;f++){var h=s[f],g=u?.[h];d[h]=void 0===g?o[h]:g}return d}},Pi=function(o,s,u){for(var d=o.length-1;d>=0&&(o[d]!==s||(o.splice(d,1),!u));d--);},$d=function(o){o.splice(0,o.length)},ki=function(o,s,u){return u&&(s=dy(u,s)),o[s]},ua=function(o,s,u,d){u&&(s=dy(u,s)),o[s]=d},po=typeof Map<"u"?Map:function(){function a(){gr(this,a),this._obj={}}return Dn(a,[{key:"set",value:function(s,u){return this._obj[s]=u,this}},{key:"delete",value:function(s){return this._obj[s]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(s){return void 0!==this._obj[s]}},{key:"get",value:function(s){return this._obj[s]}}]),a}(),Ip=function(){function a(o){if(gr(this,a),this._obj=Object.create(null),this.size=0,null!=o){var s;s=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var u=0;u<s.length;u++)this.add(s[u])}}return Dn(a,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(s){var u=this._obj;1!==u[s]&&(u[s]=1,this.size++)}},{key:"delete",value:function(s){var u=this._obj;1===u[s]&&(u[s]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(s){return 1===this._obj[s]}},{key:"toArray",value:function(){var s=this;return Object.keys(this._obj).filter(function(u){return s.has(u)})}},{key:"forEach",value:function(s,u){return this.toArray().forEach(s,u)}}]),a}(),bs="undefined"!==(typeof Set>"u"?"undefined":Bt(Set))?Set:Ip,Ru=function(o,s){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==s&&zn(o)){var d=s.group;if(null==d&&(d=s.data&&null!=s.data.source&&null!=s.data.target?"edges":"nodes"),"nodes"===d||"edges"===d){this.length=1,this[0]=this;var f=this._private={cy:o,single:!0,data:s.data||{},position:s.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:d,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!s.selected,selectable:void 0===s.selectable||!!s.selectable,locked:!!s.locked,grabbed:!1,grabbable:void 0===s.grabbable||!!s.grabbable,pannable:void 0===s.pannable?"edges"===d:!!s.pannable,active:!1,classes:new bs,animation:{current:[],queue:[]},rscratch:{},scratch:s.scratch||{},edges:[],children:[],parent:s.parent&&s.parent.isNode()?s.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==f.position.x&&(f.position.x=0),null==f.position.y&&(f.position.y=0),s.renderedPosition){var h=s.renderedPosition,g=o.pan(),m=o.zoom();f.position={x:(h.x-g.x)/m,y:(h.y-g.y)/m}}var v=[];Jt(s.classes)?v=s.classes:Pe(s.classes)&&(v=s.classes.split(/\s+/));for(var _=0,b=v.length;_<b;_++){var D=v[_];!D||""===D||f.classes.add(D)}this.createEmitter();var E=s.style||s.css;E&&(bt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(E)),(void 0===u||u)&&this.restore()}else fn("An element must be of type `nodes` or `edges`; you specified `"+d+"`")}else fn("An element must have a core reference and parameters set")},lr=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(u,d,f){var h;at(u)&&!jt(u)&&(u=(h=u).roots||h.root,d=h.visit,f=h.directed),f=2!==arguments.length||sn(d)?f:d,d=sn(d)?d:function(){};for(var T,g=this._private.cy,m=u=Pe(u)?this.filter(u):u,v=[],_=[],b={},D={},E={},C=0,M=this.byGroup(),I=M.nodes,O=M.edges,N=0;N<m.length;N++){var R=m[N],V=R.id();R.isNode()&&(v.unshift(R),o.bfs&&(E[V]=!0,_.push(R)),D[V]=0)}for(var j=function(){var z=o.bfs?v.shift():v.pop(),H=z.id();if(o.dfs){if(E[H])return"continue";E[H]=!0,_.push(z)}var he,Q=D[H],q=b[H],W=null!=q?q.source():null,ee=null!=q?q.target():null,ae=null==q?void 0:z.same(W)?ee[0]:W[0];if(!0===(he=d(z,q,ae,C++,Q)))return T=z,"break";if(!1===he)return"break";for(var te=z.connectedEdges().filter(function(Ee){return(!f||Ee.source().same(z))&&O.has(Ee)}),de=0;de<te.length;de++){var ye=te[de],we=ye.connectedNodes().filter(function(Ee){return!Ee.same(z)&&I.has(Ee)}),_e=we.id();0!==we.length&&!E[_e]&&(v.push(we=we[0]),o.bfs&&(E[_e]=!0,_.push(we)),b[_e]=ye,D[_e]=D[H]+1)}};0!==v.length;){var P=j();if("continue"!==P&&"break"===P)break}for(var $=g.collection(),k=0;k<_.length;k++){var G=_[k],U=b[G.id()];null!=U&&$.push(U),$.push(G)}return{path:g.collection($),found:g.collection(T)}}},ws={breadthFirstSearch:lr({bfs:!0}),depthFirstSearch:lr({dfs:!0})};ws.bfs=ws.breadthFirstSearch,ws.dfs=ws.depthFirstSearch;var Ir=rr({root:null,weight:function(o){return 1},directed:!1}),yt={dijkstra:function(o){if(!at(o)){var s=arguments;o={root:s[0],weight:s[1],directed:s[2]}}var q,W,u=Ir(o),d=u.root,h=u.directed,g=this,m=u.weight,v=Pe(d)?this.filter(d)[0]:d[0],_={},b={},D={},E=this.byGroup(),C=E.nodes,T=E.edges;T.unmergeBy(function(Q){return Q.isLoop()});for(var M=function(q){return _[q.id()]},O=new tt.default(function(Q,q){return M(Q)-M(q)}),N=0;N<C.length;N++){var R=C[N];_[R.id()]=R.same(v)?0:1/0,O.push(R)}for(var V=function(q,W){for(var he,ee=(h?q.edgesTo(W):q.edgesWith(W)).intersect(T),ae=1/0,te=0;te<ee.length;te++){var de=ee[te],ye=m(de);(ye<ae||!he)&&(ae=ye,he=de)}return{edge:he,dist:ae}};O.size()>0;){var j=O.pop(),P=M(j),$=j.id();if(D[$]=P,P!==1/0)for(var k=j.neighborhood().intersect(C),G=0;G<k.length;G++){var U=k[G],B=U.id(),z=V(j,U),H=P+z.dist;H<M(U)&&(W=H,_[(q=U).id()]=W,O.updateItem(q),b[B]={node:j,edge:z.edge})}}return{distanceTo:function(q){var W=Pe(q)?C.filter(q)[0]:q[0];return D[W.id()]},pathTo:function(q){var W=Pe(q)?C.filter(q)[0]:q[0],ee=[],ae=W,he=ae.id();if(W.length>0)for(ee.unshift(W);b[he];){var te=b[he];ee.unshift(te.edge),ee.unshift(te.node),he=(ae=te.node).id()}return g.spawn(ee)}}}},xp={kruskal:function(o){o=o||function(N){return 1};for(var s=this.byGroup(),u=s.nodes,d=s.edges,f=u.length,h=new Array(f),g=u,m=function(R){for(var V=0;V<h.length;V++)if(h[V].has(R))return V},v=0;v<f;v++)h[v]=this.spawn(u[v]);for(var _=d.sort(function(N,R){return o(N)-o(R)}),b=0;b<_.length;b++){var D=_[b],E=D.source()[0],C=D.target()[0],T=m(E),M=m(C),I=h[T],O=h[M];T!==M&&(g.merge(D),I.merge(O),h.splice(M,1))}return g}},jd=rr({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Xi={aStar:function(o){var s=this.cy(),u=jd(o),d=u.root,f=u.goal,h=u.heuristic,g=u.directed,m=u.weight;d=s.collection(d)[0],f=s.collection(f)[0];var N,R,v=d.id(),_=f.id(),b={},D={},E={},C=new tt.default(function(he,te){return D[he.id()]-D[te.id()]}),T=new bs,M={},I={},O=function(te,de){C.push(te),T.add(de)};O(d,v),b[v]=0,D[v]=h(d);for(var P=0;C.size()>0;){if(R=(N=C.pop()).id(),T.delete(R),P++,R===_){for(var $=[],k=f,G=_,U=I[G];$.unshift(k),null!=U&&$.unshift(U),null!=(k=M[G]);)U=I[G=k.id()];return{found:!0,distance:b[R],path:this.spawn($),steps:P}}E[R]=!0;for(var B=N._private.edges,z=0;z<B.length;z++){var H=B[z];if(this.hasElementWithId(H.id())&&(!g||H.data("source")===R)){var Q=H.source(),q=H.target(),W=Q.id()!==R?Q:q,ee=W.id();if(this.hasElementWithId(ee)&&!E[ee]){var ae=b[R]+m(H);if(!T.has(ee)){b[ee]=ae,D[ee]=ae+h(W),O(W,ee),M[ee]=N,I[ee]=H;continue}ae<b[ee]&&(b[ee]=ae,D[ee]=ae+h(W),M[ee]=N,I[ee]=H)}}}}return{found:!1,distance:void 0,path:void 0,steps:P}}},Np=rr({weight:function(o){return 1},directed:!1}),Sy={floydWarshall:function(o){for(var s=this.cy(),u=Np(o),f=u.directed,h=u.weight,g=this.byGroup(),m=g.nodes,v=g.edges,_=m.length,b=_*_,D=function(ye){return m.indexOf(ye)},E=function(ye){return m[ye]},C=new Array(b),T=0;T<b;T++){var M=T%_;C[T]=(T-M)/_===M?0:1/0}for(var O=new Array(b),N=new Array(b),R=0;R<v.length;R++){var V=v[R],j=V.source()[0],P=V.target()[0];if(j!==P){var $=D(j),k=D(P),G=$*_+k,U=h(V);if(C[G]>U&&(C[G]=U,O[G]=k,N[G]=V),!f){var B=k*_+$;!f&&C[B]>U&&(C[B]=U,O[B]=$,N[B]=V)}}}for(var z=0;z<_;z++)for(var H=0;H<_;H++)for(var Q=H*_+z,q=0;q<_;q++){var W=H*_+q,ee=z*_+q;C[Q]+C[ee]<C[W]&&(C[W]=C[Q]+C[ee],O[W]=O[Q])}var he=function(ye){return D(function(ye){return(Pe(ye)?s.filter(ye):ye)[0]}(ye))};return{distance:function(ye,we){var _e=he(ye),Ee=he(we);return C[_e*_+Ee]},path:function(ye,we){var _e=he(ye),Ee=he(we),ie=E(_e);if(_e===Ee)return ie.collection();if(null==O[_e*_+Ee])return s.collection();var be=s.collection();for(be.merge(ie);_e!==Ee;)be.merge(N[_e*_+(_e=O[_e*_+Ee])]),be.merge(E(_e));return be}}}},yn=rr({weight:function(o){return 1},directed:!1,root:null}),Pu={bellmanFord:function(o){var s=this,u=yn(o),f=u.directed,h=u.root,g=u.weight,m=this,v=this.cy(),_=this.byGroup(),b=_.edges,D=_.nodes,E=D.length,C=new po,T=!1,M=[];h=v.collection(h)[0],b.unmergeBy(function(ut){return ut.isLoop()});for(var I=b.length,O=function(nt){var ft=C.get(nt.id());return ft||(ft={},C.set(nt.id(),ft)),ft},N=function(nt){return(Pe(nt)?v.$(nt):nt)[0]},j=0;j<E;j++){var P=D[j],$=O(P);$.dist=P.same(h)?0:1/0,$.pred=null,$.edge=null}for(var k=!1,G=function(nt,ft,Zt,Ft,Tt,Mt){var se=Ft.dist+Mt;se<Tt.dist&&!Zt.same(Ft.edge)&&(Tt.dist=se,Tt.pred=nt,Tt.edge=Zt,k=!0)},U=1;U<E;U++){k=!1;for(var B=0;B<I;B++){var z=b[B],H=z.source(),Q=z.target(),q=g(z),W=O(H),ee=O(Q);G(H,0,z,W,ee,q),f||G(Q,0,z,ee,W,q)}if(!k)break}if(k)for(var ae=[],he=0;he<I;he++){var te=b[he],de=te.source(),ye=te.target(),we=g(te),_e=O(de).dist,Ee=O(ye).dist;if(_e+we<Ee||!f&&Ee+we<_e){if(T||(bt("Graph contains a negative weight cycle for Bellman-Ford"),T=!0),!1===o.findNegativeWeightCycles)break;var ie=[];_e+we<Ee&&ie.push(de),!f&&Ee+we<_e&&ie.push(ye);for(var be=ie.length,Ie=0;Ie<be;Ie++){var Me=ie[Ie],Re=[Me];Re.push(O(Me).edge);for(var it=O(Me).pred;-1===Re.indexOf(it);)Re.push(it),Re.push(O(it).edge),it=O(it).pred;for(var St=(Re=Re.slice(Re.indexOf(it)))[0].id(),He=0,$e=2;$e<Re.length;$e+=2)Re[$e].id()<St&&(St=Re[$e].id(),He=$e);(Re=Re.slice(He).concat(Re.slice(0,He))).push(Re[0]);var lt=Re.map(function(ut){return ut.id()}).join(",");-1===ae.indexOf(lt)&&(M.push(m.spawn(Re)),ae.push(lt))}}}return{distanceTo:function(nt){return O(N(nt)).dist},pathTo:function(nt){for(var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,Ft=[],Tt=N(nt);;){if(null==Tt)return s.spawn();var Mt=O(Tt),se=Mt.edge,F=Mt.pred;if(Ft.unshift(Tt[0]),Tt.same(ft)&&Ft.length>0)break;null!=se&&Ft.unshift(se),Tt=F}return m.spawn(Ft)},hasNegativeWeightCycle:T,negativeWeightCycles:M}}},ur=Math.sqrt(2),Ud=function(o,s,u){0===u.length&&fn("Karger-Stein must be run on a connected (sub)graph");for(var d=u[o],g=s[d[1]],m=s[d[2]],v=u,_=v.length-1;_>=0;_--){var b=v[_],D=b[1],E=b[2];(s[D]===g&&s[E]===m||s[D]===m&&s[E]===g)&&v.splice(_,1)}for(var C=0;C<v.length;C++){var T=v[C];T[1]===m?(v[C]=T.slice(),v[C][1]=g):T[2]===m&&(v[C]=T.slice(),v[C][2]=g)}for(var M=0;M<s.length;M++)s[M]===m&&(s[M]=g);return v},Gd=function(o,s,u,d){for(;u>d;){var f=Math.floor(Math.random()*s.length);s=Ud(f,o,s),u--}return s},zt={kargerStein:function(){var o=this,s=this.byGroup(),u=s.nodes,d=s.edges;d.unmergeBy(function(ee){return ee.isLoop()});var f=u.length,h=d.length,g=Math.ceil(Math.pow(Math.log(f)/Math.LN2,2)),m=Math.floor(f/ur);if(!(f<2)){for(var v=[],_=0;_<h;_++){var b=d[_];v.push([_,u.indexOf(b.source()),u.indexOf(b.target())])}for(var D=1/0,E=[],C=new Array(f),T=new Array(f),M=new Array(f),I=function(ae,he){for(var te=0;te<f;te++)he[te]=ae[te]},O=0;O<=g;O++){for(var N=0;N<f;N++)T[N]=N;var R=Gd(T,v.slice(),f,m),V=R.slice();I(T,M);var j=Gd(T,R,m,2),P=Gd(M,V,m,2);j.length<=P.length&&j.length<D?(D=j.length,E=j,I(T,C)):P.length<=j.length&&P.length<D&&(D=P.length,E=P,I(M,C))}for(var $=this.spawn(E.map(function(ee){return d[ee[0]]})),k=this.spawn(),G=this.spawn(),U=C[0],B=0;B<C.length;B++){var H=u[B];C[B]===U?k.merge(H):G.merge(H)}var Q=function(ae){var he=o.spawn();return ae.forEach(function(te){he.merge(te),te.connectedEdges().forEach(function(de){o.contains(de)&&!$.contains(de)&&he.merge(de)})}),he},q=[Q(k),Q(G)];return{cut:$,components:q,partition1:k,partition2:G}}fn("At least 2 nodes are required for Karger-Stein algorithm")}},Ds=function(o,s,u){return{x:o.x*s+u.x,y:o.y*s+u.y}},ku=function(o,s,u){return{x:(o.x-u.x)/s,y:(o.y-u.y)/s}},_l=function(o){return{x:o[0],y:o[1]}},Lu=function(o,s){return Math.atan2(s,o)-Math.PI/2},Ap=Math.log2||function(a){return Math.log(a)/Math.log(2)},Rp=function(o){return o>0?1:o<0?-1:0},Fo=function(o,s){return Math.sqrt(cr(o,s))},cr=function(o,s){var u=s.x-o.x,d=s.y-o.y;return u*u+d*d},kw=function(o){for(var s=o.length,u=0,d=0;d<s;d++)u+=o[d];for(var f=0;f<s;f++)o[f]=o[f]/u;return o},mr=function(o,s,u,d){return(1-d)*(1-d)*o+2*(1-d)*d*s+d*d*u},bl=function(o,s,u,d){return{x:mr(o.x,s.x,u.x,d),y:mr(o.y,s.y,u.y,d)}},Bu=function(o,s,u){return Math.max(o,Math.min(u,s))},yi=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},My=function(o,s){o.x1=Math.min(o.x1,s.x1),o.x2=Math.max(o.x2,s.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,s.y1),o.y2=Math.max(o.y2,s.y2),o.h=o.y2-o.y1},Iy=function(o,s,u){o.x1=Math.min(o.x1,s),o.x2=Math.max(o.x2,s),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,u),o.y2=Math.max(o.y2,u),o.h=o.y2-o.y1},zd=function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=s,o.x2+=s,o.y1-=s,o.y2+=s,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Xr=function(o){var u,d,f,h,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)u=d=f=h=s[0];else if(2===s.length)u=f=s[0],h=d=s[1];else if(4===s.length){var g=Xt(s,4);u=g[0],d=g[1],f=g[2],h=g[3]}return o.x1-=h,o.x2+=d,o.y1-=u,o.y2+=f,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},_t=function(o,s){o.x1=s.x1,o.y1=s.y1,o.x2=s.x2,o.y2=s.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},Pp=function(o,s){return!(o.x1>s.x2||s.x1>o.x2||o.x2<s.x1||s.x2<o.x1||o.y2<s.y1||s.y2<o.y1||o.y1>s.y2||s.y1>o.y2)},wl=function(o,s,u){return o.x1<=s&&s<=o.x2&&o.y1<=u&&u<=o.y2},Bw=function(o,s){return wl(o,s.x,s.y)},qe=function(o,s){return wl(o,s.x1,s.y1)&&wl(o,s.x2,s.y2)},xy=function(o,s,u,d,f,h,g){var b,m=Cs(f,h),v=f/2,_=h/2,E=d-_-g;if((b=$a(o,s,u,d,u-v+m-g,E,u+v-m+g,E,!1)).length>0)return b;var M=u+v+g;if((b=$a(o,s,u,d,M,d-_+m-g,M,d+_-m+g,!1)).length>0)return b;var V=d+_+g;if((b=$a(o,s,u,d,u-v+m-g,V,u+v-m+g,V,!1)).length>0)return b;var B,$=u-v-g;if((b=$a(o,s,u,d,$,d-_+m-g,$,d+_-m+g,!1)).length>0)return b;var z=u-v+m,H=d-_+m;if((B=yr(o,s,u,d,z,H,m+g)).length>0&&B[0]<=z&&B[1]<=H)return[B[0],B[1]];var Q=u+v-m,q=d-_+m;if((B=yr(o,s,u,d,Q,q,m+g)).length>0&&B[0]>=Q&&B[1]<=q)return[B[0],B[1]];var W=u+v-m,ee=d+_-m;if((B=yr(o,s,u,d,W,ee,m+g)).length>0&&B[0]>=W&&B[1]>=ee)return[B[0],B[1]];var ae=u-v+m,he=d+_-m;return(B=yr(o,s,u,d,ae,he,m+g)).length>0&&B[0]<=ae&&B[1]>=he?[B[0],B[1]]:[]},pn=function(o,s,u,d,f,h,g){var m=g,v=Math.min(u,f),_=Math.max(u,f),b=Math.min(d,h),D=Math.max(d,h);return v-m<=o&&o<=_+m&&b-m<=s&&s<=D+m},Vu=function(o,s,u,d,f,h,g,m,v){var __x1=Math.min(u,g,f)-v,__x2=Math.max(u,g,f)+v,__y1=Math.min(d,m,h)-v,__y2=Math.max(d,m,h)+v;return!(o<__x1||o>__x2||s<__y1||s>__y2)},Oy=function(o,s,u,d,f,h,g,m){var E=[];!function(o,s,u,d,f){var g,m,v,_,b,D,E,C;0===o&&(o=1e-5),v=-27*(d/=o)+(s/=o)*(9*(u/=o)-s*s*2),g=(m=(3*u-s*s)/9)*m*m+(v/=54)*v,f[1]=0,E=s/3,g>0?(b=(b=v+Math.sqrt(g))<0?-Math.pow(-b,1/3):Math.pow(b,1/3),D=(D=v-Math.sqrt(g))<0?-Math.pow(-D,1/3):Math.pow(D,1/3),f[0]=-E+b+D,f[4]=f[2]=-(E+=(b+D)/2),E=Math.sqrt(3)*(-D+b)/2,f[3]=E,f[5]=-E):(f[5]=f[3]=0,0===g?(C=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),f[0]=2*C-E,f[4]=f[2]=-(C+E)):(_=(m=-m)*m*m,_=Math.acos(v/Math.sqrt(_)),C=2*Math.sqrt(m),f[0]=-E+C*Math.cos(_/3),f[2]=-E+C*Math.cos((_+2*Math.PI)/3),f[4]=-E+C*Math.cos((_+4*Math.PI)/3)))}(1*u*u-4*u*f+2*u*g+4*f*f-4*f*g+g*g+d*d-4*d*h+2*d*m+4*h*h-4*h*m+m*m,9*u*f-3*u*u-3*u*g-6*f*f+3*f*g+9*d*h-3*d*d-3*d*m-6*h*h+3*h*m,3*u*u-6*u*f+u*g-u*o+2*f*f+2*f*o-g*o+3*d*d-6*d*h+d*m-d*s+2*h*h+2*h*s-m*s,1*u*f-u*u+u*o-f*o+d*h-d*d+d*s-h*s,E);for(var T=[],M=0;M<6;M+=2)Math.abs(E[M+1])<1e-7&&E[M]>=0&&E[M]<=1&&T.push(E[M]);T.push(1),T.push(0);for(var O,N,R,I=-1,V=0;V<T.length;V++)O=Math.pow(1-T[V],2)*u+2*(1-T[V])*T[V]*f+T[V]*T[V]*g,N=Math.pow(1-T[V],2)*d+2*(1-T[V])*T[V]*h+T[V]*T[V]*m,R=Math.pow(O-o,2)+Math.pow(N-s,2),I>=0?R<I&&(I=R):I=R;return I},Hu=function(o,s,u,d,f,h){var g=[o-u,s-d],m=[f-u,h-d],v=m[0]*m[0]+m[1]*m[1],_=g[0]*g[0]+g[1]*g[1],b=g[0]*m[0]+g[1]*m[1],D=b*b/v;return b<0?_:D>v?(o-f)*(o-f)+(s-h)*(s-h):_-D},xr=function(o,s,u){for(var d,f,h,g,v=0,_=0;_<u.length/2;_++)if(f=u[2*_+1],_+1<u.length/2?(h=u[2*(_+1)],g=u[2*(_+1)+1]):(h=u[2*(_+1-u.length/2)],g=u[2*(_+1-u.length/2)+1]),(d=u[2*_])!=o||h!=o){if(!(d>=o&&o>=h||d<=o&&o<=h))continue;(o-d)/(h-d)*(g-f)+f>s&&v++}return v%2!=0},Ji=function(o,s,u,d,f,h,g,m,v){var b,T,_=new Array(u.length);null!=m[0]?(b=Math.atan(m[1]/m[0]),m[0]<0?b+=Math.PI/2:b=-b-Math.PI/2):b=m;for(var D=Math.cos(-b),E=Math.sin(-b),C=0;C<_.length/2;C++)_[2*C]=h/2*(u[2*C]*D-u[2*C+1]*E),_[2*C+1]=g/2*(u[2*C+1]*D+u[2*C]*E),_[2*C]+=d,_[2*C+1]+=f;if(v>0){var M=Ht(_,-v);T=$u(M)}else T=_;return xr(o,s,T)},$u=function(o){for(var g,m,v,_,s=new Array(o.length/2),b=0;b<o.length/4;b++){b<o.length/4-1?(g=o[4*(b+1)],m=o[4*(b+1)+1],v=o[4*(b+1)+2],_=o[4*(b+1)+3]):(g=o[0],m=o[1],v=o[2],_=o[3]);var D=$a(o[4*b],o[4*b+1],o[4*b+2],o[4*b+3],g,m,v,_,!0);s[2*b]=D[0],s[2*b+1]=D[1]}return s},Ht=function(o,s){for(var d,f,h,g,u=new Array(2*o.length),m=0;m<o.length/2;m++){m<o.length/2-1?(h=o[2*(m+1)],g=o[2*(m+1)+1]):(h=o[0],g=o[1]);var v=g-(f=o[2*m+1]),_=-(h-(d=o[2*m])),b=Math.sqrt(v*v+_*_),D=v/b,E=_/b;u[4*m]=d+D*s,u[4*m+1]=f+E*s,u[4*m+2]=h+D*s,u[4*m+3]=g+E*s}return u},ca=function(o,s,u,d,f,h,g){return o-=f,s-=h,(o/=u/2+g)*o+(s/=d/2+g)*s<=1},yr=function(o,s,u,d,f,h,g){var m=[u-o,d-s],v=[o-f,s-h],_=m[0]*m[0]+m[1]*m[1],b=2*(v[0]*m[0]+v[1]*m[1]),E=b*b-4*_*(v[0]*v[0]+v[1]*v[1]-g*g);if(E<0)return[];var C=(-b+Math.sqrt(E))/(2*_),T=(-b-Math.sqrt(E))/(2*_),M=Math.min(C,T),I=Math.max(C,T),O=[];if(M>=0&&M<=1&&O.push(M),I>=0&&I<=1&&O.push(I),0===O.length)return[];var N=O[0]*m[0]+o,R=O[0]*m[1]+s;return O.length>1?O[0]==O[1]?[N,R]:[N,R,O[1]*m[0]+o,O[1]*m[1]+s]:[N,R]},ju=function(o,s,u){return s<=o&&o<=u||u<=o&&o<=s?o:o<=s&&s<=u||u<=s&&s<=o?s:u},$a=function(o,s,u,d,f,h,g,m,v){var _=o-f,b=u-o,D=g-f,E=s-h,C=d-s,T=m-h,M=D*E-T*_,I=b*E-C*_,O=T*b-D*C;if(0!==O){var N=M/O,R=I/O,j=-.001;return j<=N&&N<=1.001&&j<=R&&R<=1.001||v?[o+N*b,s+N*C]:[]}return 0===M||0===I?ju(o,u,g)===g?[g,m]:ju(o,u,f)===f?[f,h]:ju(f,g,u)===u?[u,d]:[]:[]},gn=function(o,s,u,d,f,h,g,m){var _,E,v=[],b=new Array(u.length),D=!0;if(null==h&&(D=!1),D){for(var C=0;C<b.length/2;C++)b[2*C]=u[2*C]*h+d,b[2*C+1]=u[2*C+1]*g+f;if(m>0){var T=Ht(b,-m);E=$u(T)}else E=b}else E=u;for(var O,N,R=0;R<E.length/2;R++)R<E.length/2-1?(O=E[2*(R+1)],N=E[2*(R+1)+1]):(O=E[0],N=E[1]),0!==(_=$a(o,s,d,f,E[2*R],E[2*R+1],O,N)).length&&v.push(_[0],_[1]);return v},qd=function(o,s,u){var d=[o[0]-s[0],o[1]-s[1]],f=Math.sqrt(d[0]*d[0]+d[1]*d[1]),h=(f-u)/f;return h<0&&(h=1e-5),[s[0]+h*d[0],s[1]+h*d[1]]},We=function(o,s){var u=Dl(o,s);return Uu(u)},Uu=function(o){for(var s,u,d=o.length/2,f=1/0,h=1/0,g=-1/0,m=-1/0,v=0;v<d;v++)s=o[2*v],u=o[2*v+1],f=Math.min(f,s),g=Math.max(g,s),h=Math.min(h,u),m=Math.max(m,u);for(var _=2/(g-f),b=2/(m-h),D=0;D<d;D++)s=o[2*D]=o[2*D]*_,u=o[2*D+1]=o[2*D+1]*b,f=Math.min(f,s),g=Math.max(g,s),h=Math.min(h,u),m=Math.max(m,u);if(h<-1)for(var E=0;E<d;E++)u=o[2*E+1]=o[2*E+1]+(-1-h);return o},Dl=function(o,s){var u=1/o*2*Math.PI,d=o%2==0?Math.PI/2+u/2:Math.PI/2;d+=s;for(var h,f=new Array(2*o),g=0;g<o;g++)h=g*u+d,f[2*g]=Math.cos(h),f[2*g+1]=Math.sin(-h);return f},Cs=function(o,s){return Math.min(o/4,s/4,8)},Cl=function(o,s){return Math.min(o/10,s/10,8)},Bp=function(o,s){return{heightOffset:Math.min(15,.05*s),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},Hw=rr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),$w={pageRank:function(o){for(var s=Hw(o),u=s.dampingFactor,d=s.precision,f=s.iterations,h=s.weight,g=this._private.cy,m=this.byGroup(),v=m.nodes,_=m.edges,b=v.length,E=_.length,C=new Array(b*b),T=new Array(b),M=(1-u)/b,I=0;I<b;I++){for(var O=0;O<b;O++)C[I*b+O]=0;T[I]=0}for(var R=0;R<E;R++){var V=_[R],j=V.data("source"),P=V.data("target");if(j!==P){var $=v.indexOfId(j),k=v.indexOfId(P),G=h(V);C[k*b+$]+=G,T[$]+=G}}for(var B=1/b+M,z=0;z<b;z++)if(0===T[z])for(var H=0;H<b;H++)C[H*b+z]=B;else for(var q=0;q<b;q++){var W=q*b+z;C[W]=C[W]/T[z]+M}for(var he,ee=new Array(b),ae=new Array(b),te=0;te<b;te++)ee[te]=1;for(var de=0;de<f;de++){for(var ye=0;ye<b;ye++)ae[ye]=0;for(var we=0;we<b;we++)for(var _e=0;_e<b;_e++)ae[we]+=C[we*b+_e]*ee[_e];kw(ae),he=ee,ee=ae,ae=he;for(var ie=0,be=0;be<b;be++){var Ie=he[be]-ee[be];ie+=Ie*Ie}if(ie<d)break}return{rank:function(it){return it=g.collection(it)[0],ee[v.indexOf(it)]}}}},Ay=rr({root:null,weight:function(o){return 1},directed:!1,alpha:0}),El={degreeCentralityNormalized:function(o){o=Ay(o);var s=this.cy(),u=this.nodes(),d=u.length;if(o.directed){for(var _={},b={},D=0,E=0,C=0;C<d;C++){var T=u[C],M=T.id();o.root=T;var I=this.degreeCentrality(o);D<I.indegree&&(D=I.indegree),E<I.outdegree&&(E=I.outdegree),_[M]=I.indegree,b[M]=I.outdegree}return{indegree:function(N){return 0==D?0:(Pe(N)&&(N=s.filter(N)),_[N.id()]/D)},outdegree:function(N){return 0===E?0:(Pe(N)&&(N=s.filter(N)),b[N.id()]/E)}}}for(var f={},h=0,g=0;g<d;g++){var m=u[g];o.root=m;var v=this.degreeCentrality(o);h<v.degree&&(h=v.degree),f[m.id()]=v.degree}return{degree:function(N){return 0===h?0:(Pe(N)&&(N=s.filter(N)),f[N.id()]/h)}}},degreeCentrality:function(o){o=Ay(o);var s=this.cy(),u=this,f=o.root,h=o.weight,g=o.directed,m=o.alpha;if(f=s.collection(f)[0],g){for(var E=f.connectedEdges(),C=E.filter(function(j){return j.target().same(f)&&u.has(j)}),T=E.filter(function(j){return j.source().same(f)&&u.has(j)}),M=C.length,I=T.length,O=0,N=0,R=0;R<C.length;R++)O+=h(C[R]);for(var V=0;V<T.length;V++)N+=h(T[V]);return{indegree:Math.pow(M,1-m)*Math.pow(O,m),outdegree:Math.pow(I,1-m)*Math.pow(N,m)}}for(var v=f.connectedEdges().intersection(u),_=v.length,b=0,D=0;D<v.length;D++)b+=h(v[D]);return{degree:Math.pow(_,1-m)*Math.pow(b,m)}}};El.dc=El.degreeCentrality,El.dcn=El.degreeCentralityNormalised=El.degreeCentralityNormalized;var Es=rr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),da={closenessCentralityNormalized:function(o){for(var s=Es(o),u=s.harmonic,d=s.weight,f=s.directed,h=this.cy(),g={},m=0,v=this.nodes(),_=this.floydWarshall({weight:d,directed:f}),b=0;b<v.length;b++){for(var D=0,E=v[b],C=0;C<v.length;C++)if(b!==C){var T=_.distance(E,v[C]);D+=u?1/T:T}u||(D=1/D),m<D&&(m=D),g[E.id()]=D}return{closeness:function(I){return 0==m?0:(I=Pe(I)?h.filter(I)[0].id():I.id(),g[I]/m)}}},closenessCentrality:function(o){var s=Es(o),u=s.root,d=s.weight,f=s.directed,h=s.harmonic;u=this.filter(u)[0];for(var g=this.dijkstra({root:u,weight:d,directed:f}),m=0,v=this.nodes(),_=0;_<v.length;_++){var b=v[_];if(!b.same(u)){var D=g.distanceTo(b);m+=h?1/D:D}}return h?m:1/m}};da.cc=da.closenessCentrality,da.ccn=da.closenessCentralityNormalised=da.closenessCentralityNormalized;var Gu=rr({weight:null,directed:!1}),Yd={betweennessCentrality:function(o){for(var s=Gu(o),u=s.directed,d=s.weight,f=null!=d,h=this.cy(),g=this.nodes(),m={},v={},_=0,b={set:function(N,R){v[N]=R,R>_&&(_=R)},get:function(N){return v[N]}},D=0;D<g.length;D++){var E=g[D],C=E.id();m[C]=u?E.outgoers().nodes():E.openNeighborhood().nodes(),b.set(C,0)}for(var T=function(N){for(var R=g[N].id(),V=[],j={},P={},$={},k=new tt.default(function(_e,Ee){return $[_e]-$[Ee]}),G=0;G<g.length;G++){var U=g[G].id();j[U]=[],P[U]=0,$[U]=1/0}for(P[R]=1,$[R]=0,k.push(R);!k.empty();){var B=k.pop();if(V.push(B),f)for(var z=0;z<m[B].length;z++){var q,H=m[B][z],Q=h.getElementById(B);q=Q.edgesTo(H).length>0?Q.edgesTo(H)[0]:H.edgesTo(Q)[0];var W=d(q);H=H.id(),$[H]>$[B]+W&&($[H]=$[B]+W,k.nodes.indexOf(H)<0?k.push(H):k.updateItem(H),P[H]=0,j[H]=[]),$[H]==$[B]+W&&(P[H]=P[H]+P[B],j[H].push(B))}else for(var ee=0;ee<m[B].length;ee++){var ae=m[B][ee].id();$[ae]==1/0&&(k.push(ae),$[ae]=$[B]+1),$[ae]==$[B]+1&&(P[ae]=P[ae]+P[B],j[ae].push(B))}}for(var he={},te=0;te<g.length;te++)he[g[te].id()]=0;for(;V.length>0;){for(var de=V.pop(),ye=0;ye<j[de].length;ye++){var we=j[de][ye];he[we]=he[we]+P[we]/P[de]*(1+he[de])}de!=g[N].id()&&b.set(de,b.get(de)+he[de])}},M=0;M<g.length;M++)T(M);var I={betweenness:function(N){var R=h.collection(N).id();return b.get(R)},betweennessNormalized:function(N){if(0==_)return 0;var R=h.collection(N).id();return b.get(R)/_}};return I.betweennessNormalised=I.betweennessNormalized,I}};Yd.bc=Yd.betweennessCentrality;var Ry=rr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(a){return 1}]}),Vp=function(o,s){for(var u=0,d=0;d<s.length;d++)u+=s[d](o);return u},Hp=function(o,s){for(var u,d=0;d<s;d++){u=0;for(var f=0;f<s;f++)u+=o[f*s+d];for(var h=0;h<s;h++)o[h*s+d]=o[h*s+d]/u}},fa=function(o,s,u){for(var d=new Array(u*u),f=0;f<u;f++){for(var h=0;h<u;h++)d[f*u+h]=0;for(var g=0;g<u;g++)for(var m=0;m<u;m++)d[f*u+m]+=o[f*u+g]*s[g*u+m]}return d},ky=function(o,s,u){for(var d=o.slice(0),f=1;f<u;f++)o=fa(o,d,s);return o},Qe=function(o,s,u){for(var d=new Array(s*s),f=0;f<s*s;f++)d[f]=Math.pow(o[f],u);return Hp(d,s),d},$p=function(o,s,u,d){for(var f=0;f<u;f++)if(Math.round(o[f]*Math.pow(10,d))/Math.pow(10,d)!=Math.round(s[f]*Math.pow(10,d))/Math.pow(10,d))return!1;return!0},zu=function(o,s){for(var u=0;u<o.length;u++)if(!s[u]||o[u].id()!==s[u].id())return!1;return!0},Ts=function(o){for(var s=this.nodes(),u=this.edges(),d=this.cy(),f=function(o){return Ry(o)}(o),h={},g=0;g<s.length;g++)h[s[g].id()]=g;for(var b,m=s.length,v=m*m,_=new Array(v),D=0;D<v;D++)_[D]=0;for(var E=0;E<u.length;E++){var C=u[E],T=h[C.source().id()],M=h[C.target().id()],I=Vp(C,f.attributes);_[T*m+M]+=I,_[M*m+T]+=I}(function(o,s,u){for(var d=0;d<s;d++)o[d*s+d]=u})(_,m,f.multFactor),Hp(_,m);for(var O=!0,N=0;O&&N<f.maxIterations;)O=!1,b=ky(_,m,f.expandFactor),_=Qe(b,m,f.inflateFactor),$p(_,b,v,4)||(O=!0),N++;var R=function(o,s,u,d){for(var f=[],h=0;h<s;h++){for(var g=[],m=0;m<s;m++)Math.round(1e3*o[h*s+m])/1e3>0&&g.push(u[m]);0!==g.length&&f.push(d.collection(g))}return f}(_,m,s,d);return R=function(o){for(var s=0;s<o.length;s++)for(var u=0;u<o.length;u++)s!=u&&zu(o[s],o[u])&&o.splice(u,1);return o}(R),R},Fy={markovClustering:Ts,mcl:Ts},Ly=function(o){return o},jp=function(o,s){return Math.abs(s-o)},go=function(o,s,u){return o+jp(s,u)},Sl=function(o,s,u){return o+Math.pow(u-s,2)},eo=function(o){return Math.sqrt(o)},vo=function(o,s,u){return Math.max(o,jp(s,u))},Yt=function(o,s,u,d,f){for(var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ly,g=d,_=0;_<o;_++)g=f(g,s(_),u(_));return h(g)},Lo={euclidean:function(o,s,u){return o>=2?Yt(o,s,u,0,Sl,eo):Yt(o,s,u,0,go)},squaredEuclidean:function(o,s,u){return Yt(o,s,u,0,Sl)},manhattan:function(o,s,u){return Yt(o,s,u,0,go)},max:function(o,s,u){return Yt(o,s,u,-1/0,vo)}};function Ms(a,o,s,u,d,f){var h;return h=sn(a)?a:Lo[a]||Lo.euclidean,0===o&&sn(a)?h(d,f):h(o,s,u,d,f)}Lo["squared-euclidean"]=Lo.squaredEuclidean,Lo.squaredeuclidean=Lo.squaredEuclidean;var Qd=rr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Wu=function(o){return Qd(o)},Fi=function(o,s,u,d,f){var g="kMedoids"!==f?function(b){return u[b]}:function(b){return d[b](u)};return Ms(o,d.length,g,function(D){return d[D](s)},u,s)},ja=function(o,s,u){for(var d=u.length,f=new Array(d),h=new Array(d),g=new Array(s),m=null,v=0;v<d;v++)f[v]=o.min(u[v]).value,h[v]=o.max(u[v]).value;for(var _=0;_<s;_++){m=[];for(var b=0;b<d;b++)m[b]=Math.random()*(h[b]-f[b])+f[b];g[_]=m}return g},Xd=function(o,s,u,d,f){for(var h=1/0,g=0,m=0;m<s.length;m++){var v=Fi(u,o,s[m],d,f);v<h&&(h=v,g=m)}return g},Jd=function(o,s,u){for(var d=[],f=null,h=0;h<s.length;h++)u[(f=s[h]).id()]===o&&d.push(f);return d},ef=function(o,s,u){return Math.abs(s-o)<=u},Up=function(o,s,u){for(var d=0;d<o.length;d++)for(var f=0;f<o[d].length;f++)if(Math.abs(o[d][f]-s[d][f])>u)return!1;return!0},Gp=function(o,s,u){for(var d=0;d<u;d++)if(o===s[d])return!0;return!1},Is=function(o,s){var u=new Array(s);if(o.length<50)for(var d=0;d<s;d++){for(var f=o[Math.floor(Math.random()*o.length)];Gp(f,u,d);)f=o[Math.floor(Math.random()*o.length)];u[d]=f}else for(var h=0;h<s;h++)u[h]=o[Math.floor(Math.random()*o.length)];return u},tf=function(o,s,u){for(var d=0,f=0;f<s.length;f++)d+=Fi("manhattan",s[f],o,u,"kMedoids");return d},Wp=function(o,s,u,d,f){for(var h,g,m=0;m<s.length;m++)for(var v=0;v<o.length;v++)d[m][v]=Math.pow(u[m][v],f.m);for(var _=0;_<o.length;_++)for(var b=0;b<f.attributes.length;b++){h=0,g=0;for(var D=0;D<s.length;D++)h+=d[D][_]*f.attributes[b](s[D]),g+=d[D][_];o[_][b]=h/g}},Vy=function(o,s,u,d,f){for(var h=0;h<o.length;h++)s[h]=o[h].slice();for(var g,m,v,_=2/(f.m-1),b=0;b<u.length;b++)for(var D=0;D<d.length;D++){g=0;for(var E=0;E<u.length;E++)m=Fi(f.distance,d[D],u[b],f.attributes,"cmeans"),v=Fi(f.distance,d[D],u[E],f.attributes,"cmeans"),g+=Math.pow(m/v,_);o[D][b]=1/g}},Li=function(o){var f,h,g,m,v,s=this.cy(),u=this.nodes(),d=Wu(o);m=new Array(u.length);for(var _=0;_<u.length;_++)m[_]=new Array(d.k);g=new Array(u.length);for(var b=0;b<u.length;b++)g[b]=new Array(d.k);for(var D=0;D<u.length;D++){for(var E=0,C=0;C<d.k;C++)g[D][C]=Math.random(),E+=g[D][C];for(var T=0;T<d.k;T++)g[D][T]=g[D][T]/E}h=new Array(d.k);for(var M=0;M<d.k;M++)h[M]=new Array(d.attributes.length);v=new Array(u.length);for(var I=0;I<u.length;I++)v[I]=new Array(d.k);for(var O=!0,N=0;O&&N<d.maxIterations;)O=!1,Wp(h,u,g,v,d),Vy(g,m,h,u,d),Up(g,m,d.sensitivityThreshold)||(O=!0),N++;return f=function(o,s,u,d){for(var f=new Array(u.k),h=0;h<f.length;h++)f[h]=[];for(var g,m,v=0;v<s.length;v++){g=-1/0,m=-1;for(var _=0;_<s[0].length;_++)s[v][_]>g&&(g=s[v][_],m=_);f[m].push(o[v])}for(var b=0;b<f.length;b++)f[b]=d.collection(f[b]);return f}(u,g,d,s),{clusters:f,degreeOfMembership:g}},$y={kMeans:function(o){var m,s=this.cy(),u=this.nodes(),d=null,f=Wu(o),h=new Array(f.k),g={};m=f.testMode?"number"==typeof f.testCentroids?ja(u,f.k,f.attributes):"object"===Bt(f.testCentroids)?f.testCentroids:ja(u,f.k,f.attributes):ja(u,f.k,f.attributes);for(var v=!0,_=0;v&&_<f.maxIterations;){for(var b=0;b<u.length;b++)g[(d=u[b]).id()]=Xd(d,m,f.distance,f.attributes,"kMeans");v=!1;for(var D=0;D<f.k;D++){var E=Jd(D,u,g);if(0!==E.length){for(var C=f.attributes.length,T=m[D],M=new Array(C),I=new Array(C),O=0;O<C;O++){I[O]=0;for(var N=0;N<E.length;N++)I[O]+=f.attributes[O](d=E[N]);M[O]=I[O]/E.length,ef(M[O],T[O],f.sensitivityThreshold)||(v=!0)}m[D]=M,h[D]=s.collection(E)}}_++}return h},kMedoids:function(o){var g,v,s=this.cy(),u=this.nodes(),d=null,f=Wu(o),h=new Array(f.k),m={},_=new Array(f.k);f.testMode?"number"==typeof f.testCentroids||(g="object"===Bt(f.testCentroids)?f.testCentroids:Is(u,f.k)):g=Is(u,f.k);for(var b=!0,D=0;b&&D<f.maxIterations;){for(var E=0;E<u.length;E++)m[(d=u[E]).id()]=Xd(d,g,f.distance,f.attributes,"kMedoids");b=!1;for(var C=0;C<g.length;C++){var T=Jd(C,u,m);if(0!==T.length){_[C]=tf(g[C],T,f.attributes);for(var M=0;M<T.length;M++)(v=tf(T[M],T,f.attributes))<_[C]&&(_[C]=v,g[C]=T[M],b=!0);h[C]=s.collection(T)}}D++}return h},fuzzyCMeans:Li,fcm:Li},qp=rr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),jy={single:"min",complete:"max"},Kp=function(o,s,u,d,f){for(var m,h=0,g=1/0,v=f.attributes,_=function(k,G){return Ms(f.distance,v.length,function(U){return v[U](k)},function(U){return v[U](G)},k,G)},b=0;b<o.length;b++){var D=o[b].key,E=u[D][d[D]];E<g&&(h=D,g=E)}if("threshold"===f.mode&&g>=f.threshold||"dendrogram"===f.mode&&1===o.length)return!1;var M,C=s[h],T=s[d[h]];M="dendrogram"===f.mode?{left:C,right:T,key:C.key}:{value:C.value.concat(T.value),key:C.key},o[C.index]=M,o.splice(T.index,1),s[C.key]=M;for(var I=0;I<o.length;I++){var O=o[I];C.key===O.key?m=1/0:"min"===f.linkage?(m=u[C.key][O.key],u[C.key][O.key]>u[T.key][O.key]&&(m=u[T.key][O.key])):"max"===f.linkage?(m=u[C.key][O.key],u[C.key][O.key]<u[T.key][O.key]&&(m=u[T.key][O.key])):m="mean"===f.linkage?(u[C.key][O.key]*C.size+u[T.key][O.key]*T.size)/(C.size+T.size):"dendrogram"===f.mode?_(O.value,C.value):_(O.value[0],C.value[0]),u[C.key][O.key]=u[O.key][C.key]=m}for(var N=0;N<o.length;N++){var R=o[N].key;if(d[R]===C.key||d[R]===T.key){for(var V=R,j=0;j<o.length;j++){var P=o[j].key;u[R][P]<u[R][V]&&(V=P)}d[R]=V}o[N].index=N}return C.key=T.key=C.index=T.index=null,!0},qu=function a(o,s,u){o&&(o.value?s.push(o.value):(o.left&&a(o.left,s),o.right&&a(o.right,s)))},Yp=function a(o,s){if(!o)return"";if(o.left&&o.right){var u=a(o.left,s),d=a(o.right,s),f=s.add({group:"nodes",data:{id:u+","+d}});return s.add({group:"edges",data:{source:u,target:f.id()}}),s.add({group:"edges",data:{source:d,target:f.id()}}),f.id()}return o.value?o.value.id():void 0},Gy=function a(o,s,u){if(!o)return[];var d=[],f=[],h=[];return 0===s?(o.left&&qu(o.left,d),o.right&&qu(o.right,f),h=d.concat(f),[u.collection(h)]):1===s?o.value?[u.collection(o.value)]:(o.left&&qu(o.left,d),o.right&&qu(o.right,f),[u.collection(d),u.collection(f)]):o.value?[u.collection(o.value)]:(o.left&&(d=a(o.left,s-1,u)),o.right&&(f=a(o.right,s-1,u)),d.concat(f))},Zp=function(o){for(var s=this.cy(),u=this.nodes(),d=function(o){var s=qp(o),u=jy[s.linkage];return null!=u&&(s.linkage=u),s}(o),f=d.attributes,h=function(N,R){return Ms(d.distance,f.length,function(V){return f[V](N)},function(V){return f[V](R)},N,R)},g=[],m=[],v=[],_=[],b=0;b<u.length;b++){var D={value:"dendrogram"===d.mode?u[b]:[u[b]],key:b,index:b};g[b]=D,_[b]=D,m[b]=[],v[b]=0}for(var E=0;E<g.length;E++)for(var C=0;C<=E;C++){var T;T="dendrogram"===d.mode?E===C?1/0:h(g[E].value,g[C].value):E===C?1/0:h(g[E].value[0],g[C].value[0]),m[E][C]=T,m[C][E]=T,T<m[E][v[E]]&&(v[E]=C)}for(var M=Kp(g,_,m,v,d);M;)M=Kp(g,_,m,v,d);var I;return"dendrogram"===d.mode?(I=Gy(g[0],d.dendrogramDepth,s),d.addDendrogram&&Yp(g[0],s)):(I=new Array(g.length),g.forEach(function(O,N){O.key=O.index=null,I[N]=s.collection(O.value)})),I},zy={hierarchicalClustering:Zp,hca:Zp},Vr=rr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),qy=function(o,s,u,d){var f=function(g,m){return d[m](g)};return-Ms(o,d.length,function(h){return f(s,h)},function(h){return f(u,h)},s,u)},Qp=function(o,s,u){for(var d=[],f=0;f<o;f++){for(var h=-1,g=-1/0,m=0;m<u.length;m++){var v=u[m];s[f*o+v]>g&&(h=v,g=s[f*o+v])}h>0&&d.push(h)}for(var _=0;_<u.length;_++)d[u[_]]=u[_];return d},Be=function(o){for(var s=this.cy(),u=this.nodes(),d=function(o){var s=o.damping,u=o.preference;.5<=s&&s<1||fn("Damping must range on [0.5, 1).  Got: ".concat(s));var d=["median","mean","min","max"];return d.some(function(f){return f===u})||Ge(u)||fn("Preference must be one of [".concat(d.map(function(f){return"'".concat(f,"'")}).join(", "),"] or a number.  Got: ").concat(u)),Vr(o)}(o),f={},h=0;h<u.length;h++)f[u[h].id()]=h;var g,m,v,_,b,D,k;m=(g=u.length)*g,v=new Array(m);for(var E=0;E<m;E++)v[E]=-1/0;for(var C=0;C<g;C++)for(var T=0;T<g;T++)C!==T&&(v[C*g+T]=qy(d.distance,u[C],u[T],d.attributes));_=function(o,s){var u;return u="median"===s?function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(u<o.length&&o.splice(u,o.length-u),s>0&&o.splice(0,s)):o=o.slice(s,u);for(var g=0,m=o.length-1;m>=0;m--)h?isFinite(o[m])||(o[m]=-1/0,g++):o.splice(m,1);f&&o.sort(function(D,E){return D-E});var _=o.length,b=Math.floor(_/2);return _%2!=0?o[b+1+g]:(o[b-1+g]+o[b+g])/2}(o):"mean"===s?function(o){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,d=0,f=0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<u;h++){var g=o[h];isFinite(g)&&(d+=g,f++)}return d/f}(o):"min"===s?function(o){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,d=1/0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f<u;f++){var h=o[f];isFinite(h)&&(d=Math.min(h,d))}return d}(o):"max"===s?function(o){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,d=-1/0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f<u;f++){var h=o[f];isFinite(h)&&(d=Math.max(h,d))}return d}(o):s,u}(v,d.preference);for(var M=0;M<g;M++)v[M*g+M]=_;b=new Array(m);for(var I=0;I<m;I++)b[I]=0;D=new Array(m);for(var O=0;O<m;O++)D[O]=0;for(var N=new Array(g),R=new Array(g),V=new Array(g),j=0;j<g;j++)N[j]=0,R[j]=0,V[j]=0;for(var P=new Array(g*d.minIterations),$=0;$<P.length;$++)P[$]=0;for(k=0;k<d.maxIterations;k++){for(var G=0;G<g;G++){for(var U=-1/0,B=-1/0,z=-1,H=0,Q=0;Q<g;Q++)N[Q]=b[G*g+Q],(H=D[G*g+Q]+v[G*g+Q])>=U?(B=U,U=H,z=Q):H>B&&(B=H);for(var q=0;q<g;q++)b[G*g+q]=(1-d.damping)*(v[G*g+q]-U)+d.damping*N[q];b[G*g+z]=(1-d.damping)*(v[G*g+z]-B)+d.damping*N[z]}for(var W=0;W<g;W++){for(var ee=0,ae=0;ae<g;ae++)N[ae]=D[ae*g+W],R[ae]=Math.max(0,b[ae*g+W]),ee+=R[ae];ee-=R[W],R[W]=b[W*g+W],ee+=R[W];for(var he=0;he<g;he++)D[he*g+W]=(1-d.damping)*Math.min(0,ee-R[he])+d.damping*N[he];D[W*g+W]=(1-d.damping)*(ee-R[W])+d.damping*N[W]}for(var te=0,de=0;de<g;de++){var ye=D[de*g+de]+b[de*g+de]>0?1:0;P[k%d.minIterations*g+de]=ye,te+=ye}if(te>0&&(k>=d.minIterations-1||k==d.maxIterations-1)){for(var we=0,_e=0;_e<g;_e++){V[_e]=0;for(var Ee=0;Ee<d.minIterations;Ee++)V[_e]+=P[Ee*g+_e];(0===V[_e]||V[_e]===d.minIterations)&&we++}if(we===g)break}}for(var ie=function(o,s,u){for(var d=[],f=0;f<o;f++)s[f*o+f]+u[f*o+f]>0&&d.push(f);return d}(g,b,D),be=function(o,s,u){for(var d=Qp(o,s,u),f=0;f<u.length;f++){for(var h=[],g=0;g<d.length;g++)d[g]===u[f]&&h.push(g);for(var m=-1,v=-1/0,_=0;_<h.length;_++){for(var b=0,D=0;D<h.length;D++)b+=s[h[D]*o+h[_]];b>v&&(m=_,v=b)}u[f]=h[m]}return Qp(o,s,u)}(g,v,ie),Ie={},Me=0;Me<ie.length;Me++)Ie[ie[Me]]=[];for(var Re=0;Re<u.length;Re++){var St=be[f[u[Re].id()]];null!=St&&Ie[St].push(u[Re])}for(var He=new Array(ie.length),$e=0;$e<ie.length;$e++)He[$e]=s.collection(Ie[ie[$e]]);return He},ci={affinityPropagation:Be,ap:Be},en=rr({root:void 0,directed:!1}),Nr={hierholzer:function(o){if(!at(o)){var s=arguments;o={root:s[0],directed:s[1]}}var m,v,_,u=en(o),d=u.root,f=u.directed,h=this,g=!1;d&&(_=Pe(d)?this.filter(d)[0].id():d[0].id());var b={},D={};h.forEach(f?function(O){var N=O.id();if(O.isNode()){var R=O.indegree(!0),V=O.outdegree(!0),j=R-V,P=V-R;1==j?m?g=!0:m=N:1==P?v?g=!0:v=N:(P>1||j>1)&&(g=!0),b[N]=[],O.outgoers().forEach(function($){$.isEdge()&&b[N].push($.id())})}else D[N]=[void 0,O.target().id()]}:function(O){var N=O.id();O.isNode()?(O.degree(!0)%2&&(m?v?g=!0:v=N:m=N),b[N]=[],O.connectedEdges().forEach(function(V){return b[N].push(V.id())})):D[N]=[O.source().id(),O.target().id()]});var E={found:!1,trail:void 0};if(g)return E;if(v&&m)if(f){if(_&&v!=_)return E;_=v}else{if(_&&v!=_&&m!=_)return E;_||(_=v)}else _||(_=h[0].id());var C=function(N){for(var j,P,$,R=N,V=[N];b[R].length;)j=b[R].shift(),P=D[j][0],R!=($=D[j][1])?(b[$]=b[$].filter(function(k){return k!=j}),R=$):!f&&R!=P&&(b[P]=b[P].filter(function(k){return k!=j}),R=P),V.unshift(j),V.unshift(R);return V},T=[],M=[];for(M=C(_);1!=M.length;)0==b[M[0]].length?(T.unshift(h.getElementById(M.shift())),T.unshift(h.getElementById(M.shift()))):M=C(M.shift()).concat(M);for(var I in T.unshift(h.getElementById(M.shift())),b)if(b[I].length)return E;return E.found=!0,E.trail=this.spawn(T,!0),E}},_r=function(){var o=this,s={},u=0,d=0,f=[],h=[],g={},v=function b(D,E,C){D===C&&(d+=1),s[E]={id:u,low:u++,cutVertex:!1};var M,I,O,N,T=o.getElementById(E).connectedEdges().intersection(o);0===T.size()?f.push(o.spawn(o.getElementById(E))):T.forEach(function(R){M=R.source().id(),I=R.target().id(),(O=M===E?I:M)!==C&&(N=R.id(),g[N]||(g[N]=!0,h.push({x:E,y:O,edge:R})),O in s?s[E].low=Math.min(s[E].low,s[O].id):(b(D,O,E),s[E].low=Math.min(s[E].low,s[O].low),s[E].id<=s[O].low&&(s[E].cutVertex=!0,function(D,E){for(var C=h.length-1,T=[],M=o.spawn();h[C].x!=D||h[C].y!=E;)T.push(h.pop().edge),C--;T.push(h.pop().edge),T.forEach(function(I){var O=I.connectedNodes().intersection(o);M.merge(I),O.forEach(function(N){var R=N.id(),V=N.connectedEdges().intersection(o);M.merge(N),M.merge(s[R].cutVertex?V.filter(function(j){return j.isLoop()}):V)})}),f.push(M)}(E,O))))})};o.forEach(function(b){if(b.isNode()){var D=b.id();D in s||(d=0,v(D,D),s[D].cutVertex=d>1)}});var _=Object.keys(s).filter(function(b){return s[b].cutVertex}).map(function(b){return o.getElementById(b)});return{cut:o.spawn(_),components:f}},Hr=function(){var o=this,s={},u=0,d=[],f=[],h=o.spawn(o),g=function m(v){if(f.push(v),s[v]={index:u,low:u++,explored:!1},o.getElementById(v).connectedEdges().intersection(o).forEach(function(T){var M=T.target().id();M!==v&&(M in s||m(M),s[M].explored||(s[v].low=Math.min(s[v].low,s[M].low)))}),s[v].index===s[v].low){for(var b=o.spawn();;){var D=f.pop();if(b.merge(o.getElementById(D)),s[D].low=s[v].index,s[D].explored=!0,D===v)break}var E=b.edgesWith(b),C=b.merge(E);d.push(C),h=h.difference(C)}};return o.forEach(function(m){if(m.isNode()){var v=m.id();v in s||g(v)}}),{cut:h,components:d}},nf={};[ws,yt,xp,Xi,Sy,Pu,zt,$w,El,da,Yd,Fy,$y,zy,ci,Nr,{hopcroftTarjanBiconnected:_r,htbc:_r,htb:_r,hopcroftTarjanBiconnectedComponents:_r},{tarjanStronglyConnected:Hr,tsc:Hr,tscc:Hr,tarjanStronglyConnectedComponents:Hr}].forEach(function(a){mt(nf,a)});var vn=function a(o){if(!(this instanceof a))return new a(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};vn.prototype={fulfill:function(o){return Ke(this,1,"fulfillValue",o)},reject:function(o){return Ke(this,2,"rejectReason",o)},then:function(o,s){var u=this,d=new vn;return u.onFulfilled.push(Bi(o,d,"fulfill")),u.onRejected.push(Bi(s,d,"reject")),At(u),d.proxy}};var Ke=function(o,s,u,d){return 0===o.state&&(o.state=s,o[u]=d,At(o)),o},At=function(o){1===o.state?Bn(o,"onFulfilled",o.fulfillValue):2===o.state&&Bn(o,"onRejected",o.rejectReason)},Bn=function(o,s,u){if(0!==o[s].length){var d=o[s];o[s]=[];var f=function(){for(var g=0;g<d.length;g++)d[g](u)};"function"==typeof setImmediate?setImmediate(f):setTimeout(f,0)}},Bi=function(o,s,u){return function(d){if("function"!=typeof o)s[u].call(s,d);else{var f;try{f=o(d)}catch(h){return void s.reject(h)}Ml(s,f)}}},Ml=function a(o,s){if(o!==s&&o.proxy!==s){var u;if("object"===Bt(s)&&null!==s||"function"==typeof s)try{u=s.then}catch(f){return void o.reject(f)}if("function"!=typeof u)o.fulfill(s);else{var d=!1;try{u.call(s,function(f){d||(d=!0,f===s?o.reject(new TypeError("circular thenable chain")):a(o,f))},function(f){d||(d=!0,o.reject(f))})}catch(f){d||o.reject(f)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};vn.all=function(a){return new vn(function(o,s){for(var u=new Array(a.length),d=0,f=function(m,v){u[m]=v,++d===a.length&&o(u)},h=0;h<a.length;h++)!function(g){var m=a[g];null!=m&&null!=m.then?m.then(function(b){f(g,b)},function(b){s(b)}):f(g,m)}(h)})},vn.resolve=function(a){return new vn(function(o,s){o(a)})},vn.reject=function(a){return new vn(function(o,s){s(a)})};var Jn=typeof Promise<"u"?Promise:vn,ha=function(o,s,u){var d=zn(o),f=!d,h=this._private=mt({duration:1e3},s,u);if(h.target=o,h.style=h.style||h.css,h.started=!1,h.playing=!1,h.hooked=!1,h.applying=!1,h.progress=0,h.completes=[],h.frames=[],h.complete&&sn(h.complete)&&h.completes.push(h.complete),f){var g=o.position();h.startPosition=h.startPosition||{x:g.x,y:g.y},h.startStyle=h.startStyle||o.cy().style().getAnimationStartStyle(o,h.style)}if(d){var m=o.pan();h.startPan={x:m.x,y:m.y},h.startZoom=o.zoom()}this.length=1,this[0]=this},In=ha.prototype;mt(In,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var u=o.target._private.animation;(o.queue?u.queue:u.current).push(this),jt(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var s=this._private;return void 0===o?s.progress*s.duration:this.progress(o/s.duration)},progress:function(o){var s=this._private,u=s.playing;return void 0===o?s.progress:(u&&this.pause(),s.progress=o,s.started=!1,u&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,s=o.playing;s&&this.pause(),o.progress=1-o.progress,o.started=!1;var u=function(v,_){var b=o[v];null!=b&&(o[v]=o[_],o[_]=b)};if(u("zoom","startZoom"),u("pan","startPan"),u("position","startPosition"),o.style)for(var d=0;d<o.style.length;d++){var f=o.style[d],h=f.name,g=o.startStyle[h];o.startStyle[h]=f,o.style[d]=g}return s&&this.play(),this},promise:function(o){var u,s=this._private;return u="frame"===o?s.frames:s.completes,new Jn(function(d,f){u.push(function(){d()})})}}),In.complete=In.completed,In.run=In.play,In.running=In.playing;var Ns={data:function(o){return o=mt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(d){},beforeSet:function(d,f){},onSet:function(d){},canSet:function(d){return!0}},o),function(d,f){var h=o,g=this,m=void 0!==g.length,v=m?g:[g],_=m?g[0]:g;if(Pe(d)){var E,D=-1!==d.indexOf(".")&&Fn.default(d);if(h.allowGetting&&void 0===f)return _&&(h.beforeGet(_),E=D&&void 0===_._private[h.field][d]?rt.default(_._private[h.field],D):_._private[h.field][d]),E;if(h.allowSetting&&void 0!==f&&!h.immutableKeys[d]){var T=Kn({},d,f);h.beforeSet(g,T);for(var M=0,I=v.length;M<I;M++){var O=v[M];h.canSet(O)&&(D&&void 0===_._private[h.field][d]?ct.default(O._private[h.field],D,f):O._private[h.field][d]=f)}h.updateStyle&&g.updateStyle(),h.onSet(g),h.settingTriggersEvent&&g[h.triggerFnName](h.settingEvent)}}else if(h.allowSetting&&at(d)){var R,V,N=d,j=Object.keys(N);h.beforeSet(g,N);for(var P=0;P<j.length;P++)if(V=N[R=j[P]],!h.immutableKeys[R])for(var k=0;k<v.length;k++){var G=v[k];h.canSet(G)&&(G._private[h.field][R]=V)}h.updateStyle&&g.updateStyle(),h.onSet(g),h.settingTriggersEvent&&g[h.triggerFnName](h.settingEvent)}else if(h.allowBinding&&sn(d))g.on(h.bindingEvent,d);else if(h.allowGetting&&void 0===d){var B;return _&&(h.beforeGet(_),B=_._private[h.field]),B}return g}},removeData:function(o){return o=mt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(d){var f=o,h=this,m=void 0!==h.length?h:[h];if(Pe(d)){for(var v=d.split(/\s+/),_=v.length,b=0;b<_;b++){var D=v[b];if(!Ut(D)&&!f.immutableKeys[D])for(var C=0,T=m.length;C<T;C++)m[C]._private[f.field][D]=void 0}f.triggerEvent&&h[f.triggerFnName](f.event)}else if(void 0===d){for(var M=0,I=m.length;M<I;M++)for(var O=m[M]._private[f.field],N=Object.keys(O),R=0;R<N.length;R++){var V=N[R];!f.immutableKeys[V]&&(O[V]=void 0)}f.triggerEvent&&h[f.triggerFnName](f.event)}return h}}},Ot={eventAliasesOn:function(o){var s=o;s.addListener=s.listen=s.bind=s.on,s.unlisten=s.unbind=s.off=s.removeListener,s.trigger=s.emit,s.pon=s.promiseOn=function(u,d){var f=this,h=Array.prototype.slice.call(arguments,0);return new Jn(function(g,m){var _=h.concat([function(E){f.off.apply(f,b),g(E)}]),b=_.concat([]);f.on.apply(f,_)})}}},tn={};[{animated:function(){return function(){var s=this,d=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return!1;var h=d[0];return h?h._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var s=this,d=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return this;for(var h=0;h<d.length;h++)d[h]._private.animation.queue=[];return this}},delay:function(){return function(s,u){return(this._private.cy||this).styleEnabled()?this.animate({delay:s,duration:s,complete:u}):this}},delayAnimation:function(){return function(s,u){return(this._private.cy||this).styleEnabled()?this.animation({delay:s,duration:s,complete:u}):this}},animation:function(){return function(s,u){var d=this,f=void 0!==d.length,h=f?d:[d],g=this._private.cy||this,m=!f,v=!m;if(!g.styleEnabled())return this;var _=g.style();if(s=mt({},s,u),0===Object.keys(s).length)return new ha(h[0],s);switch(void 0===s.duration&&(s.duration=400),s.duration){case"slow":s.duration=600;break;case"fast":s.duration=200}if(v&&(s.style=_.getPropsList(s.style||s.css),s.css=void 0),v&&null!=s.renderedPosition){var D=s.renderedPosition,E=g.pan(),C=g.zoom();s.position=ku(D,C,E)}if(m&&null!=s.panBy){var T=s.panBy,M=g.pan();s.pan={x:M.x+T.x,y:M.y+T.y}}var I=s.center||s.centre;if(m&&null!=I){var O=g.getCenterPan(I.eles,s.zoom);null!=O&&(s.pan=O)}if(m&&null!=s.fit){var N=s.fit,R=g.getFitViewport(N.eles||N.boundingBox,N.padding);null!=R&&(s.pan=R.pan,s.zoom=R.zoom)}if(m&&at(s.zoom)){var V=g.getZoomedViewport(s.zoom);null!=V?(V.zoomed&&(s.zoom=V.zoom),V.panned&&(s.pan=V.pan)):s.zoom=null}return new ha(h[0],s)}},animate:function(){return function(s,u){var d=this,h=void 0!==d.length?d:[d];if(!(this._private.cy||this).styleEnabled())return this;u&&(s=mt({},s,u));for(var m=0;m<h.length;m++){var v=h[m],_=v.animated()&&(void 0===s.queue||s.queue);v.animation(s,_?{queue:!0}:void 0).play()}return this}},stop:function(){return function(s,u){var d=this,h=void 0!==d.length?d:[d],g=this._private.cy||this;if(!g.styleEnabled())return this;for(var m=0;m<h.length;m++){for(var _=h[m]._private,b=_.animation.current,D=0;D<b.length;D++)u&&(b[D]._private.duration=0);s&&(_.animation.queue=[]),u||(_.animation.current=[])}return g.notify("draw"),this}}},Ns,Ot].forEach(function(a){mt(tn,a)});var ng={animate:tn.animate(),animation:tn.animation(),animated:tn.animated(),clearQueue:tn.clearQueue(),delay:tn.delay(),delayAnimation:tn.delayAnimation(),stop:tn.stop()},Bo={classes:function(o){var s=this;if(void 0===o){var u=[];return s[0]._private.classes.forEach(function(C){return u.push(C)}),u}Jt(o)||(o=(o||"").match(/\S+/g)||[]);for(var d=[],f=new bs(o),h=0;h<s.length;h++){for(var g=s[h],m=g._private,v=m.classes,_=!1,b=0;b<o.length;b++)if(!v.has(o[b])){_=!0;break}_||(_=v.size!==o.length),_&&(m.classes=f,d.push(g))}return d.length>0&&this.spawn(d).updateStyle().emit("class"),s},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var s=this[0];return null!=s&&s._private.classes.has(o)},toggleClass:function(o,s){Jt(o)||(o=o.match(/\S+/g)||[]);for(var u=this,d=void 0===s,f=[],h=0,g=u.length;h<g;h++)for(var m=u[h],v=m._private.classes,_=!1,b=0;b<o.length;b++){var D=o[b],E=v.has(D),C=!1;s||d&&!E?(v.add(D),C=!0):(!s||d&&E)&&(v.delete(D),C=!0),!_&&C&&(f.push(m),_=!0)}return f.length>0&&this.spawn(f).updateStyle().emit("class"),u},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,s){var u=this;if(null==s)s=250;else if(0===s)return u;return u.addClass(o),setTimeout(function(){u.removeClass(o)},s),u}};Bo.className=Bo.classNames=Bo.classes;var gt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:vr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};gt.variable="(?:[\\w-.]|(?:\\\\"+gt.metaChar+"))+",gt.className="(?:[\\w-]|(?:\\\\"+gt.metaChar+"))+",gt.value=gt.string+"|"+gt.number,gt.id=gt.variable,function(){var a,o,s;for(a=gt.comparatorOp.split("|"),s=0;s<a.length;s++)gt.comparatorOp+="|@"+(o=a[s]);for(a=gt.comparatorOp.split("|"),s=0;s<a.length;s++)!((o=a[s]).indexOf("!")>=0)&&"="!==o&&(gt.comparatorOp+="|\\!"+o)}();var Vi=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(a,o){return function(o,s){return-1*Fd(o,s)}(a.selector,o.selector)}),Il=function(){for(var o,a={},s=0;s<Vi.length;s++)a[(o=Vi[s]).selector]=o.matches;return a}(),ga="("+Vi.map(function(a){return a.selector}).join("|")+")",di=function(o){return o.replace(new RegExp("\\\\("+gt.metaChar+")","g"),function(s,u){return u})},Hi=function(o,s,u){o[o.length-1]=u},Ua=[{name:"group",query:!0,regex:"("+gt.group+")",populate:function(o,s,u){var f=Xt(u,1)[0];s.checks.push({type:0,value:"*"===f?f:f+"s"})}},{name:"state",query:!0,regex:ga,populate:function(o,s,u){var d=Xt(u,1);s.checks.push({type:7,value:d[0]})}},{name:"id",query:!0,regex:"\\#("+gt.id+")",populate:function(o,s,u){var d=Xt(u,1);s.checks.push({type:8,value:di(d[0])})}},{name:"className",query:!0,regex:"\\.("+gt.className+")",populate:function(o,s,u){var d=Xt(u,1);s.checks.push({type:9,value:di(d[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+gt.variable+")\\s*\\]",populate:function(o,s,u){var d=Xt(u,1);s.checks.push({type:4,field:di(d[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+gt.variable+")\\s*("+gt.comparatorOp+")\\s*("+gt.value+")\\s*\\]",populate:function(o,s,u){var d=Xt(u,3),f=d[0],h=d[1],g=d[2];g=null!=new RegExp("^"+gt.string+"$").exec(g)?g.substring(1,g.length-1):parseFloat(g),s.checks.push({type:3,field:di(f),operator:h,value:g})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+gt.boolOp+")\\s*("+gt.variable+")\\s*\\]",populate:function(o,s,u){var d=Xt(u,2),f=d[0];s.checks.push({type:5,field:di(d[1]),operator:f})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+gt.meta+")\\s*("+gt.comparatorOp+")\\s*("+gt.number+")\\s*\\]\\]",populate:function(o,s,u){var d=Xt(u,3),h=d[1],g=d[2];s.checks.push({type:6,field:di(d[0]),operator:h,value:parseFloat(g)})}},{name:"nextQuery",separator:!0,regex:gt.separator,populate:function(o,s){var u=o.currentSubject,d=o.edgeCount,f=o.compoundCount,h=o[o.length-1];return null!=u&&(h.subject=u,o.currentSubject=null),h.edgeCount=d,h.compoundCount=f,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:gt.directedEdge,populate:function(o,s){if(null==o.currentSubject){var u={checks:[]},f={checks:[]};return u.checks.push({type:11,source:s,target:f}),Hi(o,0,u),o.edgeCount++,f}var h={checks:[]},m={checks:[]};return h.checks.push({type:12,source:s,target:m}),Hi(o,0,h),o.edgeCount++,m}},{name:"undirectedEdge",separator:!0,regex:gt.undirectedEdge,populate:function(o,s){if(null==o.currentSubject){var u={checks:[]},f={checks:[]};return u.checks.push({type:10,nodes:[s,f]}),Hi(o,0,u),o.edgeCount++,f}var h={checks:[]},m={checks:[]};return h.checks.push({type:14,node:s,neighbor:m}),Hi(o,0,h),m}},{name:"child",separator:!0,regex:gt.child,populate:function(o,s){if(null==o.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:15,parent:o[o.length-1],child:d}),Hi(o,0,u),o.compoundCount++,d}if(o.currentSubject===s){var h={checks:[]},m={checks:[]},v={checks:[]},_={checks:[]},b={checks:[]};return h.checks.push({type:19,left:o[o.length-1],right:m,subject:v}),v.checks=s.checks,s.checks=[{type:20}],b.checks.push({type:20}),m.checks.push({type:17,parent:b,child:_}),Hi(o,0,h),o.currentSubject=v,o.compoundCount++,_}var D={checks:[]},E={checks:[]},C=[{type:17,parent:D,child:E}];return D.checks=s.checks,s.checks=C,o.compoundCount++,E}},{name:"descendant",separator:!0,regex:gt.descendant,populate:function(o,s){if(null==o.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:16,ancestor:o[o.length-1],descendant:d}),Hi(o,0,u),o.compoundCount++,d}if(o.currentSubject===s){var h={checks:[]},m={checks:[]},v={checks:[]},_={checks:[]},b={checks:[]};return h.checks.push({type:19,left:o[o.length-1],right:m,subject:v}),v.checks=s.checks,s.checks=[{type:20}],b.checks.push({type:20}),m.checks.push({type:18,ancestor:b,descendant:_}),Hi(o,0,h),o.currentSubject=v,o.compoundCount++,_}var D={checks:[]},E={checks:[]},C=[{type:18,ancestor:D,descendant:E}];return D.checks=s.checks,s.checks=C,o.compoundCount++,E}},{name:"subject",modifier:!0,regex:gt.subject,populate:function(o,s){if(null!=o.currentSubject&&o.currentSubject!==s)return bt("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=s;var d=o[o.length-1].checks[0],f=null==d?null:d.type;11===f?d.type=13:10===f&&(d.type=14,d.node=d.nodes[1],d.neighbor=d.nodes[0],d.nodes=null)}}];Ua.forEach(function(a){return a.regexObj=new RegExp("^"+a.regex)});var Wt=function(o){for(var s,u,d,f=0;f<Ua.length;f++){var h=Ua[f],g=h.name,m=o.match(h.regexObj);if(null!=m){u=m,s=h,d=g,o=o.substring(m[0].length);break}}return{expr:s,match:u,name:d,remaining:o}},mo={parse:function(o){var s=this,u=s.inputText=o,d=s[0]={checks:[]};for(s.length=1,u=function(o){var s=o.match(/^\s+/);return s&&(o=o.substring(s[0].length)),o}(u);;){var f=Wt(u);if(null==f.expr)return bt("The selector `"+o+"`is invalid"),!1;var h=f.match.slice(1),g=f.expr.populate(s,d,h);if(!1===g)return!1;if(null!=g&&(d=g),(u=f.remaining).match(/^\s*$/))break}var m=s[s.length-1];null!=s.currentSubject&&(m.subject=s.currentSubject),m.edgeCount=s.edgeCount,m.compoundCount=s.compoundCount;for(var v=0;v<s.length;v++){var _=s[v];if(_.compoundCount>0&&_.edgeCount>0)return bt("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(_.edgeCount>1)return bt("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===_.edgeCount&&bt("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(_){return _??""},s=function(_){return Pe(_)?'"'+_+'"':o(_)},u=function(_){return" "+_+" "},f=function(_,b){return _.checks.reduce(function(D,E,C){return D+(b===_&&0===C?"$":"")+function(_,b){var E=_.value;switch(_.type){case 0:var C=o(E);return C.substring(0,C.length-1);case 3:return"["+_.field+u(o(_.operator))+s(E)+"]";case 5:var O=_.field;return"["+o(_.operator)+O+"]";case 4:return"["+_.field+"]";case 6:return"[["+_.field+u(o(_.operator))+s(E)+"]]";case 7:return E;case 8:return"#"+E;case 9:return"."+E;case 17:case 15:return f(_.parent,b)+u(">")+f(_.child,b);case 18:case 16:return f(_.ancestor,b)+" "+f(_.descendant,b);case 19:var j=f(_.left,b),P=f(_.subject,b),$=f(_.right,b);return j+(j.length>0?" ":"")+P+$;case 20:return""}}(E,b)},"")},h="",g=0;g<this.length;g++){var m=this[g];h+=f(m,m.subject),this.length>1&&g<this.length-1&&(h+=", ")}return this.toStringCache=h,h}},xl=function(o,s,u){var d,m,v,f=Pe(o),h=Ge(o),g=Pe(u),_=!1,b=!1,D=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),b=!0),s.indexOf("@")>=0&&(s=s.replace("@",""),_=!0),(f||g||_)&&(m=f||h?""+o:"",v=""+u),_&&(o=m=m.toLowerCase(),u=v=v.toLowerCase()),s){case"*=":d=m.indexOf(v)>=0;break;case"$=":d=m.indexOf(v,m.length-v.length)>=0;break;case"^=":d=0===m.indexOf(v);break;case"=":d=o===u;break;case">":D=!0,d=o>u;break;case">=":D=!0,d=o>=u;break;case"<":D=!0,d=o<u;break;case"<=":D=!0,d=o<=u;break;default:d=!1}return b&&(null!=o||!D)&&(d=!d),d},dr=function(o,s){return o.data(s)},Qt=[],Gt=function(o,s){return o.checks.every(function(u){return Qt[u.type](u,s)})};Qt[0]=function(a,o){var s=a.value;return"*"===s||s===o.group()},Qt[7]=function(a,o){return function(o,s){return Il[o](s)}(a.value,o)},Qt[8]=function(a,o){var s=a.value;return o.id()===s},Qt[9]=function(a,o){return o.hasClass(a.value)},Qt[6]=function(a,o){var u=a.operator,d=a.value;return xl(function(o,s){return o[s]()}(o,a.field),u,d)},Qt[3]=function(a,o){var u=a.operator,d=a.value;return xl(dr(o,a.field),u,d)},Qt[5]=function(a,o){var u=a.operator;return function(o,s){switch(s){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(dr(o,a.field),u)},Qt[4]=function(a,o){return function(o){return void 0!==o}(dr(o,a.field))},Qt[10]=function(a,o){var s=a.nodes[0],u=a.nodes[1],d=o.source(),f=o.target();return Gt(s,d)&&Gt(u,f)||Gt(u,d)&&Gt(s,f)},Qt[14]=function(a,o){return Gt(a.node,o)&&o.neighborhood().some(function(s){return s.isNode()&&Gt(a.neighbor,s)})},Qt[11]=function(a,o){return Gt(a.source,o.source())&&Gt(a.target,o.target())},Qt[12]=function(a,o){return Gt(a.source,o)&&o.outgoers().some(function(s){return s.isNode()&&Gt(a.target,s)})},Qt[13]=function(a,o){return Gt(a.target,o)&&o.incomers().some(function(s){return s.isNode()&&Gt(a.source,s)})},Qt[15]=function(a,o){return Gt(a.child,o)&&Gt(a.parent,o.parent())},Qt[17]=function(a,o){return Gt(a.parent,o)&&o.children().some(function(s){return Gt(a.child,s)})},Qt[16]=function(a,o){return Gt(a.descendant,o)&&o.ancestors().some(function(s){return Gt(a.ancestor,s)})},Qt[18]=function(a,o){return Gt(a.ancestor,o)&&o.descendants().some(function(s){return Gt(a.descendant,s)})},Qt[19]=function(a,o){return Gt(a.subject,o)&&Gt(a.left,o)&&Gt(a.right,o)},Qt[20]=function(){return!0},Qt[1]=function(a,o){return a.value.has(o)},Qt[2]=function(a,o){return(0,a.value)(o)};var Ku={matches:function(o){for(var u=0;u<this.length;u++)if(Gt(this[u],o))return!0;return!1},filter:function(o){var s=this;if(1===s.length&&1===s[0].checks.length&&8===s[0].checks[0].type)return o.getElementById(s[0].checks[0].value).collection();var u=function(f){for(var h=0;h<s.length;h++)if(Gt(s[h],f))return!0;return!1};return null==s.text()&&(u=function(){return!0}),o.filter(u)}},br=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Pe(o)&&o.match(/^\s*$/)||(jt(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):sn(o)?this.addQuery({checks:[{type:2,value:o}]}):Pe(o)?this.parse(o)||(this.invalid=!0):fn("A selector must be created from a string; found "))},yo=br.prototype;[mo,Ku].forEach(function(a){return mt(yo,a)}),yo.text=function(){return this.inputText},yo.size=function(){return this.length},yo.eq=function(a){return this[a]},yo.sameText=function(a){return!this.invalid&&!a.invalid&&this.text()===a.text()},yo.addQuery=function(a){this[this.length++]=a},yo.selector=yo.toString;var va={allAre:function(o){var s=new br(o);return this.every(function(u){return s.matches(u)})},is:function(o){var s=new br(o);return this.some(function(u){return s.matches(u)})},some:function(o,s){for(var u=0;u<this.length;u++)if(s?o.apply(s,[this[u],u,this]):o(this[u],u,this))return!0;return!1},every:function(o,s){for(var u=0;u<this.length;u++)if(!(s?o.apply(s,[this[u],u,this]):o(this[u],u,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var s=this.length;return s===o.length&&(1===s?this[0]===o[0]:this.every(function(d){return o.hasElementWithId(d.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(s){return o.hasElementWithId(s.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var s=this.neighborhood();return o.every(function(u){return s.hasElementWithId(u.id())})},contains:function(o){o=this.cy().collection(o);var s=this;return o.every(function(u){return s.hasElementWithId(u.id())})}};va.allAreNeighbours=va.allAreNeighbors,va.has=va.contains,va.equal=va.equals=va.same;var Yu,Zy,$i=function(o,s){return function(d,f,h,g){var _,m=d,v=this;if(null==m?_="":jt(m)&&1===m.length&&(_=m.id()),1===v.length&&_){var b=v[0]._private,D=b.traversalCache=b.traversalCache||{},E=D[s]=D[s]||[],C=la(_);return E[C]||(E[C]=o.call(v,d,f,h,g))}return o.call(v,d,f,h,g)}},Ol={parent:function(o){var s=[];if(1===this.length){var u=this[0]._private.parent;if(u)return u}for(var d=0;d<this.length;d++){var h=this[d]._private.parent;h&&s.push(h)}return this.spawn(s,!0).filter(o)},parents:function(o){for(var s=[],u=this.parent();u.nonempty();){for(var d=0;d<u.length;d++)s.push(u[d]);u=u.parent()}return this.spawn(s,!0).filter(o)},commonAncestors:function(o){for(var s,u=0;u<this.length;u++){var f=this[u].parents();s=(s=s||f).intersect(f)}return s.filter(o)},orphans:function(o){return this.stdFilter(function(s){return s.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(s){return s.isChild()}).filter(o)},children:$i(function(a){for(var o=[],s=0;s<this.length;s++)for(var d=this[s]._private.children,f=0;f<d.length;f++)o.push(d[f]);return this.spawn(o,!0).filter(a)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var s=[];return function u(d){for(var f=0;f<d.length;f++){var h=d[f];s.push(h),h.children().nonempty()&&u(h.children())}}(this.children()),this.spawn(s,!0).filter(o)}};function sf(a,o,s,u){for(var d=[],f=new bs,g=a.cy().hasCompoundNodes(),m=0;m<a.length;m++){var v=a[m];s?d.push(v):g&&u(d,f,v)}for(;d.length>0;){var _=d.shift();o(_),f.add(_.id()),g&&u(d,f,_)}return a}function og(a,o,s){if(s.isParent())for(var u=s._private.children,d=0;d<u.length;d++){var f=u[d];o.has(f.id())||a.push(f)}}function Yy(a,o,s){if(s.isChild()){var u=s._private.parent;o.has(u.id())||a.push(u)}}function Gw(a,o,s){Yy(a,o,s),og(a,o,s)}Ol.forEachDown=function(a){return sf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],og)},Ol.forEachUp=function(a){return sf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Yy)},Ol.forEachUpAndDown=function(a){return sf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Gw)},Ol.ancestors=Ol.parents,Yu=Zy={data:tn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:tn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:tn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:tn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:tn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:tn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Yu.attr=Yu.data,Yu.removeAttr=Yu.removeData;var zw=Zy,lf={};function ag(a){return function(o){var s=this;if(void 0===o&&(o=!0),0===s.length);else if(s.isNode()&&!s.removed()){for(var u=0,d=s[0],f=d._private.edges,h=0;h<f.length;h++){var g=f[h];!o&&g.isLoop()||(u+=a(d,g))}return u}}}function Al(a,o){return function(s){for(var u,d=this.nodes(),f=0;f<d.length;f++){var g=d[f][a](s);void 0!==g&&(void 0===u||o(g,u))&&(u=g)}return u}}mt(lf,{degree:ag(function(a,o){return o.source().same(o.target())?2:1}),indegree:ag(function(a,o){return o.target().same(a)?1:0}),outdegree:ag(function(a,o){return o.source().same(a)?1:0})}),mt(lf,{minDegree:Al("degree",function(a,o){return a<o}),maxDegree:Al("degree",function(a,o){return a>o}),minIndegree:Al("indegree",function(a,o){return a<o}),maxIndegree:Al("indegree",function(a,o){return a>o}),minOutdegree:Al("outdegree",function(a,o){return a<o}),maxOutdegree:Al("outdegree",function(a,o){return a>o})}),mt(lf,{totalDegree:function(o){for(var s=0,u=this.nodes(),d=0;d<u.length;d++)s+=u[d].degree(o);return s}});var _o,Qy,Xy=function(o,s,u){for(var d=0;d<o.length;d++){var f=o[d];if(!f.locked()){var h=f._private.position,g={x:null!=s.x?s.x-h.x:0,y:null!=s.y?s.y-h.y:0};f.isParent()&&!(0===g.x&&0===g.y)&&f.children().shift(g,u),f.dirtyBoundingBoxCache()}}},Jy={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,s){Xy(o,s,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};_o=Qy={position:tn.data(Jy),silentPosition:tn.data(mt({},Jy,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,s){Xy(o,s,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,s){if(at(o))s?this.silentPosition(o):this.position(o);else if(sn(o)){var u=o,d=this.cy();d.startBatch();for(var f=0;f<this.length;f++){var g,h=this[f];(g=u(h,f))&&(s?h.silentPosition(g):h.position(g))}d.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,s,u){var d;if(at(o)?(d={x:Ge(o.x)?o.x:0,y:Ge(o.y)?o.y:0},u=s):Pe(o)&&Ge(s)&&((d={x:0,y:0})[o]=s),null!=d){var f=this.cy();f.startBatch();for(var h=0;h<this.length;h++){var g=this[h];if(!(f.hasCompoundNodes()&&g.isChild()&&g.ancestors().anySame(this))){var m=g.position(),v={x:m.x+d.x,y:m.y+d.y};u?g.silentPosition(v):g.position(v)}}f.endBatch()}return this},silentShift:function(o,s){return at(o)?this.shift(o,!0):Pe(o)&&Ge(s)&&this.shift(o,s,!0),this},renderedPosition:function(o,s){var u=this[0],d=this.cy(),f=d.zoom(),h=d.pan(),g=at(o)?o:void 0,m=void 0!==g||void 0!==s&&Pe(o);if(u&&u.isNode()){if(!m){var b=u.position();return g=Ds(b,f,h),void 0===o?g:g[o]}for(var v=0;v<this.length;v++){var _=this[v];void 0!==s?_.position(o,(s-h[o])/f):void 0!==g&&_.position(ku(g,f,h))}}else if(!m)return;return this},relativePosition:function(o,s){var u=this[0],d=this.cy(),f=at(o)?o:void 0,h=void 0!==f||void 0!==s&&Pe(o),g=d.hasCompoundNodes();if(u&&u.isNode()){if(!h){var C=u.position(),T=g?u.parent():null,M=T&&T.length>0;M&&(T=T[0]);var O=M?T.position():{x:0,y:0};return f={x:C.x-O.x,y:C.y-O.y},void 0===o?f:f[o]}for(var m=0;m<this.length;m++){var v=this[m],_=g?v.parent():null,b=_&&_.length>0;b&&(_=_[0]);var E=b?_.position():{x:0,y:0};void 0!==s?v.position(o,s+E[o]):void 0!==f&&v.position({x:f.x+E.x,y:f.y+E.y})}}else if(!h)return;return this}},_o.modelPosition=_o.point=_o.position,_o.modelPositions=_o.points=_o.positions,_o.renderedPoint=_o.renderedPosition,_o.relativePoint=_o.relativePosition;var za,Wa,sg=Qy;za=Wa={},Wa.renderedBoundingBox=function(a){var o=this.boundingBox(a),s=this.cy(),u=s.zoom(),d=s.pan(),f=o.x1*u+d.x,h=o.x2*u+d.x,g=o.y1*u+d.y,m=o.y2*u+d.y;return{x1:f,x2:h,y1:g,y2:m,w:h-f,h:m-g}},Wa.dirtyCompoundBoundsCache=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(s){if(s.isParent()){var u=s._private;u.compoundBoundsClean=!1,u.bbCache=null,a||s.emitAndNotify("bounds")}}),this):this},Wa.updateCompoundBounds=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!a&&o.batching())return this;function s(h){if(h.isParent()){var g=h._private,m=h.children(),v="include"===h.pstyle("compound-sizing-wrt-labels").value,_={width:{val:h.pstyle("min-width").pfValue,left:h.pstyle("min-width-bias-left"),right:h.pstyle("min-width-bias-right")},height:{val:h.pstyle("min-height").pfValue,top:h.pstyle("min-height-bias-top"),bottom:h.pstyle("min-height-bias-bottom")}},b=m.boundingBox({includeLabels:v,includeOverlays:!1,useCache:!1}),D=g.position;(0===b.w||0===b.h)&&((b={w:h.pstyle("width").pfValue,h:h.pstyle("height").pfValue}).x1=D.x-b.w/2,b.x2=D.x+b.w/2,b.y1=D.y-b.h/2,b.y2=D.y+b.h/2);var T=_.width.left.value;"px"===_.width.left.units&&_.width.val>0&&(T=100*T/_.width.val);var M=_.width.right.value;"px"===_.width.right.units&&_.width.val>0&&(M=100*M/_.width.val);var I=_.height.top.value;"px"===_.height.top.units&&_.height.val>0&&(I=100*I/_.height.val);var O=_.height.bottom.value;"px"===_.height.bottom.units&&_.height.val>0&&(O=100*O/_.height.val);var N=E(_.width.val-b.w,T,M),R=N.biasDiff,V=N.biasComplementDiff,j=E(_.height.val-b.h,I,O),P=j.biasDiff,$=j.biasComplementDiff;g.autoPadding=function C(k,G,U,B){if("%"!==U.units)return"px"===U.units?U.pfValue:0;switch(B){case"width":return k>0?U.pfValue*k:0;case"height":return G>0?U.pfValue*G:0;case"average":return k>0&&G>0?U.pfValue*(k+G)/2:0;case"min":return k>0&&G>0?k>G?U.pfValue*G:U.pfValue*k:0;case"max":return k>0&&G>0?k>G?U.pfValue*k:U.pfValue*G:0;default:return 0}}(b.w,b.h,h.pstyle("padding"),h.pstyle("padding-relative-to").value),g.autoWidth=Math.max(b.w,_.width.val),D.x=(-R+b.x1+b.x2+V)/2,g.autoHeight=Math.max(b.h,_.height.val),D.y=(-P+b.y1+b.y2+$)/2}function E(k,G,U){var B=0,z=0,H=G+U;return k>0&&H>0&&(B=G/H*k,z=U/H*k),{biasDiff:B,biasComplementDiff:z}}}for(var u=0;u<this.length;u++){var d=this[u],f=d._private;(!f.compoundBoundsClean||a)&&(s(d),o.batching()||(f.compoundBoundsClean=!0))}return this};var to=function(o){return o===1/0||o===-1/0?0:o},bo=function(o,s,u,d,f){d-s==0||f-u==0||null==s||null==u||null==d||null==f||(o.x1=s<o.x1?s:o.x1,o.x2=d>o.x2?d:o.x2,o.y1=u<o.y1?u:o.y1,o.y2=f>o.y2?f:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},_i=function(o,s){return null==s?o:bo(o,s.x1,s.y1,s.x2,s.y2)},ji=function(o,s,u){return ki(o,s,u)},uf=function(o,s,u){if(!s.cy().headless()){var m,v,d=s._private,f=d.rstyle,h=f.arrowWidth/2;if("none"!==s.pstyle(u+"-arrow-shape").value){"source"===u?(m=f.srcX,v=f.srcY):"target"===u?(m=f.tgtX,v=f.tgtY):(m=f.midX,v=f.midY);var _=d.arrowBounds=d.arrowBounds||{},b=_[u]=_[u]||{};b.x1=m-h,b.y1=v-h,b.x2=m+h,b.y2=v+h,b.w=b.x2-b.x1,b.h=b.y2-b.y1,zd(b,1),bo(o,b.x1,b.y1,b.x2,b.y2)}}},lg=function(o,s,u){if(!s.cy().headless()){var d,f=s._private,h=f.rstyle;if(s.pstyle((d=u?u+"-":"")+"label").strValue){var U,B,z,H,m=s.pstyle("text-halign"),v=s.pstyle("text-valign"),_=ji(h,"labelWidth",u),b=ji(h,"labelHeight",u),D=ji(h,"labelX",u),E=ji(h,"labelY",u),C=s.pstyle(d+"text-margin-x").pfValue,T=s.pstyle(d+"text-margin-y").pfValue,M=s.isEdge(),I=s.pstyle(d+"text-rotation"),O=s.pstyle("text-outline-width").pfValue,R=s.pstyle("text-border-width").pfValue/2,V=s.pstyle("text-background-padding").pfValue,P=b,$=_,k=$/2,G=P/2;if(M)U=D-k,B=D+k,z=E-G,H=E+G;else{switch(m.value){case"left":U=D-$,B=D;break;case"center":U=D-k,B=D+k;break;case"right":U=D,B=D+$}switch(v.value){case"top":z=E-P,H=E;break;case"center":z=E-G,H=E+G;break;case"bottom":z=E,H=E+P}}U+=C-Math.max(O,R)-V-2,B+=C+Math.max(O,R)+V+2,z+=T-Math.max(O,R)-V-2,H+=T+Math.max(O,R)+V+2;var Q=u||"main",q=f.labelBounds,W=q[Q]=q[Q]||{};W.x1=U,W.y1=z,W.x2=B,W.y2=H,W.w=B-U,W.h=H-z;var ee=M&&"autorotate"===I.strValue;if(ee||null!=I.pfValue&&0!==I.pfValue){var he=ee?ji(f.rstyle,"labelAngle",u):I.pfValue,te=Math.cos(he),de=Math.sin(he),ye=(U+B)/2,we=(z+H)/2;if(!M){switch(m.value){case"left":ye=B;break;case"right":ye=U}switch(v.value){case"top":we=H;break;case"bottom":we=z}}var _e=function(St,He){return{x:(St-=ye)*te-(He-=we)*de+ye,y:St*de+He*te+we}},Ee=_e(U,z),ie=_e(U,H),be=_e(B,z),Ie=_e(B,H);U=Math.min(Ee.x,ie.x,be.x,Ie.x),B=Math.max(Ee.x,ie.x,be.x,Ie.x),z=Math.min(Ee.y,ie.y,be.y,Ie.y),H=Math.max(Ee.y,ie.y,be.y,Ie.y)}var Me=Q+"Rot",Re=q[Me]=q[Me]||{};Re.x1=U,Re.y1=z,Re.x2=B,Re.y2=H,Re.w=B-U,Re.h=H-z,bo(o,U,z,B,H),bo(f.labelBounds.all,U,z,B,H)}return o}},bi=function(o){var s=0,u=function(h){return(h?1:0)<<s++},d=0;return d+=u(o.incudeNodes),d+=u(o.includeEdges),d+=u(o.includeLabels),d+=u(o.includeMainLabels),d+=u(o.includeSourceLabels),d+=u(o.includeTargetLabels),(d+=u(o.includeOverlays))+u(o.includeOutlines)},cf=function(o){if(o.isEdge()){var s=o.source().position(),u=o.target().position(),d=function(h){return Math.round(h)};return function(o,s){var u={value:0,done:!1},d=0,f=o.length;return Nu({next:function(){return d<f?u.value=o[d++]:u.done=!0,u}},void 0)}([d(s.x),d(s.y),d(u.x),d(u.y)])}return 0},df=function(o,s){var d,u=o._private,f=o.isEdge(),g=(null==s?ff:bi(s))===ff,m=cf(o),v=u.bbCachePosKey===m,_=s.useCache&&v,b=function(T){return null==T._private.bbCache||T._private.styleDirty};if(!_||b(o)||f&&b(o.source())||b(o.target())?(v||o.recalculateRenderedStyle(_),d=function(o,s){var _,b,D,E,C,T,u=o._private.cy,d=u.styleEnabled(),f=u.headless(),h=yi(),g=o._private,m=o.isNode(),v=o.isEdge(),M=g.rstyle,I=m&&d?o.pstyle("bounds-expansion").pfValue:[0],O=function(lt){return"none"!==lt.pstyle("display").value},N=!d||O(o)&&(!v||O(o.source())&&O(o.target()));if(N){var V=0;d&&s.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(V=o.pstyle("overlay-padding").value);var P=0;d&&s.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(P=o.pstyle("underlay-padding").value);var $=Math.max(V,P),G=0;if(d&&(G=o.pstyle("width").pfValue/2),m&&s.includeNodes){var U=o.position();C=U.x,T=U.y;var z=o.outerWidth()/2,Q=o.outerHeight()/2;bo(h,_=C-z,D=T-Q,b=C+z,E=T+Q),d&&s.includeOutlines&&function(o,s){if(!s.cy().headless()){var u=s.pstyle("outline-opacity").value,d=s.pstyle("outline-width").value;if(u>0&&d>0){var f=s.pstyle("outline-offset").value,h=s.pstyle("shape").value,g=d+f,m=(o.w+2*g)/o.w,v=(o.h+2*g)/o.h,b=0;["diamond","pentagon","round-triangle"].includes(h)?(m=(o.w+2.4*g)/o.w,b=-g/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(h)?m=(o.w+2.4*g)/o.w:"star"===h?(m=(o.w+2.8*g)/o.w,v=(o.h+2.6*g)/o.h,b=-g/3.8):"triangle"===h?(m=(o.w+2.8*g)/o.w,v=(o.h+2.4*g)/o.h,b=-g/1.4):"vee"===h&&(m=(o.w+4.4*g)/o.w,v=(o.h+3.8*g)/o.h,b=.5*-g);var E=o.w*m-o.w;if(Xr(o,[Math.ceil((o.h*v-o.h)/2),Math.ceil(E/2)]),0!==b){var C=function(o,s,u){return{x1:o.x1+0,x2:o.x2+0,y1:o.y1+u,y2:o.y2+u,w:o.w,h:o.h}}(o,0,b);My(o,C)}}}}(h,o)}else if(v&&s.includeEdges)if(d&&!f){var q=o.pstyle("curve-style").strValue;if(_=Math.min(M.srcX,M.midX,M.tgtX),b=Math.max(M.srcX,M.midX,M.tgtX),D=Math.min(M.srcY,M.midY,M.tgtY),E=Math.max(M.srcY,M.midY,M.tgtY),bo(h,_-=G,D-=G,b+=G,E+=G),"haystack"===q){var W=M.haystackPts;if(W&&2===W.length){if((_=W[0].x)>(b=W[1].x)){var ee=_;_=b,b=ee}if((D=W[0].y)>(E=W[1].y)){var ae=D;D=E,E=ae}bo(h,_-G,D-G,b+G,E+G)}}else if("bezier"===q||"unbundled-bezier"===q||"segments"===q||"taxi"===q){var he;switch(q){case"bezier":case"unbundled-bezier":he=M.bezierPts;break;case"segments":case"taxi":he=M.linePts}if(null!=he)for(var te=0;te<he.length;te++){var de=he[te];bo(h,_=de.x-G,D=de.y-G,b=de.x+G,E=de.y+G)}}}else{var we=o.source().position(),Ee=o.target().position();if((_=we.x)>(b=Ee.x)){var ie=_;_=b,b=ie}if((D=we.y)>(E=Ee.y)){var be=D;D=E,E=be}bo(h,_-=G,D-=G,b+=G,E+=G)}if(d&&s.includeEdges&&v&&(uf(h,o,"mid-source"),uf(h,o,"mid-target"),uf(h,o,"source"),uf(h,o,"target")),d&&"yes"===o.pstyle("ghost").value){var Me=o.pstyle("ghost-offset-x").pfValue,Re=o.pstyle("ghost-offset-y").pfValue;bo(h,h.x1+Me,h.y1+Re,h.x2+Me,h.y2+Re)}var it=g.bodyBounds=g.bodyBounds||{};_t(it,h),Xr(it,I),zd(it,1),d&&bo(h,(_=h.x1)-$,(D=h.y1)-$,(b=h.x2)+$,(E=h.y2)+$);var St=g.overlayBounds=g.overlayBounds||{};_t(St,h),Xr(St,I),zd(St,1);var He=g.labelBounds=g.labelBounds||{};null!=He.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(He.all):He.all=yi(),d&&s.includeLabels&&(s.includeMainLabels&&lg(h,o,null),v&&(s.includeSourceLabels&&lg(h,o,"source"),s.includeTargetLabels&&lg(h,o,"target")))}return h.x1=to(h.x1),h.y1=to(h.y1),h.x2=to(h.x2),h.y2=to(h.y2),h.w=to(h.x2-h.x1),h.h=to(h.y2-h.y1),h.w>0&&h.h>0&&N&&(Xr(h,I),zd(h,1)),h}(o,As),u.bbCache=d,u.bbCachePosKey=m):d=u.bbCache,!g){var E=o.isNode();d=yi(),(s.includeNodes&&E||s.includeEdges&&!E)&&_i(d,s.includeOverlays?u.overlayBounds:u.bodyBounds),s.includeLabels&&(s.includeMainLabels&&(!f||s.includeSourceLabels&&s.includeTargetLabels)?_i(d,u.labelBounds.all):(s.includeMainLabels&&_i(d,u.labelBounds.mainRot),s.includeSourceLabels&&_i(d,u.labelBounds.sourceRot),s.includeTargetLabels&&_i(d,u.labelBounds.targetRot))),d.w=d.x2-d.x1,d.h=d.y2-d.y1}return d},As={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},ff=bi(As),Qu=rr(As);Wa.boundingBox=function(a){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==a&&void 0!==a.useCache&&!0!==a.useCache){o=yi();var s=Qu(a=a||As),u=this;if(u.cy().styleEnabled())for(var h=0;h<u.length;h++){var g=u[h],m=g._private,v=cf(g);g.recalculateRenderedStyle(s.useCache&&m.bbCachePosKey===v&&!m.styleDirty)}this.updateCompoundBounds(!a.useCache);for(var D=0;D<u.length;D++)_i(o,df(u[D],s))}else a=void 0===a?As:Qu(a),o=df(this[0],a);return o.x1=to(o.x1),o.y1=to(o.y1),o.x2=to(o.x2),o.y2=to(o.y2),o.w=to(o.x2-o.x1),o.h=to(o.y2-o.y1),o},Wa.dirtyBoundingBoxCache=function(){for(var a=0;a<this.length;a++){var o=this[a]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Wa.boundingBoxAt=function(a){var o=this.nodes(),s=this.cy(),u=s.hasCompoundNodes(),d=s.collection();if(u&&(d=o.filter(function(v){return v.isParent()}),o=o.not(d)),at(a)){var f=a;a=function(){return f}}s.startBatch(),o.forEach(function(_,b){return _._private.bbAtOldPos=a(_,b)}).silentPositions(a),u&&(d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),d.updateCompoundBounds(!0));var m=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(_){return _._private.bbAtOldPos}),u&&(d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),d.updateCompoundBounds(!0)),s.endBatch(),m},za.boundingbox=za.bb=za.boundingBox,za.renderedBoundingbox=za.renderedBoundingBox;var qa,Ka,ug=Wa;qa=Ka={};var hf=function(o){o.uppercaseName=fy(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=fy(o.outerName),qa[o.name]=function(){var u=this[0],d=u._private;if(u){if(d.cy._private.styleEnabled){if(u.isParent())return u.updateCompoundBounds(),d[o.autoName]||0;var g=u.pstyle(o.name);return"label"===g.strValue?(u.recalculateRenderedStyle(),d.rstyle[o.labelName]||0):g.pfValue}return 1}},qa["outer"+o.uppercaseName]=function(){var u=this[0];if(u)return u._private.cy._private.styleEnabled?u[o.name]()+u.pstyle("border-width").pfValue+2*u.padding():1},qa["rendered"+o.uppercaseName]=function(){var u=this[0];if(u)return u[o.name]()*this.cy().zoom()},qa["rendered"+o.uppercaseOuterName]=function(){var u=this[0];if(u)return u[o.outerName]()*this.cy().zoom()}};hf({name:"width"}),hf({name:"height"}),Ka.padding=function(){var a=this[0],o=a._private;return a.isParent()?(a.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:a.pstyle("padding").pfValue):a.pstyle("padding").pfValue},Ka.paddedHeight=function(){var a=this[0];return a.height()+2*a.padding()},Ka.paddedWidth=function(){var a=this[0];return a.width()+2*a.padding()};var cg=Ka,hg={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},Yw=Object.keys(hg).reduce(function(a,o){var s=hg[o],u=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return a[o]=function(){return function(o,s){if(o.isEdge())return s(o)}(this,s.get)},a[u]=s.mult?function(){return function(o,s){if(o.isEdge()){var u=o.cy(),d=u.pan(),f=u.zoom();return s(o).map(function(h){return Ds(h,f,d)})}}(this,s.get)}:function(){return function(o,s){if(o.isEdge()){var u=o.cy();return Ds(s(o),u.zoom(),u.pan())}}(this,s.get)},a},{}),pg=mt({},sg,ug,cg,Yw),Ju=function(o,s){this.recycle(o,s)};function Pl(){return!1}function Ps(){return!0}Ju.prototype={instanceString:function(){return"event"},recycle:function(o,s){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Pl,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?Ps:Pl):null!=o&&o.type?s=o:this.type=o,null!=s&&(this.originalEvent=s.originalEvent,this.type=null!=s.type?s.type:this.type,this.cy=s.cy,this.target=s.target,this.position=s.position,this.renderedPosition=s.renderedPosition,this.namespace=s.namespace,this.layout=s.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var u=this.position,d=this.cy.zoom(),f=this.cy.pan();this.renderedPosition={x:u.x*d+f.x,y:u.y*d+f.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ps;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ps;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ps,this.stopPropagation()},isDefaultPrevented:Pl,isPropagationStopped:Pl,isImmediatePropagationStopped:Pl};var t0=/^([^.]+)(\.(?:[^.]+))?$/,gg={qualifierCompare:function(o,s){return o===s},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},pf=Object.keys(gg),vg={};function ec(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vg,o=arguments.length>1?arguments[1]:void 0,s=0;s<pf.length;s++){var u=pf[s];this[u]=a[u]||gg[u]}this.context=o||this.context,this.listeners=[],this.emitting=0}var ma=ec.prototype,mg=function(o,s,u,d,f,h,g){sn(d)&&(f=d,d=null),g&&(h=null==h?g:mt({},h,g));for(var m=Jt(u)?u:u.split(/\s+/),v=0;v<m.length;v++){var _=m[v];if(!Ut(_)){var b=_.match(t0);if(b&&!1===s(o,_,b[1],b[2]?b[2]:null,d,f,h))break}}},gf=function(o,s){return o.addEventFields(o.context,s),new Ju(s.type,s)};ma.on=ma.addListener=function(a,o,s,u,d){return mg(this,function(f,h,g,m,v,_,b){sn(_)&&f.listeners.push({event:h,callback:_,type:g,namespace:m,qualifier:v,conf:b})},a,o,s,u,d),this},ma.one=function(a,o,s,u){return this.on(a,o,s,u,{one:!0})},ma.removeListener=ma.off=function(a,o,s,u){var d=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var f=this.listeners,h=function(v){var _=f[v];mg(d,function(b,D,E,C,T,M){if((_.type===E||"*"===a)&&(!C&&".*"!==_.namespace||_.namespace===C)&&(!T||b.qualifierCompare(_.qualifier,T))&&(!M||_.callback===M))return f.splice(v,1),!1},a,o,s,u)},g=f.length-1;g>=0;g--)h(g);return this},ma.removeAllListeners=function(){return this.removeListener("*")},ma.emit=ma.trigger=function(a,o,s){var u=this.listeners,d=u.length;return this.emitting++,Jt(o)||(o=[o]),function(o,s,u){if(function(o){return"event"===Yn(o)}(u))s(o,u);else if(at(u))s(o,gf(o,u));else for(var d=Jt(u)?u:u.split(/\s+/),f=0;f<d.length;f++){var h=d[f];if(!Ut(h)){var g=h.match(t0);g&&s(o,gf(o,{type:g[1],namespace:g[2]?g[2]:null,target:o.context}))}}}(this,function(f,h){null!=s&&(d=(u=[{event:h.event,type:h.type,namespace:h.namespace,callback:s}]).length);for(var g=function(_){var b=u[_];if(b.type===h.type&&(!b.namespace||b.namespace===h.namespace||".*"===b.namespace)&&f.eventMatches(f.context,b,h)){var D=[h];null!=o&&function(o,s){for(var u=0;u<s.length;u++)o.push(s[u])}(D,o),f.beforeEmit(f.context,b,h),b.conf&&b.conf.one&&(f.listeners=f.listeners.filter(function(T){return T!==b}));var E=f.callbackContext(f.context,b,h),C=b.callback.apply(E,D);f.afterEmit(f.context,b,h),!1===C&&(h.stopPropagation(),h.preventDefault())}},m=0;m<d;m++)g(m);f.bubble(f.context)&&!h.isPropagationStopped()&&f.parent(f.context).emit(h,o)},a),this.emitting--,this};var yg={qualifierCompare:function(o,s){return null==o||null==s?null==o&&null==s:o.sameText(s)},eventMatches:function(o,s,u){var d=s.qualifier;return null==d||o!==u.target&&gs(u.target)&&d.matches(u.target)},addEventFields:function(o,s){s.cy=o.cy(),s.target=o},callbackContext:function(o,s,u){return null!=s.qualifier?u.target:o},beforeEmit:function(o,s){s.conf&&s.conf.once&&s.conf.onceCollection.removeListener(s.event,s.qualifier,s.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},tc=function(o){return Pe(o)?new br(o):o},r0={createEmitter:function(){for(var o=0;o<this.length;o++){var s=this[o],u=s._private;u.emitter||(u.emitter=new ec(yg,s))}return this},emitter:function(){return this._private.emitter},on:function(o,s,u){for(var d=tc(s),f=0;f<this.length;f++)this[f].emitter().on(o,d,u);return this},removeListener:function(o,s,u){for(var d=tc(s),f=0;f<this.length;f++)this[f].emitter().removeListener(o,d,u);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,s,u){for(var d=tc(s),f=0;f<this.length;f++)this[f].emitter().one(o,d,u);return this},once:function(o,s,u){for(var d=tc(s),f=0;f<this.length;f++)this[f].emitter().on(o,d,u,{once:!0,onceCollection:this})},emit:function(o,s){for(var u=0;u<this.length;u++)this[u].emitter().emit(o,s);return this},emitAndNotify:function(o,s){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,s),this}};tn.eventAliasesOn(r0);var _g={nodes:function(o){return this.filter(function(s){return s.isNode()}).filter(o)},edges:function(o){return this.filter(function(s){return s.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),s=this.spawn(),u=0;u<this.length;u++){var d=this[u];d.isNode()?o.push(d):s.push(d)}return{nodes:o,edges:s}},filter:function(o,s){if(void 0===o)return this;if(Pe(o)||jt(o))return new br(o).filter(this);if(sn(o)){for(var u=this.spawn(),d=this,f=0;f<d.length;f++){var h=d[f];(s?o.apply(s,[h,f,d]):o(h,f,d))&&u.push(h)}return u}return this.spawn()},not:function(o){if(o){Pe(o)&&(o=this.filter(o));for(var s=this.spawn(),u=0;u<this.length;u++){var d=this[u];o.has(d)||s.push(d)}return s}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Pe(o))return this.filter(o);for(var u=this.spawn(),h=this.length<o.length,g=h?this:o,m=h?o:this,v=0;v<g.length;v++){var _=g[v];m.has(_)&&u.push(_)}return u},xor:function(o){var s=this._private.cy;Pe(o)&&(o=s.$(o));var u=this.spawn(),f=o,h=function(m,v){for(var _=0;_<m.length;_++){var b=m[_];v.hasElementWithId(b._private.data.id)||u.push(b)}};return h(this,f),h(f,this),u},diff:function(o){var s=this._private.cy;Pe(o)&&(o=s.$(o));var u=this.spawn(),d=this.spawn(),f=this.spawn(),g=o,m=function(_,b,D){for(var E=0;E<_.length;E++){var C=_[E];b.hasElementWithId(C._private.data.id)?f.merge(C):D.push(C)}};return m(this,g,u),m(g,this,d),{left:u,right:d,both:f}},add:function(o){var s=this._private.cy;if(!o)return this;if(Pe(o)){var u=o;o=s.mutableElements().filter(u)}for(var d=this.spawnSelf(),f=0;f<o.length;f++){var h=o[f];!this.has(h)&&d.push(h)}return d},merge:function(o){var s=this._private,u=s.cy;if(!o)return this;if(o&&Pe(o)){var d=o;o=u.mutableElements().filter(d)}for(var f=s.map,h=0;h<o.length;h++){var g=o[h],m=g._private.data.id;if(!f.has(m)){var _=this.length++;this[_]=g,f.set(m,{ele:g,index:_})}}return this},unmergeAt:function(o){var u=this[o].id(),f=this._private.map;if(this[o]=void 0,f.delete(u),this.length>1&&o!==this.length-1){var g=this.length-1,m=this[g],v=m._private.data.id;this[g]=void 0,this[o]=m,f.set(v,{ele:m,index:o})}return this.length--,this},unmergeOne:function(o){var f=this._private.map.get((o=o[0])._private.data.id);return f?(this.unmergeAt(f.index),this):this},unmerge:function(o){var s=this._private.cy;if(!o)return this;if(o&&Pe(o)){var u=o;o=s.mutableElements().filter(u)}for(var d=0;d<o.length;d++)this.unmergeOne(o[d]);return this},unmergeBy:function(o){for(var s=this.length-1;s>=0;s--)o(this[s])&&this.unmergeAt(s);return this},map:function(o,s){for(var u=[],d=this,f=0;f<d.length;f++){var h=d[f],g=s?o.apply(s,[h,f,d]):o(h,f,d);u.push(g)}return u},reduce:function(o,s){for(var u=s,d=this,f=0;f<d.length;f++)u=o(u,d[f],f,d);return u},max:function(o,s){for(var d,u=-1/0,f=this,h=0;h<f.length;h++){var g=f[h],m=s?o.apply(s,[g,h,f]):o(g,h,f);m>u&&(u=m,d=g)}return{value:u,ele:d}},min:function(o,s){for(var d,u=1/0,f=this,h=0;h<f.length;h++){var g=f[h],m=s?o.apply(s,[g,h,f]):o(g,h,f);m<u&&(u=m,d=g)}return{value:u,ele:d}}},wt=_g;wt.u=wt["|"]=wt["+"]=wt.union=wt.or=wt.add,wt["\\"]=wt["!"]=wt["-"]=wt.difference=wt.relativeComplement=wt.subtract=wt.not,wt.n=wt["&"]=wt["."]=wt.and=wt.intersection=wt.intersect,wt["^"]=wt["(+)"]=wt["(-)"]=wt.symmetricDifference=wt.symdiff=wt.xor,wt.fnFilter=wt.filterFn=wt.stdFilter=wt.filter,wt.complement=wt.abscomp=wt.absoluteComplement;var o,wg=function(o,s){var d=o.cy().hasCompoundNodes();function f(_){var b=_.pstyle("z-compound-depth");return"auto"===b.value?d?_.zDepth():0:"bottom"===b.value?-1:"top"===b.value?Vd:0}var h=f(o)-f(s);if(0!==h)return h;function g(_){return"auto"===_.pstyle("z-index-compare").value&&_.isNode()?1:0}var m=g(o)-g(s);if(0!==m)return m;var v=o.pstyle("z-index").value-s.pstyle("z-index").value;return 0!==v?v:o.poolIndex()-s.poolIndex()},nc={forEach:function(o,s){if(sn(o))for(var u=this.length,d=0;d<u;d++){var f=this[d];if(!1===(s?o.apply(s,[f,d,this]):o(f,d,this)))break}return this},toArray:function(){for(var o=[],s=0;s<this.length;s++)o.push(this[s]);return o},slice:function(o,s){var u=[],d=this.length;null==s&&(s=d),null==o&&(o=0),o<0&&(o=d+o),s<0&&(s=d+s);for(var f=o;f>=0&&f<s&&f<d;f++)u.push(this[f]);return this.spawn(u)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!sn(o))return this;var s=this.toArray().sort(o);return this.spawn(s)},sortByZIndex:function(){return this.sort(wg)},zDepth:function(){var o=this[0];if(o){var s=o._private;if("nodes"===s.group){var d=s.data.parent?o.parents().size():0;return o.isParent()?d:Vd-1}var h=s.target,g=s.source.zDepth(),m=h.zDepth();return Math.max(g,m,0)}}};nc.each=nc.forEach,o="undefined",(typeof Symbol>"u"?"undefined":Bt(Symbol))!=o&&Bt(Symbol.iterator)!=o&&(nc[Symbol.iterator]=function(){var u=this,d={value:void 0,done:!1},f=0,h=this.length;return Kn({next:function(){return f<h?d.value=u[f++]:(d.value=void 0,d.done=!0),d}},Symbol.iterator,function(){return this})});var Cg=rr({nodeDimensionsIncludeLabels:!1}),rc={layoutDimensions:function(o){var s;if(o=Cg(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var u=this.boundingBox();s={w:u.w,h:u.h}}else s={w:this.outerWidth(),h:this.outerHeight()};else s={w:0,h:0};return(0===s.w||0===s.h)&&(s.w=s.h=1),s},layoutPositions:function(o,s,u){var d=this.nodes().filter(function(V){return!V.isParent()}),f=this.cy(),h=s.eles,g=function(j){return j.id()},m=ml(u,g);o.emit({type:"layoutstart",layout:o}),o.animations=[];var _=s.spacingFactor&&1!==s.spacingFactor,D=function(){if(!_)return null;for(var j=yi(),P=0;P<d.length;P++){var k=m(d[P],P);Iy(j,k.x,k.y)}return j}(),E=ml(function(V,j){var P=m(V,j);return _&&(P=function(j,P,$){var k_x=P.x1+P.w/2,k_y=P.y1+P.h/2;return{x:k_x+($.x-k_x)*j,y:k_y+($.y-k_y)*j}}(Math.abs(s.spacingFactor),D,P)),null!=s.transform&&(P=s.transform(V,P)),P},g);if(s.animate){for(var C=0;C<d.length;C++){var T=d[C],M=E(T,C);if(null==s.animateFilter||s.animateFilter(T,C)){var O=T.animation({position:M,duration:s.animationDuration,easing:s.animationEasing});o.animations.push(O)}else T.position(M)}if(s.fit){var N=f.animation({fit:{boundingBox:h.boundingBoxAt(E),padding:s.padding},duration:s.animationDuration,easing:s.animationEasing});o.animations.push(N)}else if(void 0!==s.zoom&&void 0!==s.pan){var R=f.animation({zoom:s.zoom,pan:s.pan,duration:s.animationDuration,easing:s.animationEasing});o.animations.push(R)}o.animations.forEach(function(V){return V.play()}),o.one("layoutready",s.ready),o.emit({type:"layoutready",layout:o}),Jn.all(o.animations.map(function(V){return V.promise()})).then(function(){o.one("layoutstop",s.stop),o.emit({type:"layoutstop",layout:o})})}else d.positions(E),s.fit&&f.fit(s.eles,s.padding),null!=s.zoom&&f.zoom(s.zoom),s.pan&&f.pan(s.pan),o.one("layoutready",s.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",s.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(mt({},o,{eles:this}))}};function ic(a,o,s){var f,u=s._private,d=u.styleCache=u.styleCache||[];return null!=(f=d[a])||(f=d[a]=o(s)),f}function oc(a,o){return a=la(a),function(u){return ic(a,o,u)}}function wi(a,o){a=la(a);var s=function(d){return o.call(d)};return function(){var d=this[0];if(d)return ic(a,s,d)}}rc.createLayout=rc.makeLayout=rc.layout;var wr={recalculateRenderedStyle:function(o){var s=this.cy(),u=s.renderer(),d=s.styleEnabled();return u&&d&&u.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var u,o=this.cy(),s=function(f){return f._private.styleCache=null};return o.hasCompoundNodes()?((u=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(u.connectedEdges()),u.forEach(s)):this.forEach(function(d){s(d),d.connectedEdges().forEach(s)}),this},updateStyle:function(o){var s=this._private.cy;if(!s.styleEnabled())return this;if(s.batching())return s._private.batchStyleEles.merge(this),this;var f=this;o=!(!o&&void 0!==o),s.hasCompoundNodes()&&(f=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var h=f;return o?h.emitAndNotify("style"):h.emit("style"),f.forEach(function(g){return g._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var s=0;s<this.length;s++){var u=this[s];u._private.styleDirty&&(u._private.styleDirty=!1,o.style().apply(u))}},parsedStyle:function(o){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this[0],d=u.cy();if(d.styleEnabled()&&u)return this.cleanStyle(),u._private.style[o]??(s?d.style().getDefaultProperty(o):null)},numericStyle:function(o){var s=this[0];if(s.cy().styleEnabled()&&s){var u=s.pstyle(o);return void 0!==u.pfValue?u.pfValue:u.value}},numericStyleUnits:function(o){var s=this[0];if(s.cy().styleEnabled()&&s)return s.pstyle(o).units},renderedStyle:function(o){var s=this.cy();if(!s.styleEnabled())return this;var u=this[0];return u?s.style().getRenderedStyle(u,o):void 0},style:function(o,s){var u=this.cy();if(!u.styleEnabled())return this;var f=u.style();if(at(o))f.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Pe(o)){if(void 0===s){var g=this[0];return g?f.getStylePropertyValue(g,o):void 0}f.applyBypass(this,o,s,!1),this.emitAndNotify("style")}else if(void 0===o){var m=this[0];return m?f.getRawStyle(m):void 0}return this},removeStyle:function(o){var s=this.cy();if(!s.styleEnabled())return this;var d=s.style(),f=this;if(void 0===o)for(var h=0;h<f.length;h++)d.removeAllBypasses(f[h],!1);else{o=o.split(/\s+/);for(var m=0;m<f.length;m++)d.removeBypasses(f[m],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var s=o.hasCompoundNodes(),u=this[0];if(u){var d=u._private,f=u.pstyle("opacity").value;if(!s)return f;var h=d.data.parent?u.parents():null;if(h)for(var g=0;g<h.length;g++)f*=h[g].pstyle("opacity").value;return f}},transparent:function(){if(!this.cy().styleEnabled())return!1;var s=this[0],u=s.cy().hasCompoundNodes();return s?u?0===s.effectiveOpacity():0===s.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ac(a,o){var u=a._private.data.parent?a.parents():null;if(u)for(var d=0;d<u.length;d++)if(!o(u[d]))return!1;return!0}function En(a){var o=a.ok,s=a.edgeOkViaNode||a.ok,u=a.parentOk||a.ok;return function(){var d=this.cy();if(!d.styleEnabled())return!0;var f=this[0],h=d.hasCompoundNodes();if(f){var g=f._private;if(!o(f))return!1;if(f.isNode())return!h||ac(f,u);var m=g.source,v=g.target;return s(m)&&(!h||ac(m,s))&&(m===v||s(v)&&(!h||ac(v,s)))}}}var ya=oc("eleTakesUpSpace",function(a){return"element"===a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});wr.takesUpSpace=wi("takesUpSpace",En({ok:ya}));var sc=oc("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&ya(a)}),fi=oc("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&ya(a)});wr.interactive=wi("interactive",En({ok:sc,parentOk:fi,edgeOkViaNode:ya})),wr.noninteractive=function(){var a=this[0];if(a)return!a.interactive()};var o0=oc("eleVisible",function(a){return"visible"===a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&ya(a)});wr.visible=wi("visible",En({ok:o0,edgeOkViaNode:ya})),wr.hidden=function(){var a=this[0];if(a)return!a.visible()},wr.isBundledBezier=wi("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),wr.bypass=wr.css=wr.style,wr.renderedCss=wr.renderedStyle,wr.removeBypass=wr.removeCss=wr.removeStyle,wr.pstyle=wr.parsedStyle;var Di={};function hi(a){return function(){var o=arguments,s=[];if(2===o.length)this.on(a.event,o[0],o[1]);else if(1===o.length&&sn(o[0]))this.on(a.event,o[0]);else if(0===o.length||1===o.length&&Jt(o[0])){for(var h=1===o.length?o[0]:null,g=0;g<this.length;g++){var m=this[g],v=!a.ableField||m._private[a.ableField],_=m._private[a.field]!=a.value;if(a.overrideAble){var b=a.overrideAble(m);if(void 0!==b&&(v=b,!b))return this}v&&(m._private[a.field]=a.value,_&&s.push(m))}var D=this.spawn(s);D.updateStyle(),D.emit(a.event),h&&D.emit(h)}return this}}function ks(a){Di[a.field]=function(){var o=this[0];if(o){if(a.overrideField){var s=a.overrideField(o);if(void 0!==s)return s}return o._private[a.field]}},Di[a.on]=hi({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),Di[a.off]=hi({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}ks({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),ks({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),ks({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),ks({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Di.deselect=Di.unselect,Di.grabbed=function(){var a=this[0];if(a)return a._private.grabbed},ks({field:"active",on:"activate",off:"unactivate"}),ks({field:"pannable",on:"panify",off:"unpanify"}),Di.inactive=function(){var a=this[0];if(a)return!a._private.active};var $r={},Sg=function(o){return function(u){for(var f=[],h=0;h<this.length;h++){var g=this[h];if(g.isNode()){for(var m=!1,v=g.connectedEdges(),_=0;_<v.length;_++){var b=v[_],D=b.source(),E=b.target();if(o.noIncomingEdges&&E===g&&D!==g||o.noOutgoingEdges&&D===g&&E!==g){m=!0;break}}m||f.push(g)}}return this.spawn(f,!0).filter(u)}},Vo=function(o){return function(s){for(var d=[],f=0;f<this.length;f++){var h=this[f];if(h.isNode())for(var g=h.connectedEdges(),m=0;m<g.length;m++){var v=g[m],_=v.source(),b=v.target();o.outgoing&&_===h?(d.push(v),d.push(b)):o.incoming&&b===h&&(d.push(v),d.push(_))}}return this.spawn(d,!0).filter(s)}},vf=function(o){return function(s){for(var u=this,d=[],f={};;){var h=o.outgoing?u.outgoers():u.incomers();if(0===h.length)break;for(var g=!1,m=0;m<h.length;m++){var v=h[m],_=v.id();f[_]||(f[_]=!0,d.push(v),g=!0)}if(!g)break;u=h}return this.spawn(d,!0).filter(s)}};function Tg(a){return function(s){for(var u=[],d=0;d<this.length;d++){var h=this[d]._private[a.attr];h&&u.push(h)}return this.spawn(u,!0).filter(s)}}function mf(a){return function(s){var u=[],d=this._private.cy,f=a||{};Pe(s)&&(s=d.$(s));for(var h=0;h<s.length;h++)for(var g=s[h]._private.edges,m=0;m<g.length;m++){var v=g[m],_=v._private.data,b=this.hasElementWithId(_.source)&&s.hasElementWithId(_.target),D=s.hasElementWithId(_.source)&&this.hasElementWithId(_.target);(b||D)&&((f.thisIsSrc||f.thisIsTgt)&&(f.thisIsSrc&&!b||f.thisIsTgt&&!D)||u.push(v))}return this.spawn(u,!0)}}function yf(a){return a=mt({},{codirected:!1},a),function(u){for(var d=[],f=this.edges(),h=a,g=0;g<f.length;g++)for(var v=f[g]._private,_=v.source,b=_._private.data.id,D=v.data.target,E=_._private.edges,C=0;C<E.length;C++){var T=E[C],M=T._private.data,I=M.target,O=M.source,N=I===D&&O===b;(h.codirected&&N||!h.codirected&&(N||b===I&&D===O))&&d.push(T)}return this.spawn(d,!0).filter(u)}}$r.clearTraversalCache=function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null},mt($r,{roots:Sg({noIncomingEdges:!0}),leaves:Sg({noOutgoingEdges:!0}),outgoers:$i(Vo({outgoing:!0}),"outgoers"),successors:vf({outgoing:!0}),incomers:$i(Vo({incoming:!0}),"incomers"),predecessors:vf({incoming:!0})}),mt($r,{neighborhood:$i(function(a){for(var o=[],s=this.nodes(),u=0;u<s.length;u++)for(var d=s[u],f=d.connectedEdges(),h=0;h<f.length;h++){var g=f[h],m=g.source(),v=g.target(),_=d===m?v:m;_.length>0&&o.push(_[0]),o.push(g[0])}return this.spawn(o,!0).filter(a)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),$r.neighbourhood=$r.neighborhood,$r.closedNeighbourhood=$r.closedNeighborhood,$r.openNeighbourhood=$r.openNeighborhood,mt($r,{source:$i(function(o){var u,s=this[0];return s&&(u=s._private.source||s.cy().collection()),u&&o?u.filter(o):u},"source"),target:$i(function(o){var u,s=this[0];return s&&(u=s._private.target||s.cy().collection()),u&&o?u.filter(o):u},"target"),sources:Tg({attr:"source"}),targets:Tg({attr:"target"})}),mt($r,{edgesWith:$i(mf(),"edgesWith"),edgesTo:$i(mf({thisIsSrc:!0}),"edgesTo")}),mt($r,{connectedEdges:$i(function(a){for(var o=[],u=0;u<this.length;u++){var d=this[u];if(d.isNode())for(var f=d._private.edges,h=0;h<f.length;h++)o.push(f[h])}return this.spawn(o,!0).filter(a)},"connectedEdges"),connectedNodes:$i(function(a){for(var o=[],u=0;u<this.length;u++){var d=this[u];d.isEdge()&&(o.push(d.source()[0]),o.push(d.target()[0]))}return this.spawn(o,!0).filter(a)},"connectedNodes"),parallelEdges:$i(yf(),"parallelEdges"),codirectedEdges:$i(yf({codirected:!0}),"codirectedEdges")}),mt($r,{components:function(o){var s=this,u=s.cy(),d=u.collection(),f=null==o?s.nodes():o.nodes(),h=[];null!=o&&f.empty()&&(f=o.sources());var g=function(_,b){d.merge(_),f.unmerge(_),b.merge(_)};if(f.empty())return s.spawn();var m=function(){var _=u.collection();h.push(_);var b=f[0];g(b,_),s.bfs({directed:!1,roots:b,visit:function(E){return g(E,_)}}),_.forEach(function(D){D.connectedEdges().forEach(function(E){s.has(E)&&_.has(E.source())&&_.has(E.target())&&_.merge(E)})})};do{m()}while(f.length>0);return h},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),$r.componentsOf=$r.components;var Dr=function(o,s){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var f=new po,h=!1;if(s){if(s.length>0&&at(s[0])&&!gs(s[0])){h=!0;for(var g=[],m=new bs,v=0,_=s.length;v<_;v++){var b=s[v];null==b.data&&(b.data={});var D=b.data;if(null==D.id)D.id=Sp();else if(o.hasElementWithId(D.id)||m.has(D.id))continue;var E=new Ru(o,b,!1);g.push(E),m.add(D.id)}s=g}}else s=[];this.length=0;for(var C=0,T=s.length;C<T;C++){var M=s[C][0];if(null!=M){var I=M._private.data.id;(!u||!f.has(I))&&(u&&f.set(I,{index:this.length,ele:M}),this[this.length]=M,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(O){this.lazyMap=O},rebuildMap:function(){for(var N=this.lazyMap=new po,R=this.eles,V=0;V<R.length;V++){var j=R[V];N.set(j.id(),{index:V,ele:j})}}},u&&(this._private.map=f),h&&!d&&this.restore()}else fn("A collection must have a reference to the core")},Rn=Ru.prototype=Dr.prototype=Object.create(Array.prototype);Rn.instanceString=function(){return"collection"},Rn.spawn=function(a,o){return new Dr(this.cy(),a,o)},Rn.spawnSelf=function(){return this.spawn(this)},Rn.cy=function(){return this._private.cy},Rn.renderer=function(){return this._private.cy.renderer()},Rn.element=function(){return this[0]},Rn.collection=function(){return xd(this)?this:new Dr(this._private.cy,[this])},Rn.unique=function(){return new Dr(this._private.cy,this,!0)},Rn.hasElementWithId=function(a){return this._private.map.has(a=""+a)},Rn.getElementById=function(a){var o=this._private.cy,s=this._private.map.get(a=""+a);return s?s.ele:new Dr(o)},Rn.$id=Rn.getElementById,Rn.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Rn.indexOf=function(a){return this._private.map.get(a[0]._private.data.id).index},Rn.indexOfId=function(a){return this._private.map.get(a=""+a).index},Rn.json=function(a){var o=this.element(),s=this.cy();if(null==o&&a)return this;if(null!=o){var u=o._private;if(at(a)){if(s.startBatch(),a.data){o.data(a.data);var d=u.data;if(o.isEdge()){var f=!1,h={},g=a.data.source,m=a.data.target;null!=g&&g!=d.source&&(h.source=""+g,f=!0),null!=m&&m!=d.target&&(h.target=""+m,f=!0),f&&(o=o.move(h))}else{var _=a.data.parent;"parent"in a.data&&(null!=_||null!=d.parent)&&_!=d.parent&&(void 0===_&&(_=null),null!=_&&(_=""+_),o=o.move({parent:_}))}}a.position&&o.position(a.position);var b=function(T,M,I){var O=a[T];null!=O&&O!==u[T]&&(O?o[M]():o[I]())};return b("removed","remove","restore"),b("selected","select","unselect"),b("selectable","selectify","unselectify"),b("locked","lock","unlock"),b("grabbable","grabify","ungrabify"),b("pannable","panify","unpanify"),null!=a.classes&&o.classes(a.classes),s.endBatch(),this}if(void 0===a){var D={data:Xn(u.data),position:Xn(u.position),group:u.group,removed:u.removed,selected:u.selected,selectable:u.selectable,locked:u.locked,grabbable:u.grabbable,pannable:u.pannable,classes:""},E=0;return u.classes.forEach(function(C){return D.classes+=0==E++?C:" "+C}),D}}},Rn.jsons=function(){for(var a=[],o=0;o<this.length;o++){var u=this[o].json();a.push(u)}return a},Rn.clone=function(){for(var a=this.cy(),o=[],s=0;s<this.length;s++){var d=this[s].json(),f=new Ru(a,d,!1);o.push(f)}return new Dr(a,o)},Rn.copy=Rn.clone,Rn.restore=function(){for(var g,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,u=s.cy(),d=u._private,f=[],h=[],m=0,v=s.length;m<v;m++){var _=s[m];o&&!_.removed()||(_.isNode()?f.push(_):h.push(_))}g=f.concat(h);var b,D=function(){g.splice(b,1),b--};for(b=0;b<g.length;b++){var E=g[b],C=E._private,T=C.data;if(E.clearTraversalCache(),o||C.removed)if(void 0===T.id)T.id=Sp();else if(Ge(T.id))T.id=""+T.id;else{if(Ut(T.id)||!Pe(T.id)){fn("Can not create element with invalid string ID `"+T.id+"`"),D();continue}if(u.hasElementWithId(T.id)){fn("Can not create second element with ID `"+T.id+"`"),D();continue}}var M=T.id;if(E.isNode()){var I=C.position;null==I.x&&(I.x=0),null==I.y&&(I.y=0)}if(E.isEdge()){for(var O=E,N=["source","target"],R=N.length,V=!1,j=0;j<R;j++){var P=N[j],$=T[P];Ge($)&&($=T[P]=""+T[P]),null==$||""===$?(fn("Can not create edge `"+M+"` with unspecified "+P),V=!0):u.hasElementWithId($)||(fn("Can not create edge `"+M+"` with nonexistant "+P+" `"+$+"`"),V=!0)}if(V){D();continue}var k=u.getElementById(T.source),G=u.getElementById(T.target);k.same(G)?k._private.edges.push(O):(k._private.edges.push(O),G._private.edges.push(O)),O._private.source=k,O._private.target=G}C.map=new po,C.map.set(M,{ele:E,index:0}),C.removed=!1,o&&u.addToPool(E)}for(var U=0;U<f.length;U++){var B=f[U],z=B._private.data;Ge(z.parent)&&(z.parent=""+z.parent);var H=z.parent;if(null!=H||B._private.parent){var q=B._private.parent?u.collection().merge(B._private.parent):u.getElementById(H);if(q.empty())z.parent=void 0;else if(q[0].removed())bt("Node added with missing parent, reference to parent removed"),z.parent=void 0,B._private.parent=null;else{for(var W=!1,ee=q;!ee.empty();){if(B.same(ee)){W=!0,z.parent=void 0;break}ee=ee.parent()}W||(q[0]._private.children.push(B),B._private.parent=q[0],d.hasCompoundNodes=!0)}}}if(g.length>0){for(var ae=g.length===s.length?s:new Dr(u,g),he=0;he<ae.length;he++){var te=ae[he];te.isNode()||(te.parallelEdges().clearTraversalCache(),te.source().clearTraversalCache(),te.target().clearTraversalCache())}(d.hasCompoundNodes?u.collection().merge(ae).merge(ae.connectedNodes()).merge(ae.parent()):ae).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(a),a?ae.emitAndNotify("add"):o&&ae.emit("add")}return s},Rn.removed=function(){var a=this[0];return a&&a._private.removed},Rn.inside=function(){var a=this[0];return a&&!a._private.removed},Rn.remove=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,u=[],d={},f=s._private.cy;function m(H){var Q=d[H.id()];o&&H.removed()||Q||(d[H.id()]=!0,H.isNode()?(u.push(H),function h(H){for(var Q=H._private.edges,q=0;q<Q.length;q++)m(Q[q])}(H),function g(H){for(var Q=H._private.children,q=0;q<Q.length;q++)m(Q[q])}(H)):u.unshift(H))}for(var v=0,_=s.length;v<_;v++)m(s[v]);function D(H,Q){Pi(H._private.edges,Q),H.clearTraversalCache()}var C=[];function T(H,Q){Q=Q[0];var q=(H=H[0])._private.children,W=H.id();Pi(q,Q),Q._private.parent=null,C.ids[W]||(C.ids[W]=!0,C.push(H))}C.ids={},s.dirtyCompoundBoundsCache(),o&&f.removeFromPool(u);for(var M=0;M<u.length;M++){var I=u[M];if(I.isEdge()){var O=I.source()[0],N=I.target()[0];D(O,I),D(N,I);for(var R=I.parallelEdges(),V=0;V<R.length;V++){var j=R[V];j.clearTraversalCache(),j.isBundledBezier()&&j.dirtyBoundingBoxCache()}}else{var P=I.parent();0!==P.length&&T(P,I)}o&&(I._private.removed=!0)}var $=f._private.elements;f._private.hasCompoundNodes=!1;for(var k=0;k<$.length;k++)if($[k].isParent()){f._private.hasCompoundNodes=!0;break}var U=new Dr(this.cy(),u);U.size()>0&&(a?U.emitAndNotify("remove"):o&&U.emit("remove"));for(var B=0;B<C.length;B++){var z=C[B];(!o||!z.removed())&&z.updateStyle()}return U},Rn.move=function(a){var o=this._private.cy,s=this,u=!1,d=!1,f=function(C){return null==C?C:""+C};if(void 0!==a.source||void 0!==a.target){var h=f(a.source),g=f(a.target),m=null!=h&&o.hasElementWithId(h),v=null!=g&&o.hasElementWithId(g);(m||v)&&(o.batch(function(){s.remove(u,d),s.emitAndNotify("moveout");for(var E=0;E<s.length;E++){var C=s[E],T=C._private.data;C.isEdge()&&(m&&(T.source=h),v&&(T.target=g))}s.restore(u,d)}),s.emitAndNotify("move"))}else if(void 0!==a.parent){var _=f(a.parent);if(null===_||o.hasElementWithId(_)){var D=null===_?void 0:_;o.batch(function(){var E=s.remove(u,d);E.emitAndNotify("moveout");for(var C=0;C<s.length;C++){var T=s[C],M=T._private.data;T.isNode()&&(M.parent=D)}E.restore(u,d)}),s.emitAndNotify("move")}}return this},[nf,ng,Bo,va,Ol,zw,lf,pg,r0,_g,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},nc,rc,wr,Di,$r].forEach(function(a){mt(Rn,a)});var Dt={add:function(o){var s,u=this;if(jt(o)){var d=o;if(d._private.cy===u)s=d.restore();else{for(var f=[],h=0;h<d.length;h++)f.push(d[h].json());s=new Dr(u,f)}}else if(Jt(o))s=new Dr(u,o);else if(at(o)&&(Jt(o.nodes)||Jt(o.edges))){for(var v=o,_=[],b=["nodes","edges"],D=0,E=b.length;D<E;D++){var C=b[D],T=v[C];if(Jt(T))for(var M=0,I=T.length;M<I;M++){var O=mt({group:C},T[M]);_.push(O)}}s=new Dr(u,_)}else s=new Ru(u,o).collection();return s},remove:function(o){return jt(o)||Pe(o)&&(o=this.$(o)),o.remove()}};function Mg(a,o,s,u){var v=.1,_=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var b=0;b<4;++b)if("number"!=typeof arguments[b]||isNaN(arguments[b])||!isFinite(arguments[b]))return!1;a=Math.min(a,1),s=Math.min(s,1),a=Math.max(a,0),s=Math.max(s,0);var D=_?new Float32Array(11):new Array(11);function E(G,U){return 1-3*U+3*G}function C(G,U){return 3*U-6*G}function T(G){return 3*G}function M(G,U,B){return((E(U,B)*G+C(U,B))*G+T(U))*G}function I(G,U,B){return 3*E(U,B)*G*G+2*C(U,B)*G+T(U)}var j=!1;var $=function(U){return j||function P(){j=!0,(a!==o||s!==u)&&function N(){for(var G=0;G<11;++G)D[G]=M(G*v,a,s)}()}(),a===o&&s===u?U:0===U?0:1===U?1:M(function V(G){for(var U=0,B=1;10!==B&&D[B]<=G;++B)U+=v;--B;var Q=U+(G-D[B])/(D[B+1]-D[B])*v,q=I(Q,a,s);return q>=.001?function O(G,U){for(var B=0;B<4;++B){var z=I(U,a,s);if(0===z)return U;U-=(M(U,a,s)-G)/z}return U}(G,Q):0===q?Q:function R(G,U,B){var z,H,Q=0;do{(z=M(H=U+(B-U)/2,a,s)-G)>0?B=H:U=H}while(Math.abs(z)>1e-7&&++Q<10);return H}(G,U,U+v)}(U),o,u)};$.getControlPoints=function(){return[{x:a,y:o},{x:s,y:u}]};var k="generateBezier("+[a,o,s,u]+")";return $.toString=function(){return k},$}var Qw=function(){function a(u){return-u.tension*u.x-u.friction*u.v}function o(u,d,f){var h={x:u.x+f.dx*d,v:u.v+f.dv*d,tension:u.tension,friction:u.friction};return{dx:h.v,dv:a(h)}}function s(u,d){var f={dx:u.v,dv:a(u)},h=o(u,.5*d,f),g=o(u,.5*d,h),m=o(u,d,g),_=1/6*(f.dv+2*(h.dv+g.dv)+m.dv);return u.x=u.x+1/6*(f.dx+2*(h.dx+g.dx)+m.dx)*d,u.v=u.v+_*d,u}return function u(d,f,h){var D,E,C,g={x:-1,v:0,tension:null,friction:null},m=[0],v=0,_=1e-4;for(d=parseFloat(d)||500,f=parseFloat(f)||20,h=h||null,g.tension=d,g.friction=f,E=(D=null!==h)?(v=u(d,f))/h*.016:.016;C=s(C||g,E),m.push(1+C.x),v+=16,Math.abs(C.x)>_&&Math.abs(C.v)>_;);return D?function(T){return m[T*(m.length-1)|0]}:v}}(),Pn=function(o,s,u,d){var f=Mg(o,s,u,d);return function(h,g,m){return h+(g-h)*f(m)}},lc={linear:function(o,s,u){return o+(s-o)*u},ease:Pn(.25,.1,.25,1),"ease-in":Pn(.42,0,1,1),"ease-out":Pn(0,0,.58,1),"ease-in-out":Pn(.42,0,.58,1),"ease-in-sine":Pn(.47,0,.745,.715),"ease-out-sine":Pn(.39,.575,.565,1),"ease-in-out-sine":Pn(.445,.05,.55,.95),"ease-in-quad":Pn(.55,.085,.68,.53),"ease-out-quad":Pn(.25,.46,.45,.94),"ease-in-out-quad":Pn(.455,.03,.515,.955),"ease-in-cubic":Pn(.55,.055,.675,.19),"ease-out-cubic":Pn(.215,.61,.355,1),"ease-in-out-cubic":Pn(.645,.045,.355,1),"ease-in-quart":Pn(.895,.03,.685,.22),"ease-out-quart":Pn(.165,.84,.44,1),"ease-in-out-quart":Pn(.77,0,.175,1),"ease-in-quint":Pn(.755,.05,.855,.06),"ease-out-quint":Pn(.23,1,.32,1),"ease-in-out-quint":Pn(.86,0,.07,1),"ease-in-expo":Pn(.95,.05,.795,.035),"ease-out-expo":Pn(.19,1,.22,1),"ease-in-out-expo":Pn(1,0,0,1),"ease-in-circ":Pn(.6,.04,.98,.335),"ease-out-circ":Pn(.075,.82,.165,1),"ease-in-out-circ":Pn(.785,.135,.15,.86),spring:function(o,s,u){if(0===u)return lc.linear;var d=Qw(o,s,u);return function(f,h,g){return f+(h-f)*d(g)}},"cubic-bezier":Pn};function Ig(a,o,s,u,d){if(1===u||o===s)return s;var f=d(o,s,u);return null==a||((a.roundValue||a.color)&&(f=Math.round(f)),void 0!==a.min&&(f=Math.max(f,a.min)),void 0!==a.max&&(f=Math.min(f,a.max))),f}function _f(a,o){return null!=a.pfValue||null!=a.value?null==a.pfValue||null!=o&&"%"===o.type.units?a.value:a.pfValue:a}function no(a,o,s,u,d){var f=null!=d?d.type:null;s<0?s=0:s>1&&(s=1);var h=_f(a,d),g=_f(o,d);if(Ge(h)&&Ge(g))return Ig(f,h,g,s,u);if(Jt(h)&&Jt(g)){for(var m=[],v=0;v<g.length;v++){var _=h[v],b=g[v];if(null!=_&&null!=b){var D=Ig(f,_,b,s,u);m.push(D)}else m.push(b)}return m}}function a0(a,o,s,u){var d=!u,f=a._private,h=o._private,g=h.easing,m=h.startTime,_=(u?a:a.cy()).style();if(!h.easingImpl)if(null==g)h.easingImpl=lc.linear;else{var b,E,C;b=Pe(g)?_.parse("transition-timing-function",g).value:g,Pe(b)?(E=b,C=[]):(E=b[1],C=b.slice(2).map(function(ae){return+ae})),C.length>0?("spring"===E&&C.push(h.duration),h.easingImpl=lc[E].apply(null,C)):h.easingImpl=lc[E]}var M,T=h.easingImpl;if(M=0===h.duration?1:(s-m)/h.duration,h.applying&&(M=h.progress),M<0?M=0:M>1&&(M=1),null==h.delay){var I=h.startPosition,O=h.position;if(O&&d&&!a.locked()){var N={};kl(I.x,O.x)&&(N.x=no(I.x,O.x,M,T)),kl(I.y,O.y)&&(N.y=no(I.y,O.y,M,T)),a.position(N)}var R=h.startPan,V=h.pan,j=f.pan,P=null!=V&&u;P&&(kl(R.x,V.x)&&(j.x=no(R.x,V.x,M,T)),kl(R.y,V.y)&&(j.y=no(R.y,V.y,M,T)),a.emit("pan"));var $=h.startZoom,k=h.zoom,G=null!=k&&u;G&&(kl($,k)&&(f.zoom=Bu(f.minZoom,no($,k,M,T),f.maxZoom)),a.emit("zoom")),(P||G)&&a.emit("viewport");var U=h.style;if(U&&U.length>0&&d){for(var B=0;B<U.length;B++){var z=U[B],H=z.name,q=h.startStyle[H],ee=no(q,z,M,T,_.properties[q.name]);_.overrideBypass(a,H,ee)}a.emit("style")}}return h.progress=M,M}function kl(a,o){return!!(null!=a&&null!=o&&(Ge(a)&&Ge(o)||a&&o))}function s0(a,o,s,u){var d=o._private;d.started=!0,d.startTime=s-d.progress*d.duration}function xg(a,o){var s=o._private.aniEles,u=[];function d(_,b){var D=_._private,E=D.animation.current,C=D.animation.queue,T=!1;if(0===E.length){var M=C.shift();M&&E.push(M)}for(var I=function(j){for(var P=j.length-1;P>=0;P--)(0,j[P])();j.splice(0,j.length)},O=E.length-1;O>=0;O--){var N=E[O],R=N._private;R.stopped?(E.splice(O,1),R.hooked=!1,R.playing=!1,R.started=!1,I(R.frames)):!R.playing&&!R.applying||(R.playing&&R.applying&&(R.applying=!1),R.started||s0(0,N,a),a0(_,N,a,b),R.applying&&(R.applying=!1),I(R.frames),null!=R.step&&R.step(a),N.completed()&&(E.splice(O,1),R.hooked=!1,R.playing=!1,R.started=!1,I(R.completes)),T=!0)}return!b&&0===E.length&&0===C.length&&u.push(_),T}for(var f=!1,h=0;h<s.length;h++){var m=d(s[h]);f=f||m}var v=d(o,!0);(f||v)&&(s.length>0?o.notify("draw",s):o.notify("draw")),s.unmerge(u),o.emit("step")}var l0={animate:tn.animate(),animation:tn.animation(),animated:tn.animated(),clearQueue:tn.clearQueue(),delay:tn.delay(),delayAnimation:tn.delayAnimation(),stop:tn.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var u=o.renderer();u&&u.beforeRender?u.beforeRender(function(f,h){xg(h,o)},u.beforeRenderPriorities.animations):function s(){o._private.animationsRunning&&Iu(function(f){xg(f,o),s()})}()}}},Te={qualifierCompare:function(o,s){return null==o||null==s?null==o&&null==s:o.sameText(s)},eventMatches:function(o,s,u){var d=s.qualifier;return null==d||o!==u.target&&gs(u.target)&&d.matches(u.target)},addEventFields:function(o,s){s.cy=o,s.target=o},callbackContext:function(o,s,u){return null!=s.qualifier?u.target:o}},qt=function(o){return Pe(o)?new br(o):o},pi={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new ec(Te,this)),this},emitter:function(){return this._private.emitter},on:function(o,s,u){return this.emitter().on(o,qt(s),u),this},removeListener:function(o,s,u){return this.emitter().removeListener(o,qt(s),u),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,s,u){return this.emitter().one(o,qt(s),u),this},once:function(o,s,u){return this.emitter().one(o,qt(s),u),this},emit:function(o,s){return this.emitter().emit(o,s),this},emitAndNotify:function(o,s){return this.emit(o),this.notify(o,s),this}};tn.eventAliasesOn(pi);var Jr={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var s=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",s.jpg(o)}};Jr.jpeg=Jr.jpg;var ir={layout:function(o){var s=this;if(null!=o)if(null!=o.name){var f,u=o.name,d=s.extension("layout",u);if(null!=d)return f=Pe(o.eles)?s.$(o.eles):null!=o.eles?o.eles:s.$(),new d(mt({},o,{cy:s,eles:f}));fn("No such layout `"+u+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else fn("A `name` must be specified to make a layout");else fn("Layout options must be specified to make a layout")}};ir.createLayout=ir.makeLayout=ir.layout;var Ng={notify:function(o,s){var u=this._private;if(this.batching()){u.batchNotifications=u.batchNotifications||{};var d=u.batchNotifications[o]=u.batchNotifications[o]||this.collection();null!=s&&d.merge(s)}else if(u.notificationsEnabled){var f=this.renderer();this.destroyed()||!f||f.notify(o,s)}},notifications:function(o){var s=this._private;return void 0===o?s.notificationsEnabled:(s.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var s=this.renderer();Object.keys(o.batchNotifications).forEach(function(u){var d=o.batchNotifications[u];d.empty()?s.notify(u):s.notify(u,d)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var s=this;return this.batch(function(){for(var u=Object.keys(o),d=0;d<u.length;d++){var f=u[d],h=o[f];s.getElementById(f).data(h)}})}},Fl=rr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Ui={renderTo:function(o,s,u,d){return this._private.renderer.renderTo(o,s,u,d),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var s=this,u=s.extension("renderer",o.name);if(null!=u){void 0!==o.wheelSensitivity&&bt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var d=Fl(o);d.cy=s,s._private.renderer=new u(d),this.notify("init")}else fn("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var s=o.container();if(s)for(s._cyreg=null;s.childNodes.length>0;)s.removeChild(s.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(u){var d=u._private;d.rscratch={},d.rstyle={},d.animation.current=[],d.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Ui.invalidateDimensions=Ui.resize;var Fs={collection:function(o,s){return Pe(o)?this.$(o):jt(o)?o.collection():Jt(o)?(s||(s={}),new Dr(this,o,s.unique,s.removed)):new Dr(this)},nodes:function(o){var s=this.$(function(u){return u.isNode()});return o?s.filter(o):s},edges:function(o){var s=this.$(function(u){return u.isEdge()});return o?s.filter(o):s},$:function(o){var s=this._private.elements;return o?s.filter(o):s.spawnSelf()},mutableElements:function(){return this._private.elements}};Fs.elements=Fs.filter=Fs.$;var Cr={apply:function(a){for(var o=this,d=o._private.cy.collection(),f=0;f<a.length;f++){var h=a[f],g=o.getContextMeta(h);if(!g.empty){var m=o.getContextStyle(g),v=o.applyContextStyle(g,m,h);h._private.appliedInitStyle?o.updateTransitions(h,v.diffProps):h._private.appliedInitStyle=!0,o.updateStyleHints(h)&&d.push(h)}}return d},getPropertiesDiff:function(a,o){var s=this,u=s._private.propDiffs=s._private.propDiffs||{},d=a+"-"+o,f=u[d];if(f)return f;for(var h=[],g={},m=0;m<s.length;m++){var v=s[m],b="t"===o[m],D="t"===a[m]!==b,E=v.mappedProperties.length>0;if(D||b&&E){var C=void 0;D&&E||D?C=v.properties:E&&(C=v.mappedProperties);for(var T=0;T<C.length;T++){for(var M=C[T],I=M.name,O=!1,N=m+1;N<s.length&&("t"!==o[N]||!(O=null!=s[N].properties[M.name]));N++);!g[I]&&!O&&(g[I]=!0,h.push(I))}}}return u[d]=h,h},getContextMeta:function(a){for(var u,o=this,s="",d=a._private.styleCxtKey||"",f=0;f<o.length;f++){var h=o[f];s+=h.selector&&h.selector.matches(a)?"t":"f"}return u=o.getPropertiesDiff(d,s),a._private.styleCxtKey=s,{key:s,diffPropNames:u,empty:0===u.length}},getContextStyle:function(a){var o=a.key,u=this._private.contextStyles=this._private.contextStyles||{};if(u[o])return u[o];for(var d={_private:{key:o}},f=0;f<this.length;f++){var h=this[f];if("t"===o[f])for(var m=0;m<h.properties.length;m++){var v=h.properties[m];d[v.name]=v}}return u[o]=d,d},applyContextStyle:function(a,o,s){for(var d=a.diffPropNames,f={},h=this.types,g=0;g<d.length;g++){var m=d[g],v=o[m],_=s.pstyle(m);if(!v){if(!_)continue;v=_.bypass?{name:m,deleteBypassed:!0}:{name:m,delete:!0}}if(_!==v){if(v.mapped===h.fn&&null!=_&&null!=_.mapping&&_.mapping.value===v.value){var b=_.mapping;if((b.fnValue=v.value(s))===b.prevFnValue)continue}var E=f[m]={prev:_};this.applyParsedProperty(s,v),E.next=s.pstyle(m),E.next&&E.next.bypass&&(E.next=E.next.bypassed)}}return{diffProps:f}},updateStyleHints:function(a){var u,o=a._private,s=this,d=s.propertyGroupKeys,f=function(Re,it,St){return s.getPropertiesHash(Re,it,St)},h=o.styleKey;if(a.removed())return!1;var Re,g="nodes"===o.group,m=a._private.style;u=Object.keys(m);for(var v=0;v<d.length;v++)o.styleKeys[d[v]]=[vs,xu];for(var b=function(Re,it){return o.styleKeys[it][0]=ms(Re,o.styleKeys[it][0])},D=function(Re,it){return o.styleKeys[it][1]=ys(Re,o.styleKeys[it][1])},E=function(Re,it){b(Re,it),D(Re,it)},C=function(Re,it){for(var St=0;St<Re.length;St++){var He=Re.charCodeAt(St);b(He,it),D(He,it)}},I=0;I<u.length;I++){var O=u[I],N=m[O];if(null!=N){var R=this.properties[O],V=R.type,j=R.groupKey,P=void 0;null!=R.hashOverride?P=R.hashOverride(a,N):null!=N.pfValue&&(P=N.pfValue);var $=null==R.enums?N.value:null,k=null!=P,B=N.units;!V.number||!k&&null==$||V.multiple?C(N.strValue,j):(E(-128<(Re=k?P:$)&&Re<128&&Math.floor(Re)!==Re?2e9-(1024*Re|0):Re,j),!k&&null!=B&&C(B,j))}}for(var H=[vs,xu],Q=0;Q<d.length;Q++){var W=o.styleKeys[d[Q]];H[0]=ms(W[0],H[0]),H[1]=ys(W[1],H[1])}o.styleKey=function(o,s){return 2097152*o+s}(H[0],H[1]);var ee=o.styleKeys;o.labelDimsKey=ko(ee.labelDimensions);var ae=f(a,["label"],ee.labelDimensions);if(o.labelKey=ko(ae),o.labelStyleKey=ko(Ou(ee.commonLabel,ae)),!g){var he=f(a,["source-label"],ee.labelDimensions);o.sourceLabelKey=ko(he),o.sourceLabelStyleKey=ko(Ou(ee.commonLabel,he));var te=f(a,["target-label"],ee.labelDimensions);o.targetLabelKey=ko(te),o.targetLabelStyleKey=ko(Ou(ee.commonLabel,te))}if(g){var de=o.styleKeys,be=de.pie,Ie=[de.nodeBody,de.nodeBorder,de.nodeOutline,de.backgroundImage,de.compound,be].filter(function(Me){return null!=Me}).reduce(Ou,[vs,xu]);o.nodeKey=ko(Ie),o.hasPie=null!=be&&be[0]!==vs&&be[1]!==xu}return h!==o.styleKey},clearStyleHints:function(a){var o=a._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(a,o){var f,s=this,u=o,d=a._private.style,h=s.types,g=s.properties[u.name].type,m=u.bypass,v=d[u.name],_=v&&v.bypass,b=a._private,D="mapping",E=function(ye){return null==ye?null:null!=ye.pfValue?ye.pfValue:ye.value},C=function(){var ye=E(v),we=E(u);s.checkTriggers(a,u.name,ye,we)};if("curve-style"===o.name&&a.isEdge()&&("bezier"!==o.value&&a.isLoop()||"haystack"===o.value&&(a.source().isParent()||a.target().isParent()))&&(u=o=this.parse(o.name,"bezier",m)),u.delete)return d[u.name]=void 0,C(),!0;if(u.deleteBypassed)return v?!!v.bypass&&(v.bypassed=void 0,C(),!0):(C(),!0);if(u.deleteBypass)return v?!!v.bypass&&(d[u.name]=v.bypassed,C(),!0):(C(),!0);var T=function(){bt("Do not assign mappings to elements without corresponding data (i.e. ele `"+a.id()+"` has no mapping for property `"+u.name+"` with data field `"+u.field+"`); try a `["+u.field+"]` selector to limit scope to elements with `"+u.field+"` defined")};switch(u.mapped){case h.mapData:for(var M=u.field.split("."),I=b.data,O=0;O<M.length&&I;O++)I=I[M[O]];if(null==I)return T(),!1;var R;if(!Ge(I))return bt("Do not use continuous mappers without specifying numeric data (i.e. `"+u.field+": "+I+"` for `"+a.id()+"` is non-numeric)"),!1;var V=u.fieldMax-u.fieldMin;if((R=0===V?0:(I-u.fieldMin)/V)<0?R=0:R>1&&(R=1),g.color){var j=u.valueMin[0],$=u.valueMin[1],k=u.valueMax[1],G=u.valueMin[2],U=u.valueMax[2],B=null==u.valueMin[3]?1:u.valueMin[3],z=null==u.valueMax[3]?1:u.valueMax[3],H=[Math.round(j+(u.valueMax[0]-j)*R),Math.round($+(k-$)*R),Math.round(G+(U-G)*R),Math.round(B+(z-B)*R)];f={bypass:u.bypass,name:u.name,value:H,strValue:"rgb("+H[0]+", "+H[1]+", "+H[2]+")"}}else{if(!g.number)return!1;f=this.parse(u.name,u.valueMin+(u.valueMax-u.valueMin)*R,u.bypass,D)}if(!f)return T(),!1;f.mapping=u,u=f;break;case h.data:for(var q=u.field.split("."),W=b.data,ee=0;ee<q.length&&W;ee++)W=W[q[ee]];if(null!=W&&(f=this.parse(u.name,W,u.bypass,D)),!f)return T(),!1;f.mapping=u,u=f;break;case h.fn:var te=null!=u.fnValue?u.fnValue:(0,u.value)(a);if(u.prevFnValue=te,null==te)return bt("Custom function mappers may not return null (i.e. `"+u.name+"` for ele `"+a.id()+"` is null)"),!1;if(!(f=this.parse(u.name,te,u.bypass,D)))return bt("Custom function mappers may not return invalid values for the property type (i.e. `"+u.name+"` for ele `"+a.id()+"` is invalid)"),!1;f.mapping=Xn(u),u=f;break;case void 0:break;default:return!1}return m?(u.bypassed=_?v.bypassed:v,d[u.name]=u):_?v.bypassed=u:d[u.name]=u,C(),!0},cleanElements:function(a,o){for(var s=0;s<a.length;s++){var u=a[s];if(this.clearStyleHints(u),u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),o)for(var d=u._private.style,f=Object.keys(d),h=0;h<f.length;h++){var g=f[h],m=d[g];null!=m&&(m.bypass?m.bypassed=null:d[g]=null)}else u._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(a,o){var s=this,u=a._private,d=a.pstyle("transition-property").value,f=a.pstyle("transition-duration").pfValue,h=a.pstyle("transition-delay").pfValue;if(d.length>0&&f>0){for(var g={},m=!1,v=0;v<d.length;v++){var _=d[v],b=a.pstyle(_),D=o[_];if(D){var C=D.prev,T=null!=D.next?D.next:b,M=!1,I=void 0,O=1e-6;C&&(Ge(C.pfValue)&&Ge(T.pfValue)?I=C.pfValue+O*(M=T.pfValue-C.pfValue):Ge(C.value)&&Ge(T.value)?I=C.value+O*(M=T.value-C.value):Jt(C.value)&&Jt(T.value)&&(M=C.value[0]!==T.value[0]||C.value[1]!==T.value[1]||C.value[2]!==T.value[2],I=C.strValue),M&&(g[_]=T.strValue,this.applyBypass(a,_,I),m=!0))}}if(!m)return;u.transitioning=!0,new Jn(function(N){h>0?a.delayAnimation(h).play().promise().then(N):N()}).then(function(){return a.animation({style:g,duration:f,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){s.removeBypasses(a,d),a.emitAndNotify("style"),u.transitioning=!1})}else u.transitioning&&(this.removeBypasses(a,d),a.emitAndNotify("style"),u.transitioning=!1)},checkTrigger:function(a,o,s,u,d,f){var h=this.properties[o],g=d(h);null!=g&&g(s,u)&&f(h)},checkZOrderTrigger:function(a,o,s,u){var d=this;this.checkTrigger(a,o,s,u,function(f){return f.triggersZOrder},function(){d._private.cy.notify("zorder",a)})},checkBoundsTrigger:function(a,o,s,u){this.checkTrigger(a,o,s,u,function(d){return d.triggersBounds},function(d){a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),d.triggersBoundsOfParallelBeziers&&"curve-style"===o&&("bezier"===s||"bezier"===u)&&a.parallelEdges().forEach(function(f){f.isBundledBezier()&&f.dirtyBoundingBoxCache()}),d.triggersBoundsOfConnectedEdges&&"display"===o&&("none"===s||"none"===u)&&a.connectedEdges().forEach(function(f){f.dirtyBoundingBoxCache()})})},checkTriggers:function(a,o,s,u){a.dirtyStyleCache(),this.checkZOrderTrigger(a,o,s,u),this.checkBoundsTrigger(a,o,s,u)}},Ls={applyBypass:function(a,o,s,u){var f=[];if("*"===o||"**"===o){if(void 0!==s)for(var g=0;g<this.properties.length;g++){var _=this.parse(this.properties[g].name,s,!0);_&&f.push(_)}}else if(Pe(o)){var b=this.parse(o,s,!0);b&&f.push(b)}else{if(!at(o))return!1;var D=o;u=s;for(var E=Object.keys(D),C=0;C<E.length;C++){var T=E[C],M=D[T];if(void 0===M&&(M=D[Rd(T)]),void 0!==M){var I=this.parse(T,M,!0);I&&f.push(I)}}}if(0===f.length)return!1;for(var O=!1,N=0;N<a.length;N++){for(var R=a[N],V={},j=void 0,P=0;P<f.length;P++){var $=f[P];if(u){var k=R.pstyle($.name);j=V[$.name]={prev:k}}O=this.applyParsedProperty(R,Xn($))||O,u&&(j.next=R.pstyle($.name))}O&&this.updateStyleHints(R),u&&this.updateTransitions(R,V,!0)}return O},overrideBypass:function(a,o,s){o=Ad(o);for(var u=0;u<a.length;u++){var d=a[u],f=d._private.style[o],h=this.properties[o].type,g=h.color,m=h.mutiple,v=f?null!=f.pfValue?f.pfValue:f.value:null;f&&f.bypass?(f.value=s,null!=f.pfValue&&(f.pfValue=s),f.strValue=g?"rgb("+s.join(",")+")":m?s.join(" "):""+s,this.updateStyleHints(d)):this.applyBypass(d,o,s),this.checkTriggers(d,o,v,s)}},removeAllBypasses:function(a,o){return this.removeBypasses(a,this.propertyNames,o)},removeBypasses:function(a,o,s){for(var d=0;d<a.length;d++){for(var f=a[d],h={},g=0;g<o.length;g++){var m=o[g],v=this.properties[m],_=f.pstyle(v.name);if(_&&_.bypass){var D=this.parse(m,"",!0),E=h[v.name]={prev:_};this.applyParsedProperty(f,D),E.next=f.pstyle(v.name)}}this.updateStyleHints(f),s&&this.updateTransitions(f,h,!0)}}},Ar={getEmSizeInPixels:function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},containerCss:function(a){var o=this._private.cy,s=o.container(),u=o.window();if(u&&s&&u.getComputedStyle)return u.getComputedStyle(s).getPropertyValue(a)}},Er={getRenderedStyle:function(a,o){return o?this.getStylePropertyValue(a,o,!0):this.getRawStyle(a,!0)},getRawStyle:function(a,o){var s=this;if(a=a[0]){for(var u={},d=0;d<s.properties.length;d++){var f=s.properties[d],h=s.getStylePropertyValue(a,f.name,o);null!=h&&(u[f.name]=h,u[Rd(f.name)]=h)}return u}},getIndexedStyle:function(a,o,s,u){return a.pstyle(o)[s][u]??a.cy().style().getDefaultProperty(o)[s][0]},getStylePropertyValue:function(a,o,s){if(a=a[0]){var d=this.properties[o];d.alias&&(d=d.pointsTo);var f=d.type,h=a.pstyle(d.name);if(h){var g=h.value,m=h.units,v=h.strValue;if(s&&f.number&&null!=g&&Ge(g)){var _=a.cy().zoom(),b=function(M){return M*_},D=function(M,I){return b(M)+I},E=Jt(g);return(E?m.every(function(T){return null!=T}):null!=m)?E?g.map(function(T,M){return D(T,m[M])}).join(" "):D(g,m):E?g.map(function(T){return Pe(T)?T:""+b(T)}).join(" "):""+b(g)}if(null!=v)return v}return null}},getAnimationStartStyle:function(a,o){for(var s={},u=0;u<o.length;u++){var f=o[u].name,h=a.pstyle(f);void 0!==h&&(h=at(h)?this.parse(f,h.strValue):this.parse(f,h)),h&&(s[f]=h)}return s},getPropsList:function(a){var s=[],u=a,d=this.properties;if(u)for(var f=Object.keys(u),h=0;h<f.length;h++){var g=f[h],m=u[g],v=d[g]||d[Ad(g)],_=this.parse(v.name,m);_&&s.push(_)}return s},getNonDefaultPropertiesHash:function(a,o,s){var f,h,g,m,v,u=s.slice();for(m=0;m<o.length;m++)if(null!=(f=a.pstyle(o[m],!1)))if(null!=f.pfValue)u[0]=ms(g,u[0]),u[1]=ys(g,u[1]);else for(h=f.strValue,v=0;v<h.length;v++)g=h.charCodeAt(v),u[0]=ms(g,u[0]),u[1]=ys(g,u[1]);return u}};Er.getPropertiesHash=Er.getNonDefaultPropertiesHash;var Bl={appendFromJson:function(a){for(var o=this,s=0;s<a.length;s++){var u=a[s],d=u.selector,f=u.style||u.css,h=Object.keys(f);o.selector(d);for(var g=0;g<h.length;g++){var m=h[g];o.css(m,f[m])}}return o},fromJson:function(a){var o=this;return o.resetToDefault(),o.appendFromJson(a),o},json:function(){for(var a=[],o=this.defaultLength;o<this.length;o++){for(var s=this[o],u=s.selector,d=s.properties,f={},h=0;h<d.length;h++){var g=d[h];f[g.name]=g.strValue}a.push({selector:u?u.toString():"core",style:f})}return a}},_a={appendFromString:function(a){var d,f,h,s=this,u=""+a;function g(){u=u.length>d.length?u.substr(d.length):""}function m(){f=f.length>h.length?f.substr(h.length):""}for(u=u.replace(/[/][*](\s|.)+?[*][/]/g,"");!u.match(/^\s*$/);){var _=u.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!_){bt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+u);break}d=_[0];var b=_[1];if("core"!==b&&new br(b).invalid)bt("Skipping parsing of block: Invalid selector found in string stylesheet: "+b),g();else{var E=_[2],C=!1;f=E;for(var T=[];!f.match(/^\s*$/);){var I=f.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!I){bt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+E),C=!0;break}h=I[0];var O=I[1],N=I[2];this.properties[O]?s.parse(O,N)?(T.push({name:O,val:N}),m()):(bt("Skipping property: Invalid property definition in: "+h),m()):(bt("Skipping property: Invalid property name in: "+h),m())}if(C){g();break}s.selector(b);for(var j=0;j<T.length;j++){var P=T[j];s.css(P.name,P.val)}g()}}return s},fromString:function(a){var o=this;return o.resetToDefault(),o.appendFromString(a),o}},Vn={};(function(){var a=vr,o=fp,s=Pd,f=function(Ie){return"^"+Ie+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},h=function(Ie){var Me=a+"|\\w+|"+o+"|"+s+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Ie+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+Me+")\\s*\\,\\s*("+Me+")\\)$"},g=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Vn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:f("data")},layoutData:{mapping:!0,regex:f("layoutData")},scratch:{mapping:!0,regex:f("scratch")},mapData:{mapping:!0,regex:h("mapData")},mapLayoutData:{mapping:!0,regex:h("mapLayoutData")},mapScratch:{mapping:!0,regex:h("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:g,singleRegexMatchValue:!0},urls:{regexes:g,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ie,Me){switch(Ie.length){case 2:return"deg"!==Me[0]&&"rad"!==Me[0]&&"deg"!==Me[1]&&"rad"!==Me[1];case 1:return Pe(Ie[0])||"deg"===Me[0]||"rad"===Me[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ie){var Me=Ie.length;return 1===Me||2===Me||4===Me}}};var m={zeroNonZero:function(Ie,Me){return(null==Ie||null==Me)&&Ie!==Me||0==Ie&&0!=Me||0!=Ie&&0==Me},any:function(Ie,Me){return Ie!=Me},emptyNonEmpty:function(Ie,Me){var Re=Ut(Ie),it=Ut(Me);return Re&&!it||!Re&&it}},v=Vn.types,_=[{name:"label",type:v.text,triggersBounds:m.any,triggersZOrder:m.emptyNonEmpty},{name:"text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any}],b=[{name:"source-label",type:v.text,triggersBounds:m.any},{name:"source-text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"source-text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"source-text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"source-text-offset",type:v.size,triggersBounds:m.any}],D=[{name:"target-label",type:v.text,triggersBounds:m.any},{name:"target-text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"target-text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"target-text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"target-text-offset",type:v.size,triggersBounds:m.any}],E=[{name:"font-family",type:v.fontFamily,triggersBounds:m.any},{name:"font-style",type:v.fontStyle,triggersBounds:m.any},{name:"font-weight",type:v.fontWeight,triggersBounds:m.any},{name:"font-size",type:v.size,triggersBounds:m.any},{name:"text-transform",type:v.textTransform,triggersBounds:m.any},{name:"text-wrap",type:v.textWrap,triggersBounds:m.any},{name:"text-overflow-wrap",type:v.textOverflowWrap,triggersBounds:m.any},{name:"text-max-width",type:v.size,triggersBounds:m.any},{name:"text-outline-width",type:v.size,triggersBounds:m.any},{name:"line-height",type:v.positiveNumber,triggersBounds:m.any}],C=[{name:"text-valign",type:v.valign,triggersBounds:m.any},{name:"text-halign",type:v.halign,triggersBounds:m.any},{name:"color",type:v.color},{name:"text-outline-color",type:v.color},{name:"text-outline-opacity",type:v.zeroOneNumber},{name:"text-background-color",type:v.color},{name:"text-background-opacity",type:v.zeroOneNumber},{name:"text-background-padding",type:v.size,triggersBounds:m.any},{name:"text-border-opacity",type:v.zeroOneNumber},{name:"text-border-color",type:v.color},{name:"text-border-width",type:v.size,triggersBounds:m.any},{name:"text-border-style",type:v.borderStyle,triggersBounds:m.any},{name:"text-background-shape",type:v.textBackgroundShape,triggersBounds:m.any},{name:"text-justification",type:v.justification}],T=[{name:"events",type:v.bool,triggersZOrder:m.any},{name:"text-events",type:v.bool,triggersZOrder:m.any}],M=[{name:"display",type:v.display,triggersZOrder:m.any,triggersBounds:m.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:v.visibility,triggersZOrder:m.any},{name:"opacity",type:v.zeroOneNumber,triggersZOrder:m.zeroNonZero},{name:"text-opacity",type:v.zeroOneNumber},{name:"min-zoomed-font-size",type:v.size},{name:"z-compound-depth",type:v.zCompoundDepth,triggersZOrder:m.any},{name:"z-index-compare",type:v.zIndexCompare,triggersZOrder:m.any},{name:"z-index",type:v.number,triggersZOrder:m.any}],I=[{name:"overlay-padding",type:v.size,triggersBounds:m.any},{name:"overlay-color",type:v.color},{name:"overlay-opacity",type:v.zeroOneNumber,triggersBounds:m.zeroNonZero},{name:"overlay-shape",type:v.overlayShape,triggersBounds:m.any}],O=[{name:"underlay-padding",type:v.size,triggersBounds:m.any},{name:"underlay-color",type:v.color},{name:"underlay-opacity",type:v.zeroOneNumber,triggersBounds:m.zeroNonZero},{name:"underlay-shape",type:v.overlayShape,triggersBounds:m.any}],N=[{name:"transition-property",type:v.propList},{name:"transition-duration",type:v.time},{name:"transition-delay",type:v.time},{name:"transition-timing-function",type:v.easing}],R=function(Ie,Me){return"label"===Me.value?-Ie.poolIndex():Me.pfValue},V=[{name:"height",type:v.nodeSize,triggersBounds:m.any,hashOverride:R},{name:"width",type:v.nodeSize,triggersBounds:m.any,hashOverride:R},{name:"shape",type:v.nodeShape,triggersBounds:m.any},{name:"shape-polygon-points",type:v.polygonPointList,triggersBounds:m.any},{name:"background-color",type:v.color},{name:"background-fill",type:v.fill},{name:"background-opacity",type:v.zeroOneNumber},{name:"background-blacken",type:v.nOneOneNumber},{name:"background-gradient-stop-colors",type:v.colors},{name:"background-gradient-stop-positions",type:v.percentages},{name:"background-gradient-direction",type:v.gradientDirection},{name:"padding",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"padding-relative-to",type:v.paddingRelativeTo,triggersBounds:m.any},{name:"bounds-expansion",type:v.boundsExpansion,triggersBounds:m.any}],j=[{name:"border-color",type:v.color},{name:"border-opacity",type:v.zeroOneNumber},{name:"border-width",type:v.size,triggersBounds:m.any},{name:"border-style",type:v.borderStyle}],P=[{name:"outline-color",type:v.color},{name:"outline-opacity",type:v.zeroOneNumber},{name:"outline-width",type:v.size,triggersBounds:m.any},{name:"outline-style",type:v.borderStyle},{name:"outline-offset",type:v.size,triggersBounds:m.any}],$=[{name:"background-image",type:v.urls},{name:"background-image-crossorigin",type:v.bgCrossOrigin},{name:"background-image-opacity",type:v.zeroOneNumbers},{name:"background-image-containment",type:v.bgContainment},{name:"background-image-smoothing",type:v.bools},{name:"background-position-x",type:v.bgPos},{name:"background-position-y",type:v.bgPos},{name:"background-width-relative-to",type:v.bgRelativeTo},{name:"background-height-relative-to",type:v.bgRelativeTo},{name:"background-repeat",type:v.bgRepeat},{name:"background-fit",type:v.bgFit},{name:"background-clip",type:v.bgClip},{name:"background-width",type:v.bgWH},{name:"background-height",type:v.bgWH},{name:"background-offset-x",type:v.bgPos},{name:"background-offset-y",type:v.bgPos}],k=[{name:"position",type:v.position,triggersBounds:m.any},{name:"compound-sizing-wrt-labels",type:v.compoundIncludeLabels,triggersBounds:m.any},{name:"min-width",type:v.size,triggersBounds:m.any},{name:"min-width-bias-left",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-width-bias-right",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-height",type:v.size,triggersBounds:m.any},{name:"min-height-bias-top",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-height-bias-bottom",type:v.sizeMaybePercent,triggersBounds:m.any}],G=[{name:"line-style",type:v.lineStyle},{name:"line-color",type:v.color},{name:"line-fill",type:v.fill},{name:"line-cap",type:v.lineCap},{name:"line-opacity",type:v.zeroOneNumber},{name:"line-dash-pattern",type:v.numbers},{name:"line-dash-offset",type:v.number},{name:"line-gradient-stop-colors",type:v.colors},{name:"line-gradient-stop-positions",type:v.percentages},{name:"curve-style",type:v.curveStyle,triggersBounds:m.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:v.zeroOneNumber,triggersBounds:m.any},{name:"source-endpoint",type:v.edgeEndpoint,triggersBounds:m.any},{name:"target-endpoint",type:v.edgeEndpoint,triggersBounds:m.any},{name:"control-point-step-size",type:v.size,triggersBounds:m.any},{name:"control-point-distances",type:v.bidirectionalSizes,triggersBounds:m.any},{name:"control-point-weights",type:v.numbers,triggersBounds:m.any},{name:"segment-distances",type:v.bidirectionalSizes,triggersBounds:m.any},{name:"segment-weights",type:v.numbers,triggersBounds:m.any},{name:"taxi-turn",type:v.bidirectionalSizeMaybePercent,triggersBounds:m.any},{name:"taxi-turn-min-distance",type:v.size,triggersBounds:m.any},{name:"taxi-direction",type:v.axisDirection,triggersBounds:m.any},{name:"edge-distances",type:v.edgeDistances,triggersBounds:m.any},{name:"arrow-scale",type:v.positiveNumber,triggersBounds:m.any},{name:"loop-direction",type:v.angle,triggersBounds:m.any},{name:"loop-sweep",type:v.angle,triggersBounds:m.any},{name:"source-distance-from-node",type:v.size,triggersBounds:m.any},{name:"target-distance-from-node",type:v.size,triggersBounds:m.any}],U=[{name:"ghost",type:v.bool,triggersBounds:m.any},{name:"ghost-offset-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"ghost-offset-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"ghost-opacity",type:v.zeroOneNumber}],B=[{name:"selection-box-color",type:v.color},{name:"selection-box-opacity",type:v.zeroOneNumber},{name:"selection-box-border-color",type:v.color},{name:"selection-box-border-width",type:v.size},{name:"active-bg-color",type:v.color},{name:"active-bg-opacity",type:v.zeroOneNumber},{name:"active-bg-size",type:v.size},{name:"outside-texture-bg-color",type:v.color},{name:"outside-texture-bg-opacity",type:v.zeroOneNumber}],z=[];Vn.pieBackgroundN=16,z.push({name:"pie-size",type:v.sizeMaybePercent});for(var H=1;H<=Vn.pieBackgroundN;H++)z.push({name:"pie-"+H+"-background-color",type:v.color}),z.push({name:"pie-"+H+"-background-size",type:v.percent}),z.push({name:"pie-"+H+"-background-opacity",type:v.zeroOneNumber});var Q=[],q=Vn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:v.arrowShape,triggersBounds:m.any},{name:"arrow-color",type:v.color},{name:"arrow-fill",type:v.arrowFill},{name:"arrow-width",type:v.arrowWidth}].forEach(function(be){q.forEach(function(Ie){Q.push({name:Ie+"-"+be.name,type:be.type,triggersBounds:be.triggersBounds})})},{});var W=Vn.properties=[].concat(T,N,M,I,O,U,C,E,_,b,D,V,j,P,$,z,k,G,Q,B),ee=Vn.propertyGroups={behavior:T,transition:N,visibility:M,overlay:I,underlay:O,ghost:U,commonLabel:C,labelDimensions:E,mainLabel:_,sourceLabel:b,targetLabel:D,nodeBody:V,nodeBorder:j,nodeOutline:P,backgroundImage:$,pie:z,compound:k,edgeLine:G,edgeArrow:Q,core:B},ae=Vn.propertyGroupNames={};(Vn.propertyGroupKeys=Object.keys(ee)).forEach(function(be){ae[be]=ee[be].map(function(Ie){return Ie.name}),ee[be].forEach(function(Ie){return Ie.groupKey=be})});var te=Vn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Vn.propertyNames=W.map(function(be){return be.name});for(var de=0;de<W.length;de++){var ye=W[de];W[ye.name]=ye}for(var we=0;we<te.length;we++){var _e=te[we],ie={name:_e.name,alias:!0,pointsTo:W[_e.pointsTo]};W.push(ie),W[_e.name]=ie}})(),Vn.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},Vn.getDefaultProperties=function(){var a=this._private;if(null!=a.defaultProperties)return a.defaultProperties;for(var o=mt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(m,v){for(var _=1;_<=Vn.pieBackgroundN;_++)m[v.name.replace("{{i}}",_)]=v.value;return m},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(m,v){return Vn.arrowPrefixes.forEach(function(_){m[_+"-"+v.name]=v.value}),m},{})),s={},u=0;u<this.properties.length;u++){var d=this.properties[u];if(!d.pointsTo){var f=d.name,g=this.parse(f,o[f]);s[f]=g}}return a.defaultProperties=s,a.defaultProperties},Vn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var uc={parse:function(a,o,s,u){var d=this;if(sn(o))return d.parseImplWarn(a,o,s,u);var _,m=Bd(a,""+o,s?"t":"f","mapping"===u||!0===u||!1===u||null==u?"dontcare":u),v=d.propCache=d.propCache||[];return(_=v[m])||(_=v[m]=d.parseImplWarn(a,o,s,u)),(s||"mapping"===u)&&(_=Xn(_))&&(_.value=Xn(_.value)),_},parseImplWarn:function(a,o,s,u){var d=this.parseImpl(a,o,s,u);return!d&&null!=o&&bt("The style property `".concat(a,": ").concat(o,"` is invalid")),d&&("width"===d.name||"height"===d.name)&&"label"===o&&bt("The style value of `label` is deprecated for `"+d.name+"`"),d}};uc.parseImpl=function(a,o,s,u){var d=this;a=Ad(a);var f=d.properties[a],h=o,g=d.types;if(!f||void 0===o)return null;f.alias&&(a=(f=f.pointsTo).name);var m=Pe(o);m&&(o=o.trim());var _,b,v=f.type;if(!v)return null;if(s&&(""===o||null===o))return{name:a,value:o,bypass:!0,deleteBypass:!0};if(sn(o))return{name:a,value:o,strValue:"fn",mapped:g.fn,bypass:s};if(!(!m||u||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(_=new RegExp(g.data.regex).exec(o)))return!s&&{name:a,value:_,strValue:""+o,mapped:g.data,field:_[1],bypass:s};if(o.length>=10&&"m"===o[0]&&(b=new RegExp(g.mapData.regex).exec(o))){if(s||v.multiple)return!1;var E=g.mapData;if(!v.color&&!v.number)return!1;var C=this.parse(a,b[4]);if(!C||C.mapped)return!1;var T=this.parse(a,b[5]);if(!T||T.mapped)return!1;if(C.pfValue===T.pfValue||C.strValue===T.strValue)return bt("`"+a+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+a+": "+C.strValue+"`"),this.parse(a,C.strValue);if(v.color){var M=C.value,I=T.value;if(!(M[0]!==I[0]||M[1]!==I[1]||M[2]!==I[2]||M[3]!==I[3]&&(null!=M[3]&&1!==M[3]||null!=I[3]&&1!==I[3])))return!1}return{name:a,value:b,strValue:""+o,mapped:E,field:b[1],fieldMin:parseFloat(b[2]),fieldMax:parseFloat(b[3]),valueMin:C.value,valueMax:T.value,bypass:s}}}if(v.multiple&&"multiple"!==u){var N;if(N=m?o.split(/\s+/):Jt(o)?o:[o],v.evenMultiple&&N.length%2!=0)return null;for(var R=[],V=[],j=[],P="",$=!1,k=0;k<N.length;k++){var G=d.parse(a,N[k],s,"multiple");$=$||Pe(G.value),R.push(G.value),j.push(null!=G.pfValue?G.pfValue:G.value),V.push(G.units),P+=(k>0?" ":"")+G.strValue}return v.validate&&!v.validate(R,V)?null:v.singleEnum&&$?1===R.length&&Pe(R[0])?{name:a,value:R[0],strValue:R[0],bypass:s}:null:{name:a,value:R,pfValue:j,strValue:P,bypass:s,units:V}}var U=function(){for(var Ie=0;Ie<v.enums.length;Ie++)if(v.enums[Ie]===o)return{name:a,value:o,strValue:""+o,bypass:s};return null};if(v.number){var B,z="px";if(v.units&&(B=v.units),v.implicitUnits&&(z=v.implicitUnits),!v.unitless)if(m){var H="px|em"+(v.allowPercent?"|\\%":"");B&&(H=B);var Q=o.match("^("+vr+")("+H+")?$");Q&&(o=Q[1],B=Q[2]||z)}else(!B||v.implicitUnits)&&(B=z);if(o=parseFloat(o),isNaN(o)&&void 0===v.enums)return null;if(isNaN(o)&&void 0!==v.enums)return o=h,U();if(v.integer&&!function(o){return Ge(o)&&Math.floor(o)===o}(o)||void 0!==v.min&&(o<v.min||v.strictMin&&o===v.min)||void 0!==v.max&&(o>v.max||v.strictMax&&o===v.max))return null;var q={name:a,value:o,strValue:""+o+(B||""),units:B,bypass:s};return q.pfValue=v.unitless||"px"!==B&&"em"!==B?o:"px"!==B&&B?this.getEmSizeInPixels()*o:o,("ms"===B||"s"===B)&&(q.pfValue="ms"===B?o:1e3*o),("deg"===B||"rad"===B)&&(q.pfValue="rad"===B?o:function(o){return Math.PI*o/180}(o)),"%"===B&&(q.pfValue=o/100),q}if(v.propList){var W=[],ee=""+o;if("none"!==ee){for(var ae=ee.split(/\s*,\s*|\s+/),he=0;he<ae.length;he++){var te=ae[he].trim();d.properties[te]?W.push(te):bt("`"+te+"` is not a valid property name")}if(0===W.length)return null}return{name:a,value:W,strValue:0===W.length?"none":W.join(" "),bypass:s}}if(v.color){var de=function(o){return(Jt(o)?o:null)||function(o){return _y[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var u,d,f,h=16;return 4===o.length?(u=parseInt(o[1]+o[1],h),d=parseInt(o[2]+o[2],h),f=parseInt(o[3]+o[3],h)):(u=parseInt(o[1]+o[2],h),d=parseInt(o[3]+o[4],h),f=parseInt(o[5]+o[6],h)),[u,d,f]}}(o)||function(o){var s,u=new RegExp("^"+hy+"$").exec(o);if(u){s=[];for(var d=[],f=1;f<=3;f++){var h=u[f];if("%"===h[h.length-1]&&(d[f]=!0),h=parseFloat(h),d[f]&&(h=h/100*255),h<0||h>255)return;s.push(Math.floor(h))}if((d[1]||d[2]||d[3])&&!(d[1]&&d[2]&&d[3]))return;var v=u[4];if(void 0!==v){if((v=parseFloat(v))<0||v>1)return;s.push(v)}}return s}(o)||function(o){var s,u,d,f,h,g,m,v;function _(C,T,M){return M<0&&(M+=1),M>1&&(M-=1),M<1/6?C+6*(T-C)*M:M<.5?T:M<2/3?C+(T-C)*(2/3-M)*6:C}var b=new RegExp("^"+py+"$").exec(o);if(b){if((u=parseInt(b[1]))<0?u=(360- -1*u%360)%360:u>360&&(u%=360),u/=360,(d=parseFloat(b[2]))<0||d>100||(d/=100,(f=parseFloat(b[3]))<0||f>100)||(f/=100,void 0!==(h=b[4])&&((h=parseFloat(h))<0||h>1)))return;if(0===d)g=m=v=Math.round(255*f);else{var D=f<.5?f*(1+d):f+d-f*d,E=2*f-D;g=Math.round(255*_(E,D,u+1/3)),m=Math.round(255*_(E,D,u)),v=Math.round(255*_(E,D,u-1/3))}s=[g,m,v,h]}return s}(o)}(o);return de?{name:a,value:de,pfValue:de,strValue:"rgb("+de[0]+","+de[1]+","+de[2]+")",bypass:s}:null}if(v.regex||v.regexes){if(v.enums){var ye=U();if(ye)return ye}for(var we=v.regexes?v.regexes:[v.regex],_e=0;_e<we.length;_e++){var ie=new RegExp(we[_e]).exec(o);if(ie)return{name:a,value:v.singleRegexMatchValue?ie[1]:ie,strValue:""+o,bypass:s}}return null}return v.string?{name:a,value:""+o,strValue:""+o,bypass:s}:v.enums?U():null};var Rr=function a(o){if(!(this instanceof a))return new a(o);zn(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):fn("A style must have a core reference")},jr=Rr.prototype;jr.instanceString=function(){return"style"},jr.clear=function(){for(var a=this._private,s=a.cy.elements(),u=0;u<this.length;u++)this[u]=void 0;return this.length=0,a.contextStyles={},a.propDiffs={},this.cleanElements(s,!0),s.forEach(function(d){var f=d[0]._private;f.styleDirty=!0,f.appliedInitStyle=!1}),this},jr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},jr.core=function(a){return this._private.coreStyle[a]||this.getDefaultProperty(a)},jr.selector=function(a){var o="core"===a?null:new br(a),s=this.length++;return this[s]={selector:o,properties:[],mappedProperties:[],index:s},this},jr.css=function(){var o=arguments;if(1===o.length)for(var s=o[0],u=0;u<this.properties.length;u++){var d=this.properties[u],f=s[d.name];void 0===f&&(f=s[Rd(d.name)]),void 0!==f&&this.cssRule(d.name,f)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},jr.style=jr.css,jr.cssRule=function(a,o){var s=this.parse(a,o);if(s){var u=this.length-1;this[u].properties.push(s),this[u].properties[s.name]=s,s.name.match(/pie-(\d+)-background-size/)&&s.value&&(this._private.hasPie=!0),s.mapped&&this[u].mappedProperties.push(s),!this[u].selector&&(this._private.coreStyle[s.name]=s)}return this},jr.append=function(a){return An(a)?a.appendToStyle(this):Jt(a)?this.appendFromJson(a):Pe(a)&&this.appendFromString(a),this},Rr.fromJson=function(a,o){var s=new Rr(a);return s.fromJson(o),s},Rr.fromString=function(a,o){return new Rr(a).fromString(o)},[Cr,Ls,Ar,Er,Bl,_a,Vn,uc].forEach(function(a){mt(jr,a)}),Rr.types=jr.types,Rr.properties=jr.properties,Rr.propertyGroups=jr.propertyGroups,Rr.propertyGroupNames=jr.propertyGroupNames,Rr.propertyGroupKeys=jr.propertyGroupKeys;var u0={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var s=this._private;return s.style=An(o)?o.generateStyle(this):Jt(o)?Rr.fromJson(this,o):Pe(o)?Rr.fromString(this,o):Rr(this),s.style},updateStyle:function(){this.mutableElements().updateStyle()}},Ho={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var s=this._private;return null==s.selectionType&&(s.selectionType="single"),void 0===o?s.selectionType:(("additive"===o||"single"===o)&&(s.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var u,d,f,h,g,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(Pe(o[0]))return s[u=o[0]];if(at(o[0])){if(!this._private.panningEnabled)return this;g=(f=o[0]).y,Ge(h=f.x)&&(s.x=h),Ge(g)&&(s.y=g),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;d=o[1],("x"===(u=o[0])||"y"===u)&&Ge(d)&&(s[u]=d),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,s){var f,h,g,m,v,u=arguments,d=this._private.pan;if(!this._private.panningEnabled)return this;switch(u.length){case 1:at(o)&&(v=(g=u[0]).y,Ge(m=g.x)&&(d.x+=m),Ge(v)&&(d.y+=v),this.emit("pan viewport"));break;case 2:h=s,("x"===(f=o)||"y"===f)&&Ge(h)&&(d[f]+=h),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,s){var u=this.getFitViewport(o,s);if(u){var d=this._private;d.zoom=u.zoom,d.pan=u.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,s){var u;if((Ge(o)&&void 0===s&&(s=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Pe(o)?o=this.$(o):!function(o){return at(o)&&Ge(o.x1)&&Ge(o.x2)&&Ge(o.y1)&&Ge(o.y2)}(o)?jt(o)||(o=this.mutableElements()):((u={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=u.x2-u.x1,u.h=u.y2-u.y1),!jt(o)||!o.empty())){u=u||o.boundingBox();var m,h=this.width(),g=this.height();if(s=Ge(s)?s:0,!isNaN(h)&&!isNaN(g)&&h>0&&g>0&&!isNaN(u.w)&&!isNaN(u.h)&&u.w>0&&u.h>0)return{zoom:m=(m=(m=Math.min((h-2*s)/u.w,(g-2*s)/u.h))>this._private.maxZoom?this._private.maxZoom:m)<this._private.minZoom?this._private.minZoom:m,pan:{x:(h-m*(u.x1+u.x2))/2,y:(g-m*(u.y1+u.y2))/2}}}},zoomRange:function(o,s){var u=this._private;if(null==s){var d=o;o=d.min,s=d.max}return Ge(o)&&Ge(s)&&o<=s?(u.minZoom=o,u.maxZoom=s):Ge(o)&&void 0===s&&o<=u.maxZoom?u.minZoom=o:Ge(s)&&void 0===o&&s>=u.minZoom&&(u.maxZoom=s),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var f,h,s=this._private,u=s.pan,d=s.zoom,g=!1;return s.zoomingEnabled||(g=!0),Ge(o)?h=o:at(o)&&(h=o.level,null!=o.position?f=Ds(o.position,d,u):null!=o.renderedPosition&&(f=o.renderedPosition),null!=f&&!s.panningEnabled&&(g=!0)),h=(h=h>s.maxZoom?s.maxZoom:h)<s.minZoom?s.minZoom:h,!g&&Ge(h)&&h!==d&&(null==f||Ge(f.x)&&Ge(f.y))?null!=f?{zoomed:!0,panned:!0,zoom:h,pan:{x:-h/d*(f.x-u.x)+f.x,y:-h/d*(f.y-u.y)+f.y}}:{zoomed:!0,panned:!1,zoom:h,pan:u}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var s=this.getZoomedViewport(o),u=this._private;return null!=s&&s.zoomed?(u.zoom=s.zoom,s.panned&&(u.pan.x=s.pan.x,u.pan.y=s.pan.y),this.emit("zoom"+(s.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var s=this._private,u=!0,d=!0,f=[],h=!1,g=!1;if(!o)return this;if(Ge(o.zoom)||(u=!1),at(o.pan)||(d=!1),!u&&!d)return this;if(u){var m=o.zoom;m<s.minZoom||m>s.maxZoom||!s.zoomingEnabled?h=!0:(s.zoom=m,f.push("zoom"))}if(d&&(!h||!o.cancelOnFailedZoom)&&s.panningEnabled){var v=o.pan;Ge(v.x)&&(s.pan.x=v.x,g=!1),Ge(v.y)&&(s.pan.y=v.y,g=!1),g||f.push("pan")}return f.length>0&&(f.push("viewport"),this.emit(f.join(" ")),this.notify("viewport")),this},center:function(o){var s=this.getCenterPan(o);return s&&(this._private.pan=s,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,s){if(this._private.panningEnabled){if(Pe(o)){var u=o;o=this.mutableElements().filter(u)}else jt(o)||(o=this.mutableElements());if(0!==o.length){var d=o.boundingBox(),f=this.width(),h=this.height();return{x:(f-(s=void 0===s?this._private.zoom:s)*(d.x1+d.x2))/2,y:(h-s*(d.y1+d.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var d,f,o=this._private,s=o.container;return o.sizeCache=o.sizeCache||(s?(d=this.window().getComputedStyle(s),{width:s.clientWidth-(f=function(g){return parseFloat(d.getPropertyValue(g))})("padding-left")-f("padding-right"),height:s.clientHeight-f("padding-top")-f("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,s=this._private.zoom,u=this.renderedExtent(),d={x1:(u.x1-o.x)/s,x2:(u.x2-o.x)/s,y1:(u.y1-o.y)/s,y2:(u.y2-o.y)/s};return d.w=d.x2-d.x1,d.h=d.y2-d.y1,d},renderedExtent:function(){var o=this.width(),s=this.height();return{x1:0,y1:0,x2:o,y2:s,w:o,h:s}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};Ho.centre=Ho.center,Ho.autolockNodes=Ho.autolock,Ho.autoungrabifyNodes=Ho.autoungrabify;var Bs={data:tn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:tn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:tn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:tn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Bs.attr=Bs.data,Bs.removeAttr=Bs.removeData;var Ya=function(o){var s=this,u=(o=mt({},o)).container;u&&!Mu(u)&&Mu(u[0])&&(u=u[0]);var d=u?u._cyreg:null;(d=d||{})&&d.cy&&(d.cy.destroy(),d={});var f=d.readies=d.readies||[];u&&(u._cyreg=d),d.cy=s;var h=void 0!==xt&&void 0!==u&&!o.headless,g=o;g.layout=mt({name:h?"grid":"null"},g.layout),g.renderer=mt({name:h?"canvas":"null"},g.renderer);var m=function(C,T,M){return void 0!==T?T:void 0!==M?M:C},v=this._private={container:u,ready:!1,options:g,elements:new Dr(this),listeners:[],aniEles:new Dr(this),data:g.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:m(!0,g.zoomingEnabled),userZoomingEnabled:m(!0,g.userZoomingEnabled),panningEnabled:m(!0,g.panningEnabled),userPanningEnabled:m(!0,g.userPanningEnabled),boxSelectionEnabled:m(!0,g.boxSelectionEnabled),autolock:m(!1,g.autolock,g.autolockNodes),autoungrabify:m(!1,g.autoungrabify,g.autoungrabifyNodes),autounselectify:m(!1,g.autounselectify),styleEnabled:void 0===g.styleEnabled?h:g.styleEnabled,zoom:Ge(g.zoom)?g.zoom:1,pan:{x:at(g.pan)&&Ge(g.pan.x)?g.pan.x:0,y:at(g.pan)&&Ge(g.pan.y)?g.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:m(250,g.multiClickDebounceTime)};this.createEmitter(),this.selectionType(g.selectionType),this.zoomRange({min:g.minZoom,max:g.maxZoom}),v.styleEnabled&&s.setStyle([]);var b=mt({},g,g.renderer);s.initRenderer(b),function(C,T){if(C.some(Od))return Jn.all(C).then(T);T(C)}([g.style,g.elements],function(E){var C=E[0],T=E[1];v.styleEnabled&&s.style().append(C),function(C,T,M){s.notifications(!1);var I=s.mutableElements();I.length>0&&I.remove(),null!=C&&(at(C)||Jt(C))&&s.add(C),s.one("layoutready",function(N){s.notifications(!0),s.emit(N),s.one("load",T),s.emitAndNotify("load")}).one("layoutstop",function(){s.one("done",M),s.emit("done")});var O=mt({},s._private.options.layout);O.eles=s.elements(),s.layout(O).run()}(T,function(){s.startAnimationLoop(),v.ready=!0,sn(g.ready)&&s.on("ready",g.ready);for(var M=0;M<f.length;M++)s.on("ready",f[M]);d&&(d.readies=[]),s.emit("ready")},g.done)})},cc=Ya.prototype;mt(cc,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return xt;var s=this._private.container.ownerDocument;return void 0===s||null==s?xt:s.defaultView||xt},mount:function(o){if(null!=o){var s=this,u=s._private,d=u.options;return!Mu(o)&&Mu(o[0])&&(o=o[0]),s.stopAnimationLoop(),s.destroyRenderer(),u.container=o,u.styleEnabled=!0,s.invalidateSize(),s.initRenderer(mt({},d,d.renderer,{name:"null"===d.renderer.name?"canvas":d.renderer.name})),s.startAnimationLoop(),s.style(d.style),s.emit("mount"),s}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return Xn(this._private.options)},json:function(o){var s=this,u=s._private,d=s.mutableElements();if(at(o)){if(s.startBatch(),o.elements){var h={},g=function(R,V){for(var j=[],P=[],$=0;$<R.length;$++){var k=R[$];if(k.data.id){var G=""+k.data.id,U=s.getElementById(G);h[G]=!0,0!==U.length?P.push({ele:U,json:k}):(V&&(k.group=V),j.push(k))}else bt("cy.json() cannot handle elements without an ID attribute")}s.add(j);for(var B=0;B<P.length;B++){var z=P[B];z.ele.json(z.json)}};if(Jt(o.elements))g(o.elements);else for(var m=["nodes","edges"],v=0;v<m.length;v++){var _=m[v],b=o.elements[_];Jt(b)&&g(b,_)}var D=s.collection();d.filter(function(N){return!h[N.id()]}).forEach(function(N){N.isParent()?D.merge(N):N.remove()}),D.forEach(function(N){return N.children().move({parent:null})}),D.forEach(function(N){return(R=N,s.getElementById(R.id())).remove();var R})}o.style&&s.style(o.style),null!=o.zoom&&o.zoom!==u.zoom&&s.zoom(o.zoom),o.pan&&(o.pan.x!==u.pan.x||o.pan.y!==u.pan.y)&&s.pan(o.pan),o.data&&s.data(o.data);for(var E=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],C=0;C<E.length;C++){var T=E[C];null!=o[T]&&s[T](o[T])}return s.endBatch(),this}var I={};o?I.elements=this.elements().map(function(N){return N.json()}):(I.elements={},d.forEach(function(N){var R=N.group();I.elements[R]||(I.elements[R]=[]),I.elements[R].push(N.json())})),this._private.styleEnabled&&(I.style=s.style().json()),I.data=Xn(s.data());var O=u.options;return I.zoomingEnabled=u.zoomingEnabled,I.userZoomingEnabled=u.userZoomingEnabled,I.zoom=u.zoom,I.minZoom=u.minZoom,I.maxZoom=u.maxZoom,I.panningEnabled=u.panningEnabled,I.userPanningEnabled=u.userPanningEnabled,I.pan=Xn(u.pan),I.boxSelectionEnabled=u.boxSelectionEnabled,I.renderer=Xn(O.renderer),I.hideEdgesOnViewport=O.hideEdgesOnViewport,I.textureOnViewport=O.textureOnViewport,I.wheelSensitivity=O.wheelSensitivity,I.motionBlur=O.motionBlur,I.multiClickDebounceTime=O.multiClickDebounceTime,I}}),cc.$id=cc.getElementById,[Dt,l0,pi,Jr,ir,Ng,Ui,Fs,u0,Ho,Bs].forEach(function(a){mt(cc,a)});var Og={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,s){return!0},ready:void 0,stop:void 0,transform:function(o,s){return s}},wf={maximal:!1,acyclic:!1},Za=function(o){return o.scratch("breadthfirst")},Df=function(o,s){return o.scratch("breadthfirst",s)};function Cf(a){this.options=mt({},Og,wf,a)}Cf.prototype.run=function(){var v,a=this.options,o=a,s=a.cy,u=o.eles,d=u.nodes().filter(function(He){return!He.isParent()}),f=u,h=o.directed,g=o.acyclic||o.maximal||o.maximalAdjustments>0,m=yi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(jt(o.roots))v=o.roots;else if(Jt(o.roots)){for(var _=[],b=0;b<o.roots.length;b++){var E=s.getElementById(o.roots[b]);_.push(E)}v=s.collection(_)}else if(Pe(o.roots))v=s.$(o.roots);else if(h)v=d.roots();else{var C=u.components();v=s.collection();for(var T=function($e){var lt=C[$e],ut=lt.maxDegree(!1),nt=lt.filter(function(ft){return ft.degree(!1)===ut});v=v.add(nt)},M=0;M<C.length;M++)T(M)}var I=[],O={},N=function($e,lt){null==I[lt]&&(I[lt]=[]);var ut=I[lt].length;I[lt].push($e),Df($e,{index:ut,depth:lt})};f.bfs({roots:v,directed:o.directed,visit:function($e,lt,ut,nt,ft){var Zt=$e[0],Ft=Zt.id();N(Zt,ft),O[Ft]=!0}});for(var V=[],j=0;j<d.length;j++){var P=d[j];O[P.id()]||V.push(P)}var $=function($e){for(var lt=I[$e],ut=0;ut<lt.length;ut++){var nt=lt[ut];null!=nt?Df(nt,{depth:$e,index:ut}):(lt.splice(ut,1),ut--)}},k=function(){for(var $e=0;$e<I.length;$e++)$($e)},G=function($e,lt){for(var ut=Za($e),nt=$e.incomers().filter(function(F){return F.isNode()&&u.has(F)}),ft=-1,Zt=$e.id(),Ft=0;Ft<nt.length;Ft++){var Mt=Za(nt[Ft]);ft=Math.max(ft,Mt.depth)}if(ut.depth<=ft){if(!o.acyclic&&lt[Zt])return null;var se=ft+1;return function($e,lt){var ut=Za($e);I[ut.depth][ut.index]=null,N($e,lt)}($e,se),lt[Zt]=se,!0}return!1};if(h&&g){var U=[],B={},z=function($e){return U.push($e)};for(d.forEach(function(He){return U.push(He)});U.length>0;){var Q=U.shift(),q=G(Q,B);if(q)Q.outgoers().filter(function(He){return He.isNode()&&u.has(He)}).forEach(z);else if(null===q){bt("Detected double maximal shift for node `"+Q.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}k();var W=0;if(o.avoidOverlap)for(var ee=0;ee<d.length;ee++){var he=d[ee].layoutDimensions(o);W=Math.max(W,he.w,he.h)}var ye={},we=function($e){if(ye[$e.id()])return ye[$e.id()];for(var lt=Za($e).depth,ut=$e.neighborhood(),nt=0,ft=0,Zt=0;Zt<ut.length;Zt++){var Ft=ut[Zt];if(!Ft.isEdge()&&!Ft.isParent()&&d.has(Ft)){var Tt=Za(Ft);if(null!=Tt){var Mt=Tt.index,se=Tt.depth;null!=Mt&&null!=se&&se<lt&&(nt+=Mt/I[se].length,ft++)}}}return nt/=ft=Math.max(1,ft),0===ft&&(nt=0),ye[$e.id()]=nt,nt},_e=function($e,lt){var ft=we($e)-we(lt);return 0===ft?Fd($e.id(),lt.id()):ft};void 0!==o.depthSort&&(_e=o.depthSort);for(var Ee=0;Ee<I.length;Ee++)I[Ee].sort(_e),$(Ee);for(var ie=[],be=0;be<V.length;be++)ie.push(V[be]);I.unshift(ie),k();for(var Ie=0,Me=0;Me<I.length;Me++)Ie=Math.max(I[Me].length,Ie);var Re_x=m.x1+m.w/2,Re_y=m.x1+m.h/2,it=I.reduce(function(He,$e){return Math.max(He,$e.length)},0);return u.nodes().layoutPositions(this,o,function($e){var lt=Za($e),ut=lt.depth,nt=lt.index,ft=I[ut].length,Zt=Math.max(m.w/((o.grid?it:ft)+1),W),Ft=Math.max(m.h/(I.length+1),W),Tt=Math.min(m.w/2/I.length,m.h/2/I.length);if(Tt=Math.max(Tt,W),o.circle){var se=Tt*ut+Tt-(I.length>0&&I[0].length<=3?Tt/2:0),F=2*Math.PI/I[ut].length*nt;return 0===ut&&1===I[0].length&&(se=1),{x:Re_x+se*Math.cos(F),y:Re_y+se*Math.sin(F)}}return{x:Re_x+(nt+1-(ft+1)/2)*Zt,y:(ut+1)*Ft}}),this};var Ag={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,s){return!0},ready:void 0,stop:void 0,transform:function(o,s){return s}};function dc(a){this.options=mt({},Ag,a)}dc.prototype.run=function(){var a=this.options,o=a,s=a.cy,u=o.eles,d=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,f=u.nodes().not(":parent");o.sort&&(f=f.sort(o.sort));for(var _,h=yi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),g={x:h.x1+h.w/2,y:h.y1+h.h/2},v=(void 0===o.sweep?2*Math.PI-2*Math.PI/f.length:o.sweep)/Math.max(1,f.length-1),b=0,D=0;D<f.length;D++){var C=f[D].layoutDimensions(o);b=Math.max(b,C.w,C.h)}if(_=Ge(o.radius)?o.radius:f.length<=1?0:Math.min(h.h,h.w)/2-b,f.length>1&&o.avoidOverlap){b*=1.75;var I=Math.cos(v)-Math.cos(0),O=Math.sin(v)-Math.sin(0),N=Math.sqrt(b*b/(I*I+O*O));_=Math.max(N,_)}return u.nodes().layoutPositions(this,o,function(j,P){var $=o.startAngle+P*v*(d?1:-1),k=_*Math.cos($),G=_*Math.sin($);return{x:g.x+k,y:g.y+G}}),this};var c0={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,s){return!0},ready:void 0,stop:void 0,transform:function(o,s){return s}};function Rg(a){this.options=mt({},c0,a)}Rg.prototype.run=function(){for(var a=this.options,o=a,s=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,u=a.cy,d=o.eles,f=d.nodes().not(":parent"),h=yi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),g={x:h.x1+h.w/2,y:h.y1+h.h/2},m=[],v=0,_=0;_<f.length;_++){var D,b=f[_];D=o.concentric(b),m.push({value:D,node:b}),b._private.scratch.concentric=D}f.updateStyle();for(var E=0;E<f.length;E++){var T=f[E].layoutDimensions(o);v=Math.max(v,T.w,T.h)}m.sort(function(He,$e){return $e.value-He.value});for(var M=o.levelWidth(f),I=[[]],O=I[0],N=0;N<m.length;N++){var R=m[N];O.length>0&&Math.abs(O[0].value-R.value)>=M&&I.push(O=[]),O.push(R)}var j=v+o.minNodeSpacing;if(!o.avoidOverlap){var P=I.length>0&&I[0].length>1,$=Math.min(h.w,h.h)/2-j;j=Math.min(j,$/(I.length+P?1:0))}for(var G=0,U=0;U<I.length;U++){var B=I[U],z=void 0===o.sweep?2*Math.PI-2*Math.PI/B.length:o.sweep,H=B.dTheta=z/Math.max(1,B.length-1);if(B.length>1&&o.avoidOverlap){var Q=Math.cos(H)-Math.cos(0),q=Math.sin(H)-Math.sin(0),W=Math.sqrt(j*j/(Q*Q+q*q));G=Math.max(W,G)}B.r=G,G+=j}if(o.equidistant){for(var ee=0,ae=0,he=0;he<I.length;he++)ee=Math.max(ee,I[he].r-ae);ae=0;for(var ye=0;ye<I.length;ye++){var we=I[ye];0===ye&&(ae=we.r),we.r=ae,ae+=ee}}for(var _e={},Ee=0;Ee<I.length;Ee++)for(var ie=I[Ee],be=ie.dTheta,Ie=ie.r,Me=0;Me<ie.length;Me++){var Re=ie[Me],it=o.startAngle+(s?1:-1)*be*Me,St={x:g.x+Ie*Math.cos(it),y:g.y+Ie*Math.sin(it)};_e[Re.node.id()]=St}return d.nodes().layoutPositions(this,o,function(He){var $e=He.id();return _e[$e]}),this};var Pr,Qa={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,s){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function kn(a){this.options=mt({},Qa,a),this.options.layout=this;var o=this.options.eles.nodes(),u=this.options.eles.edges().filter(function(d){var f=d.source().data("id"),h=d.target().data("id"),g=o.some(function(v){return v.data("id")===f}),m=o.some(function(v){return v.data("id")===h});return!g||!m});this.options.eles=this.options.eles.not(u)}kn.prototype.run=function(){var a=this.options,o=a.cy,s=this;s.stopped=!1,(!0===a.animate||!1===a.animate)&&s.emit({type:"layoutstart",layout:s}),Pr=!0===a.debug;var u=d0(o,s,a);Pr&&(void 0)(u),a.randomize&&Pg(u);var d=Po(),f=function(){fc(u,o,a),!0===a.fit&&o.fit(a.padding)},h=function(D){return!(s.stopped||D>=a.numIter||(ba(u,a),u.temperature=u.temperature*a.coolingFactor,u.temperature<a.minTemp))},g=function(){if(!0===a.animate||!1===a.animate)f(),s.one("layoutstop",a.stop),s.emit({type:"layoutstop",layout:s});else{var D=a.eles.nodes(),E=Ef(u,a,D);D.layoutPositions(s,a,E)}},m=0,v=!0;if(!0===a.animate)!function b(){for(var D=0;v&&D<a.refresh;)v=h(m),m++,D++;v?(Po()-d>=a.animationThreshold&&f(),Iu(b)):(y0(u,a),g())}();else{for(;v;)v=h(m),m++;y0(u,a),g()}return this},kn.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},kn.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var d0=function(o,s,u){for(var d=u.eles.edges(),f=u.eles.nodes(),h=yi(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),g={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:f.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:d.size(),temperature:u.initialTemp,clientWidth:h.w,clientHeight:h.h,boundingBox:h},m=u.eles.components(),v={},_=0;_<m.length;_++)for(var b=m[_],D=0;D<b.length;D++)v[b[D].id()]=_;for(_=0;_<g.nodeSize;_++){var T=(C=f[_]).layoutDimensions(u);(M={}).isLocked=C.locked(),M.id=C.data("id"),M.parentId=C.data("parent"),M.cmptId=v[C.id()],M.children=[],M.positionX=C.position("x"),M.positionY=C.position("y"),M.offsetX=0,M.offsetY=0,M.height=T.w,M.width=T.h,M.maxX=M.positionX+M.width/2,M.minX=M.positionX-M.width/2,M.maxY=M.positionY+M.height/2,M.minY=M.positionY-M.height/2,M.padLeft=parseFloat(C.style("padding")),M.padRight=parseFloat(C.style("padding")),M.padTop=parseFloat(C.style("padding")),M.padBottom=parseFloat(C.style("padding")),M.nodeRepulsion=sn(u.nodeRepulsion)?u.nodeRepulsion(C):u.nodeRepulsion,g.layoutNodes.push(M),g.idToIndex[M.id]=_}var I=[],O=0,N=-1,R=[];for(_=0;_<g.nodeSize;_++){var C,V=(C=g.layoutNodes[_]).parentId;null!=V?g.layoutNodes[g.idToIndex[V]].children.push(C.id):(I[++N]=C.id,R.push(C.id))}for(g.graphSet.push(R);O<=N;){var j=I[O++],$=g.layoutNodes[g.idToIndex[j]].children;if($.length>0)for(g.graphSet.push($),_=0;_<$.length;_++)I[++N]=$[_]}for(_=0;_<g.graphSet.length;_++){var k=g.graphSet[_];for(D=0;D<k.length;D++)g.indexToGraph[g.idToIndex[k[D]]]=_}for(_=0;_<g.edgeSize;_++){var U=d[_],B={};B.id=U.data("id"),B.sourceId=U.data("source"),B.targetId=U.data("target");var z=sn(u.idealEdgeLength)?u.idealEdgeLength(U):u.idealEdgeLength,H=sn(u.edgeElasticity)?u.edgeElasticity(U):u.edgeElasticity,Q=g.idToIndex[B.sourceId],q=g.idToIndex[B.targetId];if(g.indexToGraph[Q]!=g.indexToGraph[q]){for(var ae=f0(B.sourceId,B.targetId,g),he=g.graphSet[ae],te=0,M=g.layoutNodes[Q];-1===he.indexOf(M.id);)M=g.layoutNodes[g.idToIndex[M.parentId]],te++;for(M=g.layoutNodes[q];-1===he.indexOf(M.id);)M=g.layoutNodes[g.idToIndex[M.parentId]],te++;z*=te*u.nestingFactor}B.idealLength=z,B.elasticity=H,g.layoutEdges.push(B)}return g},f0=function(o,s,u){var d=h0(o,s,0,u);return 2>d.count?0:d.graph},h0=function a(o,s,u,d){var f=d.graphSet[u];if(-1<f.indexOf(o)&&-1<f.indexOf(s))return{count:2,graph:u};for(var h=0,g=0;g<f.length;g++){var _=d.layoutNodes[d.idToIndex[f[g]]].children;if(0!==_.length){var D=a(o,s,d.indexToGraph[d.idToIndex[_[0]]],d);if(0!==D.count){if(1!==D.count)return D;if(2==++h)break}}}return{count:h,graph:u}},Pg=function(o,s){for(var u=o.clientWidth,d=o.clientHeight,f=0;f<o.nodeSize;f++){var h=o.layoutNodes[f];0===h.children.length&&!h.isLocked&&(h.positionX=Math.random()*u,h.positionY=Math.random()*d)}},Ef=function(o,s,u){var d=o.boundingBox,f={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return s.boundingBox&&(u.forEach(function(h){var g=o.layoutNodes[o.idToIndex[h.data("id")]];f.x1=Math.min(f.x1,g.positionX),f.x2=Math.max(f.x2,g.positionX),f.y1=Math.min(f.y1,g.positionY),f.y2=Math.max(f.y2,g.positionY)}),f.w=f.x2-f.x1,f.h=f.y2-f.y1),function(h,g){var m=o.layoutNodes[o.idToIndex[h.data("id")]];return s.boundingBox?{x:d.x1+(m.positionX-f.x1)/f.w*d.w,y:d.y1+(m.positionY-f.y1)/f.h*d.h}:{x:m.positionX,y:m.positionY}}},fc=function(o,s,u){var d=u.layout,f=u.eles.nodes(),h=Ef(o,u,f);f.positions(h),!0!==o.ready&&(o.ready=!0,d.one("layoutready",u.ready),d.emit({type:"layoutready",layout:this}))},ba=function(o,s,u){g0(o,s),kg(o),Fg(o,s),v0(o),Hs(o)},g0=function(o,s){for(var u=0;u<o.graphSet.length;u++)for(var d=o.graphSet[u],f=d.length,h=0;h<f;h++)for(var g=o.layoutNodes[o.idToIndex[d[h]]],m=h+1;m<f;m++)hc(g,o.layoutNodes[o.idToIndex[d[m]]],o,s)},Vl=function(o){return-o+2*o*Math.random()},hc=function(o,s,u,d){if(o.cmptId===s.cmptId||u.isCompound){var g=s.positionX-o.positionX,m=s.positionY-o.positionY;0===g&&0===m&&(g=Vl(1),m=Vl(1));var _=pc(o,s,g,m);if(_>0)var E=(b=d.nodeOverlap*_)*g/(D=Math.sqrt(g*g+m*m)),C=b*m/D;else{var b,T=Vs(o,g,m),M=Vs(s,-1*g,-1*m),I=M.x-T.x,O=M.y-T.y,N=I*I+O*O,D=Math.sqrt(N);E=(b=(o.nodeRepulsion+s.nodeRepulsion)/N)*I/D,C=b*O/D}o.isLocked||(o.offsetX-=E,o.offsetY-=C),s.isLocked||(s.offsetX+=E,s.offsetY+=C)}},pc=function(o,s,u,d){if(u>0)var f=o.maxX-s.minX;else f=s.maxX-o.minX;if(d>0)var h=o.maxY-s.minY;else h=s.maxY-o.minY;return f>=0&&h>=0?Math.sqrt(f*f+h*h):0},Vs=function(o,s,u){var d=o.positionX,f=o.positionY,h=o.height||1,g=o.width||1,m=u/s,v=h/g,_={};return 0===s&&0<u||0===s&&0>u?(_.x=d,_.y=f+h/2,_):0<s&&-1*v<=m&&m<=v?(_.x=d+g/2,_.y=f+g*u/2/s,_):0>s&&-1*v<=m&&m<=v?(_.x=d-g/2,_.y=f-g*u/2/s,_):0<u&&(m<=-1*v||m>=v)?(_.x=d+h*s/2/u,_.y=f+h/2,_):(0>u&&(m<=-1*v||m>=v)&&(_.x=d-h*s/2/u,_.y=f-h/2),_)},kg=function(o,s){for(var u=0;u<o.edgeSize;u++){var d=o.layoutEdges[u],h=o.layoutNodes[o.idToIndex[d.sourceId]],m=o.layoutNodes[o.idToIndex[d.targetId]],v=m.positionX-h.positionX,_=m.positionY-h.positionY;if(0!==v||0!==_){var b=Vs(h,v,_),D=Vs(m,-1*v,-1*_),E=D.x-b.x,C=D.y-b.y,T=Math.sqrt(E*E+C*C),M=Math.pow(d.idealLength-T,2)/d.elasticity;if(0!==T)var I=M*E/T,O=M*C/T;else I=0,O=0;h.isLocked||(h.offsetX+=I,h.offsetY+=O),m.isLocked||(m.offsetX-=I,m.offsetY-=O)}}},Fg=function(o,s){if(0!==s.gravity)for(var d=0;d<o.graphSet.length;d++){var f=o.graphSet[d],h=f.length;if(0===d)var g=o.clientHeight/2,m=o.clientWidth/2;else{var _=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[f[0]]].parentId]];g=_.positionX,m=_.positionY}for(var b=0;b<h;b++){var D=o.layoutNodes[o.idToIndex[f[b]]];if(!D.isLocked){var E=g-D.positionX,C=m-D.positionY,T=Math.sqrt(E*E+C*C);if(T>1){var I=s.gravity*C/T;D.offsetX+=s.gravity*E/T,D.offsetY+=I}}}}},v0=function(o,s){var u=[],d=0,f=-1;for(u.push.apply(u,o.graphSet[0]),f+=o.graphSet[0].length;d<=f;){var h=u[d++],m=o.layoutNodes[o.idToIndex[h]],v=m.children;if(0<v.length&&!m.isLocked){for(var _=m.offsetX,b=m.offsetY,D=0;D<v.length;D++){var E=o.layoutNodes[o.idToIndex[v[D]]];E.offsetX+=_,E.offsetY+=b,u[++f]=v[D]}m.offsetX=0,m.offsetY=0}}},Hs=function(o,s){for(var u=0;u<o.nodeSize;u++)0<(d=o.layoutNodes[u]).children.length&&(d.maxX=void 0,d.minX=void 0,d.maxY=void 0,d.minY=void 0);for(u=0;u<o.nodeSize;u++)if(!(0<(d=o.layoutNodes[u]).children.length||d.isLocked)){var f=Hl(d.offsetX,d.offsetY,o.temperature);d.positionX+=f.x,d.positionY+=f.y,d.offsetX=0,d.offsetY=0,d.minX=d.positionX-d.width,d.maxX=d.positionX+d.width,d.minY=d.positionY-d.height,d.maxY=d.positionY+d.height,m0(d,o)}for(u=0;u<o.nodeSize;u++){var d;0<(d=o.layoutNodes[u]).children.length&&!d.isLocked&&(d.positionX=(d.maxX+d.minX)/2,d.positionY=(d.maxY+d.minY)/2,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY)}},Hl=function(o,s,u){var d=Math.sqrt(o*o+s*s);if(d>u)var f={x:u*o/d,y:u*s/d};else f={x:o,y:s};return f},m0=function a(o,s){var u=o.parentId;if(null!=u){var d=s.layoutNodes[s.idToIndex[u]],f=!1;if((null==d.maxX||o.maxX+d.padRight>d.maxX)&&(d.maxX=o.maxX+d.padRight,f=!0),(null==d.minX||o.minX-d.padLeft<d.minX)&&(d.minX=o.minX-d.padLeft,f=!0),(null==d.maxY||o.maxY+d.padBottom>d.maxY)&&(d.maxY=o.maxY+d.padBottom,f=!0),(null==d.minY||o.minY-d.padTop<d.minY)&&(d.minY=o.minY-d.padTop,f=!0),f)return a(d,s)}},y0=function(o,s){for(var u=o.layoutNodes,d=[],f=0;f<u.length;f++){var h=u[f],g=h.cmptId;(d[g]=d[g]||[]).push(h)}var v=0;for(f=0;f<d.length;f++)if(_=d[f]){_.x1=1/0,_.x2=-1/0,_.y1=1/0,_.y2=-1/0;for(var b=0;b<_.length;b++){var D=_[b];_.x1=Math.min(_.x1,D.positionX-D.width/2),_.x2=Math.max(_.x2,D.positionX+D.width/2),_.y1=Math.min(_.y1,D.positionY-D.height/2),_.y2=Math.max(_.y2,D.positionY+D.height/2)}_.w=_.x2-_.x1,_.h=_.y2-_.y1,v+=_.w*_.h}d.sort(function(O,N){return N.w*N.h-O.w*O.h});var E=0,C=0,T=0,M=0,I=Math.sqrt(v)*o.clientWidth/o.clientHeight;for(f=0;f<d.length;f++){var _;if(_=d[f]){for(b=0;b<_.length;b++)(D=_[b]).isLocked||(D.positionX+=E-_.x1,D.positionY+=C-_.y1);E+=_.w+s.componentSpacing,T+=_.w+s.componentSpacing,M=Math.max(M,_.h),T>I&&(C+=M+s.componentSpacing,E=0,T=0,M=0)}}},Sf={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,s){return!0},ready:void 0,stop:void 0,transform:function(o,s){return s}};function _0(a){this.options=mt({},Sf,a)}_0.prototype.run=function(){var a=this.options,o=a,s=a.cy,u=o.eles,d=u.nodes().not(":parent");o.sort&&(d=d.sort(o.sort));var f=yi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(0===f.h||0===f.w)u.nodes().layoutPositions(this,o,function(ye){return{x:f.x1,y:f.y1}});else{var h=d.size(),g=Math.sqrt(h*f.h/f.w),m=Math.round(g),v=Math.round(f.w/f.h*g),_=function(we){if(null==we)return Math.min(m,v);Math.min(m,v)==m?m=we:v=we},b=function(we){if(null==we)return Math.max(m,v);Math.max(m,v)==m?m=we:v=we},D=o.rows,E=null!=o.cols?o.cols:o.columns;if(null!=D&&null!=E)m=D,v=E;else if(null!=D&&null==E)m=D,v=Math.ceil(h/m);else if(null==D&&null!=E)v=E,m=Math.ceil(h/v);else if(v*m>h){var C=_(),T=b();(C-1)*T>=h?_(C-1):(T-1)*C>=h&&b(T-1)}else for(;v*m<h;){var M=_(),I=b();(I+1)*M>=h?b(I+1):_(M+1)}var O=f.w/v,N=f.h/m;if(o.condense&&(O=0,N=0),o.avoidOverlap)for(var R=0;R<d.length;R++){var V=d[R],j=V._private.position;(null==j.x||null==j.y)&&(j.x=0,j.y=0);var P=V.layoutDimensions(o),$=o.avoidOverlapPadding,G=P.h+$;O=Math.max(O,P.w+$),N=Math.max(N,G)}for(var U={},B=function(we,_e){return!!U["c-"+we+"-"+_e]},z=function(we,_e){U["c-"+we+"-"+_e]=!0},H=0,Q=0,q=function(){++Q>=v&&(Q=0,H++)},W={},ee=0;ee<d.length;ee++){var ae=d[ee],he=o.position(ae);if(he&&(void 0!==he.row||void 0!==he.col)){var te={row:he.row,col:he.col};if(void 0===te.col)for(te.col=0;B(te.row,te.col);)te.col++;else if(void 0===te.row)for(te.row=0;B(te.row,te.col);)te.row++;W[ae.id()]=te,z(te.row,te.col)}}d.layoutPositions(this,o,function(we,_e){var Ee,ie;if(we.locked()||we.isParent())return!1;var be=W[we.id()];if(be)Ee=be.col*O+O/2+f.x1,ie=be.row*N+N/2+f.y1;else{for(;B(H,Q);)q();Ee=Q*O+O/2+f.x1,ie=H*N+N/2+f.y1,z(H,Q),q()}return{x:Ee,y:ie}})}return this};var b0={ready:function(){},stop:function(){}};function Tf(a){this.options=mt({},b0,a)}Tf.prototype.run=function(){var a=this.options,o=a.eles,s=this;return s.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),s.one("layoutready",a.ready),s.emit("layoutready"),s.one("layoutstop",a.stop),s.emit("layoutstop"),this},Tf.prototype.stop=function(){return this};var Jw={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,s){return!0},ready:void 0,stop:void 0,transform:function(o,s){return s}};function w0(a){this.options=mt({},Jw,a)}w0.prototype.run=function(){var a=this.options,s=a.eles.nodes(),u=sn(a.positions);return s.layoutPositions(this,a,function(f,h){var g=function d(f){return null==a.positions?function(o){return{x:o.x,y:o.y}}(f.position()):u?a.positions(f):a.positions[f._private.data.id]??null}(f);return!f.locked()&&null!=g&&g}),this};var Mf={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,s){return!0},ready:void 0,stop:void 0,transform:function(o,s){return s}};function $s(a){this.options=mt({},Mf,a)}$s.prototype.run=function(){var a=this.options,o=a.cy,s=a.eles,u=yi(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return s.nodes().layoutPositions(this,a,function(h,g){return{x:u.x1+Math.round(Math.random()*u.w),y:u.y1+Math.round(Math.random()*u.h)}}),this};var D0=[{name:"breadthfirst",impl:Cf},{name:"circle",impl:dc},{name:"concentric",impl:Rg},{name:"cose",impl:kn},{name:"grid",impl:_0},{name:"null",impl:Tf},{name:"preset",impl:w0},{name:"random",impl:$s}];function js(a){this.options=a,this.notifications=0}var gc=function(){},$l=function(){throw new Error("A headless instance can not render images")};js.prototype={recalculateRenderedStyle:gc,notify:function(){this.notifications++},init:gc,isHeadless:function(){return!0},png:$l,jpg:$l};var Lg={arrowShapeWidth:.3,registerArrowShapes:function(){var a=this.arrowShapes={},o=this,s=function(v,_,b,D,E,C,T){return E.x-b/2-T<=v&&v<=E.x+b/2+T&&E.y-b/2-T<=_&&_<=E.y+b/2+T},u=function(v,_,b,D,E){var C=v*Math.cos(D)-_*Math.sin(D),T=v*Math.sin(D)+_*Math.cos(D);return{x:C*b+E.x,y:T*b+E.y}},d=function(v,_,b,D){for(var E=[],C=0;C<v.length;C+=2)E.push(u(v[C],v[C+1],_,b,D));return E},f=function(v){for(var _=[],b=0;b<v.length;b++){var D=v[b];_.push(D.x,D.y)}return _},h=function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").pfValue*2},g=function(v,_){Pe(_)&&(_=a[_]),a[v]=mt({name:v,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(D,E,C,T,M,I){var O=f(d(this.points,C+2*I,T,M));return xr(D,E,O)},roughCollide:s,draw:function(D,E,C,T){var M=d(this.points,E,C,T);o.arrowShapeImpl("polygon")(D,M)},spacing:function(D){return 0},gap:h},_)};g("none",{collide:yl,roughCollide:yl,draw:Hd,spacing:Cp,gap:Cp}),g("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),g("arrow","triangle"),g("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:s,draw:function(v,_,b,D,E){var C=d(this.points,_,b,D),T=this.controlPoint,M=u(T[0],T[1],_,b,D);o.arrowShapeImpl(this.name)(v,C,M)},gap:function(v){return.8*h(v)}}),g("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(v,_,b,D,E,C,T){var M=f(d(this.points,b+2*T,D,E)),I=f(d(this.pointsTee,b+2*T,D,E));return xr(v,_,M)||xr(v,_,I)},draw:function(v,_,b,D,E){var C=d(this.points,_,b,D),T=d(this.pointsTee,_,b,D);o.arrowShapeImpl(this.name)(v,C,T)}}),g("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(v,_,b,D,E,C,T){var M=E,I=Math.pow(M.x-v,2)+Math.pow(M.y-_,2)<=Math.pow((b+2*T)*this.radius,2),O=f(d(this.points,b+2*T,D,E));return xr(v,_,O)||I},draw:function(v,_,b,D,E){var C=d(this.pointsTr,_,b,D);o.arrowShapeImpl(this.name)(v,C,D.x,D.y,this.radius*_)},spacing:function(v){return o.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),g("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(v,_){var b=this.baseCrossLinePts.slice(),D=_/v;return b[3]=b[3]-D,b[5]=b[5]-D,b},collide:function(v,_,b,D,E,C,T){var M=f(d(this.points,b+2*T,D,E)),I=f(d(this.crossLinePts(b,C),b+2*T,D,E));return xr(v,_,M)||xr(v,_,I)},draw:function(v,_,b,D,E){var C=d(this.points,_,b,D),T=d(this.crossLinePts(_,E),_,b,D);o.arrowShapeImpl(this.name)(v,C,T)}}),g("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(v){return.525*h(v)}}),g("circle",{radius:.15,collide:function(v,_,b,D,E,C,T){var M=E;return Math.pow(M.x-v,2)+Math.pow(M.y-_,2)<=Math.pow((b+2*T)*this.radius,2)},draw:function(v,_,b,D,E){o.arrowShapeImpl(this.name)(v,D.x,D.y,this.radius*_)},spacing:function(v){return o.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),g("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(v){return 1},gap:function(v){return 1}}),g("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),g("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}}),g("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(v){return.95*v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}})}},wa={projectIntoViewport:function(a,o){var s=this.cy,u=this.findContainerClientCoords(),d=u[0],f=u[1],h=u[4],g=s.pan(),m=s.zoom();return[((a-d)/h-g.x)/m,((o-f)/h-g.y)/m]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var a=this.container,o=a.getBoundingClientRect(),s=this.cy.window().getComputedStyle(a),u=function(I){return parseFloat(s.getPropertyValue(I))},d_left=u("padding-left"),d_right=u("padding-right"),d_top=u("padding-top"),d_bottom=u("padding-bottom"),f_left=u("border-left-width"),f_right=u("border-right-width"),f_top=u("border-top-width"),h=(u("border-bottom-width"),a.clientWidth);return this.containerBB=[o.left+d_left+f_left,o.top+d_top+f_top,h-(d_left+d_right),a.clientHeight-(d_top+d_bottom),o.width/(h+(f_left+f_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(a,o,s,u){return this.findNearestElements(a,o,s,u)[0]},findNearestElements:function(a,o,s,u){var C,T,d=this,f=this,h=f.getCachedZSortedEles(),g=[],m=f.cy.zoom(),v=f.cy.hasCompoundNodes(),_=(u?24:8)/m,b=(u?8:2)/m,D=(u?8:2)/m,E=1/0;function M(P,$){if(P.isNode()){if(T)return;T=P,g.push(P)}if(P.isEdge()&&(null==$||$<E))if(C){if(C.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value&&C.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value)for(var k=0;k<g.length;k++)if(g[k].isEdge()){g[k]=P,C=P,E=$??E;break}}else g.push(P),C=P,E=$??E}function I(P){var $=P.outerWidth()+2*b,k=P.outerHeight()+2*b,G=$/2,U=k/2,B=P.position();if(B.x-G<=a&&a<=B.x+G&&B.y-U<=o&&o<=B.y+U&&f.nodeShapes[d.getNodeShape(P)].checkPoint(a,o,0,$,k,B.x,B.y))return M(P,0),!0}function O(P){var Q,$=P._private,k=$.rscratch,G=P.pstyle("width").pfValue,U=P.pstyle("arrow-scale").value,B=G/2+_,z=B*B,H=2*B,ee=$.source,ae=$.target;if("segments"===k.edgeType||"straight"===k.edgeType||"haystack"===k.edgeType){for(var q=k.allpts,W=0;W+3<q.length;W+=2)if(pn(a,o,q[W],q[W+1],q[W+2],q[W+3],H)&&z>(Q=Hu(a,o,q[W],q[W+1],q[W+2],q[W+3])))return M(P,Q),!0}else if("bezier"===k.edgeType||"multibezier"===k.edgeType||"self"===k.edgeType||"compound"===k.edgeType)for(q=k.allpts,W=0;W+5<k.allpts.length;W+=4)if(Vu(a,o,q[W],q[W+1],q[W+2],q[W+3],q[W+4],q[W+5],H)&&z>(Q=Oy(a,o,q[W],q[W+1],q[W+2],q[W+3],q[W+4],q[W+5])))return M(P,Q),!0;ee=ee||$.source,ae=ae||$.target;var he=d.getArrowWidth(G,U),te=[{name:"source",x:k.arrowStartX,y:k.arrowStartY,angle:k.srcArrowAngle},{name:"target",x:k.arrowEndX,y:k.arrowEndY,angle:k.tgtArrowAngle},{name:"mid-source",x:k.midX,y:k.midY,angle:k.midsrcArrowAngle},{name:"mid-target",x:k.midX,y:k.midY,angle:k.midtgtArrowAngle}];for(W=0;W<te.length;W++){var de=te[W],ye=f.arrowShapes[P.pstyle(de.name+"-arrow-shape").value],we=P.pstyle("width").pfValue;if(ye.roughCollide(a,o,he,de.angle,{x:de.x,y:de.y},we,_)&&ye.collide(a,o,he,de.angle,{x:de.x,y:de.y},we,_))return M(P),!0}v&&g.length>0&&(I(ee),I(ae))}function N(P,$,k){return ki(P,$,k)}function R(P,$){var U,k=P._private,G=D;U=$?$+"-":"",P.boundingBox();var B=k.labelBounds[$||"main"],z=P.pstyle(U+"label").value;if("yes"===P.pstyle("text-events").strValue&&z){var Q=N(k.rscratch,"labelX",$),q=N(k.rscratch,"labelY",$),W=N(k.rscratch,"labelAngle",$),ee=P.pstyle(U+"text-margin-x").pfValue,ae=P.pstyle(U+"text-margin-y").pfValue,he=B.x1-G-ee,te=B.x2+G-ee,de=B.y1-G-ae,ye=B.y2+G-ae;if(W){var we=Math.cos(W),_e=Math.sin(W),Ee=function(St,He){return{x:(St-=Q)*we-(He-=q)*_e+Q,y:St*_e+He*we+q}},ie=Ee(he,de),be=Ee(he,ye),Ie=Ee(te,de),Me=Ee(te,ye);if(xr(a,o,[ie.x+ee,ie.y+ae,Ie.x+ee,Ie.y+ae,Me.x+ee,Me.y+ae,be.x+ee,be.y+ae]))return M(P),!0}else if(wl(B,a,o))return M(P),!0}}s&&(h=h.interactive);for(var V=h.length-1;V>=0;V--){var j=h[V];j.isNode()?I(j)||R(j):O(j)||R(j)||R(j,"source")||R(j,"target")}return g},getAllInBox:function(a,o,s,u){for(var d=this.getCachedZSortedEles().interactive,f=[],h=Math.min(a,s),g=Math.max(a,s),m=Math.min(o,u),v=Math.max(o,u),_=yi({x1:a=h,y1:o=m,x2:s=g,y2:u=v}),b=0;b<d.length;b++){var D=d[b];if(D.isNode()){var E=D,C=E.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Pp(_,C)&&!qe(C,_)&&f.push(E)}else{var T=D,M=T._private,I=M.rscratch;if(null!=I.startX&&null!=I.startY&&!wl(_,I.startX,I.startY)||null!=I.endX&&null!=I.endY&&!wl(_,I.endX,I.endY))continue;if("bezier"===I.edgeType||"multibezier"===I.edgeType||"self"===I.edgeType||"compound"===I.edgeType||"segments"===I.edgeType||"haystack"===I.edgeType){for(var O=M.rstyle.bezierPts||M.rstyle.linePts||M.rstyle.haystackPts,N=!0,R=0;R<O.length;R++)if(!Bw(_,O[R])){N=!1;break}N&&f.push(T)}else("haystack"===I.edgeType||"straight"===I.edgeType)&&f.push(T)}}return f}},jl={calculateArrowAngles:function(a){var m,v,_,b,D,E,o=a._private.rscratch,s="haystack"===o.edgeType,u="bezier"===o.edgeType,d="multibezier"===o.edgeType,f="segments"===o.edgeType,h="compound"===o.edgeType,g="self"===o.edgeType;s?(_=o.haystackPts[0],b=o.haystackPts[1],D=o.haystackPts[2],E=o.haystackPts[3]):(_=o.arrowStartX,b=o.arrowStartY,D=o.arrowEndX,E=o.arrowEndY),I=o.midX,O=o.midY,f?(m=_-o.segpts[0],v=b-o.segpts[1]):d||h||g||u?(m=_-mr((C=o.allpts)[0],C[2],C[4],.1),v=b-mr(C[1],C[3],C[5],.1)):(m=_-I,v=b-O),o.srcArrowAngle=Lu(m,v);var I=o.midX,O=o.midY;if(s&&(I=(_+D)/2,O=(b+E)/2),m=D-_,v=E-b,f)if((C=o.allpts).length/2%2==0)m=C[N=C.length/2]-C[R=N-2],v=C[N+1]-C[R+1];else{var N,R,V=2+(N=C.length/2-1);m=C[N]-C[R=N-2],v=C[N+1]-C[R+1]}else if(d||h||g){var P,$,k,G,B,U,z,C=o.allpts;o.ctrlpts.length/2%2==0?(P=mr(C[U=C.length/2-1],C[B=U+2],C[z=B+2],0),$=mr(C[U+1],C[B+1],C[z+1],0),k=mr(C[U],C[B],C[z],1e-4),G=mr(C[U+1],C[B+1],C[z+1],1e-4)):(P=mr(C[U=(B=C.length/2-1)-2],C[B],C[z=B+2],.4999),$=mr(C[U+1],C[B+1],C[z+1],.4999),k=mr(C[U],C[B],C[z],.5),G=mr(C[U+1],C[B+1],C[z+1],.5)),m=k-P,v=G-$}if(o.midtgtArrowAngle=Lu(m,v),o.midDispX=m,o.midDispY=v,m*=-1,v*=-1,f&&(C=o.allpts).length/2%2!=0&&(m=-(C[V=2+(N=C.length/2-1)]-C[N]),v=-(C[V+1]-C[N+1])),o.midsrcArrowAngle=Lu(m,v),f)m=D-o.segpts[o.segpts.length-2],v=E-o.segpts[o.segpts.length-1];else if(d||h||g||u){var H=(C=o.allpts).length;m=D-mr(C[H-6],C[H-4],C[H-2],.9),v=E-mr(C[H-5],C[H-3],C[H-1],.9)}else m=D-I,v=E-O;o.tgtArrowAngle=Lu(m,v)}};jl.getArrowWidth=jl.getArrowHeight=function(a,o){var s=this.arrowWidthCache=this.arrowWidthCache||{},u=s[a+", "+o];return u||(u=Math.max(Math.pow(13.37*a,.9),29)*o,s[a+", "+o]=u,u)};var Ur={};function ro(a){var o=[];if(null!=a){for(var s=0;s<a.length;s+=2)o.push({x:a[s],y:a[s+1]});return o}}Ur.findMidptPtsEtc=function(a,o){var f,k,G,U,s=o.posPts,u=o.intersectionPts,d=o.vectorNormInverse,h=a.pstyle("source-endpoint"),g=a.pstyle("target-endpoint"),m=null!=h.units&&null!=g.units;switch(a.pstyle("edge-distances").value){case"node-position":f=s;break;case"intersection":f=u;break;case"endpoints":if(m){var D=Xt(this.manualEndptToPx(a.source()[0],h),2),E=D[0],C=D[1],M=Xt(this.manualEndptToPx(a.target()[0],g),2),I=M[0],O=M[1],N={x1:E,y1:C,x2:I,y2:O};G=I-E,d={x:-(k=O-C)/(U=Math.sqrt(G*G+k*k)),y:G/U},f=N}else bt("Edge ".concat(a.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),f=u}return{midptPts:f,vectorNormInverse:d}},Ur.findHaystackPoints=function(a){for(var o=0;o<a.length;o++){var s=a[o],u=s._private,d=u.rscratch;if(!d.haystack){var f=2*Math.random()*Math.PI;d.source={x:Math.cos(f),y:Math.sin(f)},f=2*Math.random()*Math.PI,d.target={x:Math.cos(f),y:Math.sin(f)}}var h=u.source,g=u.target,m=h.position(),v=g.position(),_=h.width(),b=g.width(),D=h.height(),E=g.height(),T=s.pstyle("haystack-radius").value/2;d.haystackPts=d.allpts=[d.source.x*_*T+m.x,d.source.y*D*T+m.y,d.target.x*b*T+v.x,d.target.y*E*T+v.y],d.midX=(d.allpts[0]+d.allpts[2])/2,d.midY=(d.allpts[1]+d.allpts[3])/2,d.edgeType="haystack",d.haystack=!0,this.storeEdgeProjections(s),this.calculateArrowAngles(s),this.recalculateEdgeLabelProjections(s),this.calculateLabelAngles(s)}},Ur.findSegmentsPoints=function(a,o){var s=a._private.rscratch,u=a.pstyle("segment-weights"),d=a.pstyle("segment-distances"),f=Math.min(u.pfValue.length,d.pfValue.length);s.edgeType="segments",s.segpts=[];for(var h=0;h<f;h++){var g=u.pfValue[h],m=d.pfValue[h],v=1-g,_=g,b=this.findMidptPtsEtc(a,o),D=b.midptPts,E=b.vectorNormInverse,C={x:D.x1*v+D.x2*_,y:D.y1*v+D.y2*_};s.segpts.push(C.x+E.x*m,C.y+E.y*m)}},Ur.findLoopPoints=function(a,o,s,u){var d=a._private.rscratch,f=o.dirCounts,h=o.srcPos,g=a.pstyle("control-point-distances"),m=g?g.pfValue[0]:void 0,v=a.pstyle("loop-direction").pfValue,_=a.pstyle("loop-sweep").pfValue,b=a.pstyle("control-point-step-size").pfValue;d.edgeType="self";var D=s,E=b;u&&(D=0,E=m);var C=v-Math.PI/2,T=C-_/2,M=C+_/2,I=v+"_"+_;D=void 0===f[I]?f[I]=0:++f[I],d.ctrlpts=[h.x+1.4*Math.cos(T)*E*(D/3+1),h.y+1.4*Math.sin(T)*E*(D/3+1),h.x+1.4*Math.cos(M)*E*(D/3+1),h.y+1.4*Math.sin(M)*E*(D/3+1)]},Ur.findCompoundLoopPoints=function(a,o,s,u){var d=a._private.rscratch;d.edgeType="compound";var f=o.srcPos,h=o.tgtPos,g=o.srcW,m=o.srcH,v=o.tgtW,_=o.tgtH,b=a.pstyle("control-point-step-size").pfValue,D=a.pstyle("control-point-distances"),C=s,T=b;u&&(C=0,T=D?D.pfValue[0]:void 0);var I={x:f.x-g/2,y:f.y-m/2},O={x:h.x-v/2,y:h.y-_/2},N={x:Math.min(I.x,O.x),y:Math.min(I.y,O.y)},V=Math.max(.5,Math.log(.01*g)),j=Math.max(.5,Math.log(.01*v));d.ctrlpts=[N.x,N.y-(1+Math.pow(50,1.12)/100)*T*(C/3+1)*V,N.x-(1+Math.pow(50,1.12)/100)*T*(C/3+1)*j,N.y]},Ur.findStraightEdgePoints=function(a){a._private.rscratch.edgeType="straight"},Ur.findBezierPoints=function(a,o,s,u,d){var f=a._private.rscratch,h=a.pstyle("control-point-step-size").pfValue,g=a.pstyle("control-point-distances"),m=a.pstyle("control-point-weights"),v=g&&m?Math.min(g.value.length,m.value.length):1,_=g?g.pfValue[0]:void 0,b=m.value[0],D=u;f.edgeType=D?"multibezier":"bezier",f.ctrlpts=[];for(var E=0;E<v;E++){var T,C=(.5-o.eles.length/2+s)*h*(d?-1:1),M=Rp(C);D&&(_=g?g.pfValue[E]:h,b=m.value[E]);var I=void 0!==(T=u?_:void 0!==_?M*_:void 0)?T:C,O=1-b,N=b,R=this.findMidptPtsEtc(a,o),V=R.midptPts,j=R.vectorNormInverse,P={x:V.x1*O+V.x2*N,y:V.y1*O+V.y2*N};f.ctrlpts.push(P.x+j.x*I,P.y+j.y*I)}},Ur.findTaxiPoints=function(a,o){var s=a._private.rscratch;s.edgeType="segments";var u="vertical",d="horizontal",f="leftward",h="rightward",g="downward",m="upward",_=o.posPts,b=o.srcW,D=o.srcH,E=o.tgtW,C=o.tgtH,M="node-position"!==a.pstyle("edge-distances").value,I=a.pstyle("taxi-direction").value,O=I,N=a.pstyle("taxi-turn"),R="%"===N.units,V=N.pfValue,j=V<0,P=a.pstyle("taxi-turn-min-distance").pfValue,k=M?(D+C)/2:0,G=_.x2-_.x1,U=_.y2-_.y1,B=function(me,ot){return me>0?Math.max(me-ot,0):Math.min(me+ot,0)},z=B(G,M?(b+E)/2:0),H=B(U,k),Q=!1;"auto"===O?I=Math.abs(z)>Math.abs(H)?d:u:O===m||O===g?(I=u,Q=!0):(O===f||O===h)&&(I=d,Q=!0);var te,q=I===u,W=q?H:z,ee=q?U:G,ae=Rp(ee),he=!1;(!Q||!R&&!j)&&(O===g&&ee<0||O===m&&ee>0||O===f&&ee>0||O===h&&ee<0)&&(W=(ae*=-1)*Math.abs(W),he=!0);var we=function(me){return Math.abs(me)<P||Math.abs(me)>=Math.abs(W)},_e=we(te=R?(V<0?1+V:V)*W:(V<0?W:0)+V*ae),Ee=we(Math.abs(W)-Math.abs(te));if(!_e&&!Ee||he)if(q){var se=_.y1+te+(M?D/2*ae:0);s.segpts=[_.x1,se,_.x2,se]}else{var De=_.x1+te+(M?b/2*ae:0);s.segpts=[De,_.y1,De,_.y2]}else if(q){var be=Math.abs(ee)<=D/2,Ie=Math.abs(G)<=E/2;if(be){var Me=(_.x1+_.x2)/2;s.segpts=[Me,_.y1,Me,_.y2]}else if(Ie){var St=(_.y1+_.y2)/2;s.segpts=[_.x1,St,_.x2,St]}else s.segpts=[_.x1,_.y2]}else{var lt=Math.abs(ee)<=b/2,ut=Math.abs(U)<=C/2;if(lt){var nt=(_.y1+_.y2)/2;s.segpts=[_.x1,nt,_.x2,nt]}else if(ut){var Ft=(_.x1+_.x2)/2;s.segpts=[Ft,_.y1,Ft,_.y2]}else s.segpts=[_.x2,_.y1]}},Ur.tryToCorrectInvalidPoints=function(a,o){var s=a._private.rscratch;if("bezier"===s.edgeType){var u=o.srcPos,d=o.tgtPos,f=o.srcW,h=o.srcH,g=o.tgtW,m=o.tgtH,v=o.srcShape,_=o.tgtShape,b=!Ge(s.startX)||!Ge(s.startY),D=!Ge(s.arrowStartX)||!Ge(s.arrowStartY),E=!Ge(s.endX)||!Ge(s.endY),C=!Ge(s.arrowEndX)||!Ge(s.arrowEndY),I=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,O=Fo({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.startX,y:s.startY}),N=O<I,R=Fo({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.endX,y:s.endY}),V=R<I,j=!1;if(b||D||N){j=!0;var P={x:s.ctrlpts[0]-u.x,y:s.ctrlpts[1]-u.y},$=Math.sqrt(P.x*P.x+P.y*P.y),k={x:P.x/$,y:P.y/$},G=Math.max(f,h),U={x:s.ctrlpts[0]+2*k.x*G,y:s.ctrlpts[1]+2*k.y*G},B=v.intersectLine(u.x,u.y,f,h,U.x,U.y,0);N?(s.ctrlpts[0]=s.ctrlpts[0]+k.x*(I-O),s.ctrlpts[1]=s.ctrlpts[1]+k.y*(I-O)):(s.ctrlpts[0]=B[0]+k.x*I,s.ctrlpts[1]=B[1]+k.y*I)}if(E||C||V){j=!0;var z={x:s.ctrlpts[0]-d.x,y:s.ctrlpts[1]-d.y},H=Math.sqrt(z.x*z.x+z.y*z.y),Q={x:z.x/H,y:z.y/H},q=Math.max(f,h),W={x:s.ctrlpts[0]+2*Q.x*q,y:s.ctrlpts[1]+2*Q.y*q},ee=_.intersectLine(d.x,d.y,g,m,W.x,W.y,0);V?(s.ctrlpts[0]=s.ctrlpts[0]+Q.x*(I-R),s.ctrlpts[1]=s.ctrlpts[1]+Q.y*(I-R)):(s.ctrlpts[0]=ee[0]+Q.x*I,s.ctrlpts[1]=ee[1]+Q.y*I)}j&&this.findEndpoints(a)}},Ur.storeAllpts=function(a){var o=a._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var s=0;s+1<o.ctrlpts.length;s+=2)o.allpts.push(o.ctrlpts[s],o.ctrlpts[s+1]),s+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[s]+o.ctrlpts[s+2])/2,(o.ctrlpts[s+1]+o.ctrlpts[s+3])/2);var u;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[u=o.allpts.length/2-1],o.midY=o.allpts[u+1]):(o.midX=mr(o.allpts[u=o.allpts.length/2-3],o.allpts[u+2],o.allpts[u+4],.5),o.midY=mr(o.allpts[u+1],o.allpts[u+3],o.allpts[u+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var f=o.segpts.length/2,h=f-2;o.midX=(o.segpts[h]+o.segpts[f])/2,o.midY=(o.segpts[h+1]+o.segpts[f+1])/2}else{var g=o.segpts.length/2-1;o.midX=o.segpts[g],o.midY=o.segpts[g+1]}},Ur.checkForInvalidEdgeWarning=function(a){var o=a[0]._private.rscratch;o.nodesOverlap||Ge(o.startX)&&Ge(o.startY)&&Ge(o.endX)&&Ge(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,bt("Edge `"+a.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Ur.findEdgeControlPoints=function(a){var o=this;if(a&&0!==a.length){for(var s=this,d=s.cy.hasCompoundNodes(),f={map:new po,get:function(P){var $=this.map.get(P[0]);return null!=$?$.get(P[1]):null},set:function(P,$){var k=this.map.get(P[0]);null==k&&(k=new po,this.map.set(P[0],k)),k.set(P[1],$)}},h=[],g=[],m=0;m<a.length;m++){var v=a[m],_=v._private,b=v.pstyle("curve-style").value;if(!v.removed()&&v.takesUpSpace()){if("haystack"===b){g.push(v);continue}var D="unbundled-bezier"===b||"segments"===b||"straight"===b||"straight-triangle"===b||"taxi"===b,E="unbundled-bezier"===b||"bezier"===b,T=_.target,O=[_.source.poolIndex(),T.poolIndex()].sort(),N=f.get(O);null==N&&(f.set(O,N={eles:[]}),h.push(O)),N.eles.push(v),D&&(N.hasUnbundled=!0),E&&(N.hasBezier=!0)}}for(var R=function(P){var k=f.get(h[P]),G=void 0;if(!k.hasUnbundled){var U=k.eles[0].parallelEdges().filter(function(Mt){return Mt.isBundledBezier()});$d(k.eles),U.forEach(function(Mt){return k.eles.push(Mt)}),k.eles.sort(function(Mt,se){return Mt.poolIndex()-se.poolIndex()})}var B=k.eles[0],z=B.source(),H=B.target();if(z.poolIndex()>H.poolIndex()){var Q=z;z=H,H=Q}var q=k.srcPos=z.position(),W=k.tgtPos=H.position(),ee=k.srcW=z.outerWidth(),ae=k.srcH=z.outerHeight(),he=k.tgtW=H.outerWidth(),te=k.tgtH=H.outerHeight(),de=k.srcShape=s.nodeShapes[o.getNodeShape(z)],ye=k.tgtShape=s.nodeShapes[o.getNodeShape(H)];k.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var we=0;we<k.eles.length;we++){var _e=k.eles[we],Ee=_e[0]._private.rscratch,ie=_e.pstyle("curve-style").value,be="unbundled-bezier"===ie||"segments"===ie||"taxi"===ie,Ie=!z.same(_e.source());if(!k.calculatedIntersection&&z!==H&&(k.hasBezier||k.hasUnbundled)){k.calculatedIntersection=!0;var Me=de.intersectLine(q.x,q.y,ee,ae,W.x,W.y,0),Re=k.srcIntn=Me,it=ye.intersectLine(W.x,W.y,he,te,q.x,q.y,0),St=k.tgtIntn=it,He=k.intersectionPts={x1:Me[0],x2:it[0],y1:Me[1],y2:it[1]},$e=k.posPts={x1:q.x,x2:W.x,y1:q.y,y2:W.y},lt=it[1]-Me[1],ut=it[0]-Me[0],nt=Math.sqrt(ut*ut+lt*lt),ft=k.vector={x:ut,y:lt},Zt=k.vectorNorm={x:ft.x/nt,y:ft.y/nt},Ft={x:-Zt.y,y:Zt.x};k.nodesOverlap=!Ge(nt)||ye.checkPoint(Me[0],Me[1],0,he,te,W.x,W.y)||de.checkPoint(it[0],it[1],0,ee,ae,q.x,q.y),k.vectorNormInverse=Ft,G={nodesOverlap:k.nodesOverlap,dirCounts:k.dirCounts,calculatedIntersection:!0,hasBezier:k.hasBezier,hasUnbundled:k.hasUnbundled,eles:k.eles,srcPos:W,tgtPos:q,srcW:he,srcH:te,tgtW:ee,tgtH:ae,srcIntn:St,tgtIntn:Re,srcShape:ye,tgtShape:de,posPts:{x1:$e.x2,y1:$e.y2,x2:$e.x1,y2:$e.y1},intersectionPts:{x1:He.x2,y1:He.y2,x2:He.x1,y2:He.y1},vector:{x:-ft.x,y:-ft.y},vectorNorm:{x:-Zt.x,y:-Zt.y},vectorNormInverse:{x:-Ft.x,y:-Ft.y}}}var Tt=Ie?G:k;Ee.nodesOverlap=Tt.nodesOverlap,Ee.srcIntn=Tt.srcIntn,Ee.tgtIntn=Tt.tgtIntn,d&&(z.isParent()||z.isChild()||H.isParent()||H.isChild())&&(z.parents().anySame(H)||H.parents().anySame(z)||z.same(H)&&z.isParent())?o.findCompoundLoopPoints(_e,Tt,we,be):z===H?o.findLoopPoints(_e,Tt,we,be):"segments"===ie?o.findSegmentsPoints(_e,Tt):"taxi"===ie?o.findTaxiPoints(_e,Tt):"straight"===ie||!be&&k.eles.length%2==1&&we===Math.floor(k.eles.length/2)?o.findStraightEdgePoints(_e):o.findBezierPoints(_e,Tt,we,be,Ie),o.findEndpoints(_e),o.tryToCorrectInvalidPoints(_e,Tt),o.checkForInvalidEdgeWarning(_e),o.storeAllpts(_e),o.storeEdgeProjections(_e),o.calculateArrowAngles(_e),o.recalculateEdgeLabelProjections(_e),o.calculateLabelAngles(_e)}},V=0;V<h.length;V++)R(V);this.findHaystackPoints(g)}},Ur.getSegmentPoints=function(a){var o=a[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(a),ro(o.segpts)},Ur.getControlPoints=function(a){var o=a[0]._private.rscratch,s=o.edgeType;if("bezier"===s||"multibezier"===s||"self"===s||"compound"===s)return this.recalculateRenderedStyle(a),ro(o.ctrlpts)},Ur.getEdgeMidpoint=function(a){var o=a[0]._private.rscratch;return this.recalculateRenderedStyle(a),{x:o.midX,y:o.midY}};var Ul={manualEndptToPx:function(a,o){var u=a.position(),d=a.outerWidth(),f=a.outerHeight();if(2===o.value.length){var h=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(h[0]=h[0]*d),"%"===o.units[1]&&(h[1]=h[1]*f),h[0]+=u.x,h[1]+=u.y,h}var g=o.pfValue[0];g=-Math.PI/2+g;var m=2*Math.max(d,f),v=[u.x+Math.cos(g)*m,u.y+Math.sin(g)*m];return this.nodeShapes[this.getNodeShape(a)].intersectLine(u.x,u.y,d,f,v[0],v[1],0)},findEndpoints:function(a){var s,G,U,B,z,o=this,u=a.source()[0],d=a.target()[0],f=u.position(),h=d.position(),g=a.pstyle("target-arrow-shape").value,m=a.pstyle("source-arrow-shape").value,v=a.pstyle("target-distance-from-node").pfValue,_=a.pstyle("source-distance-from-node").pfValue,b=a.pstyle("curve-style").value,D=a._private.rscratch,E=D.edgeType,T="self"===E||"compound"===E,M="bezier"===E||"multibezier"===E||T,I="bezier"!==E,O="straight"===E||"segments"===E,N="segments"===E,R=M||I||O,V=T||"taxi"===b,j=a.pstyle("source-endpoint"),P=V?"outside-to-node":j.value,$=a.pstyle("target-endpoint"),k=V?"outside-to-node":$.value;if(D.srcManEndpt=j,D.tgtManEndpt=$,M){var H=[D.ctrlpts[0],D.ctrlpts[1]];G=I?[D.ctrlpts[D.ctrlpts.length-2],D.ctrlpts[D.ctrlpts.length-1]]:H,U=H}else if(O){var q=N?D.segpts.slice(0,2):[h.x,h.y];G=N?D.segpts.slice(D.segpts.length-2):[f.x,f.y],U=q}if("inside-to-node"===k)s=[h.x,h.y];else if($.units)s=this.manualEndptToPx(d,$);else if("outside-to-line"===k)s=D.tgtIntn;else if("outside-to-node"===k||"outside-to-node-or-label"===k?B=G:("outside-to-line"===k||"outside-to-line-or-label"===k)&&(B=[f.x,f.y]),s=o.nodeShapes[this.getNodeShape(d)].intersectLine(h.x,h.y,d.outerWidth(),d.outerHeight(),B[0],B[1],0),"outside-to-node-or-label"===k||"outside-to-line-or-label"===k){var ee=d._private.rscratch,te=ee.labelX,de=ee.labelY,ye=ee.labelWidth/2,we=ee.labelHeight/2,_e=d.pstyle("text-valign").value;"top"===_e?de-=we:"bottom"===_e&&(de+=we);var Ee=d.pstyle("text-halign").value;"left"===Ee?te-=ye:"right"===Ee&&(te+=ye);var ie=gn(B[0],B[1],[te-ye,de-we,te+ye,de-we,te+ye,de+we,te-ye,de+we],h.x,h.y);if(ie.length>0){var be=f,Ie=cr(be,_l(s)),Me=cr(be,_l(ie)),Re=Ie;Me<Ie&&(s=ie,Re=Me),ie.length>2&&cr(be,{x:ie[2],y:ie[3]})<Re&&(s=[ie[2],ie[3]])}}var St=qd(s,G,o.arrowShapes[g].spacing(a)+v),He=qd(s,G,o.arrowShapes[g].gap(a)+v);if(D.endX=He[0],D.endY=He[1],D.arrowEndX=St[0],D.arrowEndY=St[1],"inside-to-node"===P)s=[f.x,f.y];else if(j.units)s=this.manualEndptToPx(u,j);else if("outside-to-line"===P)s=D.srcIntn;else if("outside-to-node"===P||"outside-to-node-or-label"===P?z=U:("outside-to-line"===P||"outside-to-line-or-label"===P)&&(z=[h.x,h.y]),s=o.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,u.outerWidth(),u.outerHeight(),z[0],z[1],0),"outside-to-node-or-label"===P||"outside-to-line-or-label"===P){var $e=u._private.rscratch,nt=$e.labelX,ft=$e.labelY,Zt=$e.labelWidth/2,Ft=$e.labelHeight/2,Tt=u.pstyle("text-valign").value;"top"===Tt?ft-=Ft:"bottom"===Tt&&(ft+=Ft);var Mt=u.pstyle("text-halign").value;"left"===Mt?nt-=Zt:"right"===Mt&&(nt+=Zt);var se=gn(z[0],z[1],[nt-Zt,ft-Ft,nt+Zt,ft-Ft,nt+Zt,ft+Ft,nt-Zt,ft+Ft],f.x,f.y);if(se.length>0){var F=h,oe=cr(F,_l(s)),De=cr(F,_l(se)),le=oe;De<oe&&(s=[se[0],se[1]],le=De),se.length>2&&cr(F,{x:se[2],y:se[3]})<le&&(s=[se[2],se[3]])}}var dt=qd(s,U,o.arrowShapes[m].spacing(a)+_),me=qd(s,U,o.arrowShapes[m].gap(a)+_);D.startX=me[0],D.startY=me[1],D.arrowStartX=dt[0],D.arrowStartY=dt[1],R&&(D.badLine=!(Ge(D.startX)&&Ge(D.startY)&&Ge(D.endX)&&Ge(D.endY)))},getSourceEndpoint:function(a){var o=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(a){var o=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},Us={};function If(a,o,s){for(var u=function(v,_,b,D){return mr(v,_,b,D)},f=o._private.rstyle.bezierPts,h=0;h<a.bezierProjPcts.length;h++){var g=a.bezierProjPcts[h];f.push({x:u(s[0],s[2],s[4],g),y:u(s[1],s[3],s[5],g)})}}Us.storeEdgeProjections=function(a){var o=a._private,s=o.rscratch,u=s.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===u||"bezier"===u||"self"===u||"compound"===u){o.rstyle.bezierPts=[];for(var d=0;d+5<s.allpts.length;d+=4)If(this,a,s.allpts.slice(d,d+6))}else if("segments"===u){var f=o.rstyle.linePts=[];for(d=0;d+1<s.allpts.length;d+=2)f.push({x:s.allpts[d],y:s.allpts[d+1]})}else if("haystack"===u){var h=s.haystackPts;o.rstyle.haystackPts=[{x:h[0],y:h[1]},{x:h[2],y:h[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth},Us.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};var io={recalculateNodeLabelProjection:function(a){var o=a.pstyle("label").strValue;if(!Ut(o)){var s,u,d=a._private,f=a.width(),h=a.height(),g=a.padding(),m=a.position(),v=a.pstyle("text-halign").strValue,_=a.pstyle("text-valign").strValue,b=d.rscratch,D=d.rstyle;switch(v){case"left":s=m.x-f/2-g;break;case"right":s=m.x+f/2+g;break;default:s=m.x}switch(_){case"top":u=m.y-h/2-g;break;case"bottom":u=m.y+h/2+g;break;default:u=m.y}b.labelX=s,b.labelY=u,D.labelX=s,D.labelY=u,this.calculateLabelAngles(a),this.applyLabelDimensions(a)}}},Gl=function(o,s){var u=Math.atan(s/o);return 0===o&&u<0&&(u*=-1),u},vc=function(o,s){return Gl(s.x-o.x,s.y-o.y)};io.recalculateEdgeLabelProjections=function(a){var o,s=a._private,u=s.rscratch,d=this,f={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(f.mid||f.source||f.target){var h=function(b,D,E){ua(s.rscratch,b,D,E),ua(s.rstyle,b,D,E)};h("labelX",null,(o={x:u.midX,y:u.midY}).x),h("labelY",null,o.y);var g=Gl(u.midDispX,u.midDispY);h("labelAutoAngle",null,g);var m=function _(){if(_.cache)return _.cache;for(var b=[],D=0;D+5<u.allpts.length;D+=4)b.push({p0:{x:u.allpts[D],y:u.allpts[D+1]},p1:{x:u.allpts[D+2],y:u.allpts[D+3]},p2:{x:u.allpts[D+4],y:u.allpts[D+5]},startDist:0,length:0,segments:[]});var M=s.rstyle.bezierPts,I=d.bezierProjPcts.length;function O(P,$,k,G,U){var B=Fo($,k),z=P.segments[P.segments.length-1];P.segments.push({p0:$,p1:k,t0:G,t1:U,startDist:z?z.startDist+z.length:0,length:B}),P.length+=B}for(var N=0;N<b.length;N++){var R=b[N],V=b[N-1];V&&(R.startDist=V.startDist+V.length),O(R,R.p0,M[N*I],0,d.bezierProjPcts[0]);for(var j=0;j<I-1;j++)O(R,M[N*I+j],M[N*I+j+1],d.bezierProjPcts[j],d.bezierProjPcts[j+1]);O(R,M[N*I+I-1],R.p2,d.bezierProjPcts[I-1],1)}return _.cache=b},v=function(b){var D,E="source"===b;if(f[b]){var C=a.pstyle(b+"-text-offset").pfValue;switch(u.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var M,T=m(),I=0,O=0,N=0;N<T.length;N++){for(var R=T[E?N:T.length-1-N],V=0;V<R.segments.length;V++){var j=R.segments[E?V:R.segments.length-1-V];if(I=O,(O+=j.length)>=C||N===T.length-1&&V===R.segments.length-1){M={cp:R,segment:j};break}}if(M)break}var $=M.cp,k=M.segment,G=(C-I)/k.length,U=k.t1-k.t0,B=E?k.t0+U*G:k.t1-U*G;B=Bu(0,B,1),o=bl($.p0,$.p1,$.p2,B),D=function(o,s,u,d){var f=Bu(0,d-.001,1),h=Bu(0,d+.001,1),g=bl(o,s,u,f),m=bl(o,s,u,h);return vc(g,m)}($.p0,$.p1,$.p2,B);break;case"straight":case"segments":case"haystack":for(var H,Q,q,W,z=0,ee=u.allpts.length,ae=0;ae+3<ee&&(E?(q={x:u.allpts[ae],y:u.allpts[ae+1]},W={x:u.allpts[ae+2],y:u.allpts[ae+3]}):(q={x:u.allpts[ee-2-ae],y:u.allpts[ee-1-ae]},W={x:u.allpts[ee-4-ae],y:u.allpts[ee-3-ae]}),Q=z,!((z+=H=Fo(q,W))>=C));ae+=2);var te=(C-Q)/H;te=Bu(0,te,1),o=function(o,s,u,d){var f_x=s.x-o.x,f_y=s.y-o.y,h=Fo(o,s);return u=u??0,{x:o.x+f_x/h*(d=d??u*h),y:o.y+f_y/h*d}}(q,W,te),D=vc(q,W)}h("labelX",b,o.x),h("labelY",b,o.y),h("labelAutoAngle",b,D)}};v("source"),v("target"),this.applyLabelDimensions(a)}},io.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},io.applyPrefixedLabelDimensions=function(a,o){var s=a._private,u=this.getLabelText(a,o),d=this.calculateLabelDimensions(a,u),f=a.pstyle("line-height").pfValue,h=a.pstyle("text-wrap").strValue,g=ki(s.rscratch,"labelWrapCachedLines",o)||[],m="wrap"!==h?1:Math.max(g.length,1),v=d.height/m,_=v*f,b=d.width,D=d.height+(m-1)*(f-1)*v;ua(s.rstyle,"labelWidth",o,b),ua(s.rscratch,"labelWidth",o,b),ua(s.rstyle,"labelHeight",o,D),ua(s.rscratch,"labelHeight",o,D),ua(s.rscratch,"labelLineHeight",o,_)},io.getLabelText=function(a,o){var s=a._private,d=a.pstyle((o?o+"-":"")+"label").strValue,f=a.pstyle("text-transform").value,h=function(he,te){return te?(ua(s.rscratch,he,o,te),te):ki(s.rscratch,he,o)};if(!d)return"";"none"==f||("uppercase"==f?d=d.toUpperCase():"lowercase"==f&&(d=d.toLowerCase()));var g=a.pstyle("text-wrap").value;if("wrap"===g){var m=h("labelKey");if(null!=m&&h("labelWrapKey")===m)return h("labelWrapCachedText");for(var _=d.split("\n"),b=a.pstyle("text-max-width").pfValue,E="anywhere"===a.pstyle("text-overflow-wrap").value,C=[],T=/[\s\u200b]+/,M=E?"":" ",I=0;I<_.length;I++){var O=_[I],R=this.calculateLabelDimensions(a,O).width;if(E){var V=O.split("").join("\u200b");O=V}if(R>b){for(var j=O.split(T),P="",$=0;$<j.length;$++){var k=j[$];this.calculateLabelDimensions(a,0===P.length?k:P+M+k).width<=b?P+=k+M:(P&&C.push(P),P=k+M)}P.match(/^[\s\u200b]+$/)||C.push(P)}else C.push(O)}h("labelWrapCachedLines",C),d=h("labelWrapCachedText",C.join("\n")),h("labelWrapKey",m)}else if("ellipsis"===g){var z=a.pstyle("text-max-width").pfValue,H="",q=!1;if(this.calculateLabelDimensions(a,d).width<z)return d;for(var W=0;W<d.length&&!(this.calculateLabelDimensions(a,H+d[W]+"\u2026").width>z);W++)H+=d[W],W===d.length-1&&(q=!0);return q||(H+="\u2026"),H}return d},io.getLabelJustification=function(a){var o=a.pstyle("text-justification").strValue,s=a.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!a.isNode())return"center";switch(s){case"left":return"right";case"right":return"left";default:return"center"}},io.calculateLabelDimensions=function(a,o){var u=la(o,a._private.labelDimsKey),d=this.labelDimCache||(this.labelDimCache=[]),f=d[u];if(null!=f)return f;var g=a.pstyle("font-style").strValue,m=a.pstyle("font-size").pfValue,v=a.pstyle("font-family").strValue,_=a.pstyle("font-weight").strValue,b=this.labelCalcCanvas,D=this.labelCalcCanvasContext;if(!b){b=this.labelCalcCanvas=document.createElement("canvas"),D=this.labelCalcCanvasContext=b.getContext("2d");var E=b.style;E.position="absolute",E.left="-9999px",E.top="-9999px",E.zIndex="-1",E.visibility="hidden",E.pointerEvents="none"}D.font="".concat(g," ").concat(_," ").concat(m,"px ").concat(v);for(var C=0,T=0,M=o.split("\n"),I=0;I<M.length;I++){var N=D.measureText(M[I]),R=Math.ceil(N.width),V=m;C=Math.max(R,C),T+=V}return d[u]={width:C+=0,height:T+=0}},io.calculateLabelAngle=function(a,o){var u=a._private.rscratch,d=a.isEdge(),h=a.pstyle((o?o+"-":"")+"text-rotation"),g=h.strValue;return"none"===g?0:d&&"autorotate"===g?u.labelAutoAngle:"autorotate"===g?0:h.pfValue},io.calculateLabelAngles=function(a){var o=this,s=a.isEdge(),d=a._private.rscratch;d.labelAngle=o.calculateLabelAngle(a),s&&(d.sourceLabelAngle=o.calculateLabelAngle(a,"source"),d.targetLabelAngle=o.calculateLabelAngle(a,"target"))};var xf={},Of=!1;xf.getNodeShape=function(a){var s=a.pstyle("shape").value;if("cutrectangle"===s&&(a.width()<28||a.height()<28))return Of||(bt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Of=!0),"rectangle";if(a.isParent())return"rectangle"===s||"roundrectangle"===s||"round-rectangle"===s||"cutrectangle"===s||"cut-rectangle"===s||"barrel"===s?s:"rectangle";if("polygon"===s){var u=a.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(u).name}return s};var mc={updateCachedGrabbedEles:function(){var a=this.cachedZSortedEles;if(a){a.drag=[],a.nondrag=[];for(var o=[],s=0;s<a.length;s++){var d=(u=a[s])._private.rscratch;u.grabbed()&&!u.isParent()?o.push(u):d.inDragLayer?a.drag.push(u):a.nondrag.push(u)}for(s=0;s<o.length;s++){var u;a.drag.push(u=o[s])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(a){if(a||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(wg),o.interactive=o.filter(function(s){return s.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},Wl={};[wa,jl,Ur,Ul,Us,io,xf,{registerCalculationListeners:function(){var a=this.cy,o=a.collection(),s=this,u=function(h){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(h),g)for(var m=0;m<h.length;m++){var b=h[m]._private.rstyle;b.clean=!1,b.cleanConnected=!1}};s.binder(a).on("bounds.* dirty.*",function(h){u(h.target)}).on("style.* background.*",function(h){u(h.target,!1)});var d=function(h){if(h){var g=s.onUpdateEleCalcsFns;o.cleanStyle();for(var m=0;m<o.length;m++){var v=o[m],_=v._private.rstyle;v.isNode()&&!_.cleanConnected&&(u(v.connectedEdges()),_.cleanConnected=!0)}if(g)for(var b=0;b<g.length;b++)(0,g[b])(h,o);s.recalculateRenderedStyle(o),o=a.collection()}};s.flushRenderedStyleQueue=function(){d(!0)},s.beforeRender(d,s.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(a){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(a)},recalculateRenderedStyle:function(a,o){var s=function(R){return R._private.rstyle.cleanConnected},u=[],d=[];if(!this.destroyed){void 0===o&&(o=!0);for(var f=0;f<a.length;f++){var h=a[f],g=h._private,m=g.rstyle;h.isEdge()&&(!s(h.source())||!s(h.target()))&&(m.clean=!1),!(o&&m.clean||h.removed())&&"none"!==h.pstyle("display").value&&("nodes"===g.group?d.push(h):u.push(h),m.clean=!0)}for(var v=0;v<d.length;v++){var _=d[v],D=_._private.rstyle,E=_.position();this.recalculateNodeLabelProjection(_),D.nodeX=E.x,D.nodeY=E.y,D.nodeW=_.pstyle("width").pfValue,D.nodeH=_.pstyle("height").pfValue}this.recalculateEdgeProjections(u);for(var C=0;C<u.length;C++){var M=u[C]._private,I=M.rstyle,O=M.rscratch;I.srcX=O.arrowStartX,I.srcY=O.arrowStartY,I.tgtX=O.arrowEndX,I.tgtY=O.arrowEndY,I.midX=O.midX,I.midY=O.midY,I.labelAngle=O.labelAngle,I.sourceLabelAngle=O.sourceLabelAngle,I.targetLabelAngle=O.targetLabelAngle}}}},mc].forEach(function(a){mt(Wl,a)});var Da={getCachedImage:function(a,o,s){var d=this.imageCache=this.imageCache||{},f=d[a];if(f)return f.image.complete||f.image.addEventListener("load",s),f.image;var h=(f=d[a]=d[a]||{}).image=new Image;h.addEventListener("load",s),h.addEventListener("error",function(){h.error=!0});return"data:"===a.substring(0,5).toLowerCase()||(h.crossOrigin=o="null"===o?null:o),h.src=a,h}},Gs={registerBinding:function(a,o,s,u){var d=Array.prototype.slice.apply(arguments,[1]),f=this.binder(a);return f.on.apply(f,d)},binder:function(a){var o=this,s=o.cy.window(),u=a===s||a===s.document||a===s.document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(a);if(null==o.supportsPassiveEvents){var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){return d=!0,!0}});s.addEventListener("test",null,f)}catch{}o.supportsPassiveEvents=d}var h=function(m,v,_){var b=Array.prototype.slice.call(arguments);return u&&o.supportsPassiveEvents&&(b[2]={capture:_??!1,passive:!1,once:!1}),o.bindings.push({target:a,args:b}),(a.addEventListener||a.on).apply(a,b),this};return{on:h,addEventListener:h,addListener:h,bind:h}},nodeIsDraggable:function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},nodeIsGrabbable:function(a){return this.nodeIsDraggable(a)&&a.interactive()}};Gs.load=function(){var a=this,o=a.cy.window(),s=function(F){return F.selected()},u=function(F,oe,De,le){null==F&&(F=a.cy);for(var fe=0;fe<oe.length;fe++)F.emit({originalEvent:De,type:oe[fe],position:le})},d=function(F){return F.shiftKey||F.metaKey||F.ctrlKey},f=function(F,oe){var De=!0;if(a.cy.hasCompoundNodes()&&F&&F.pannable()){for(var le=0;oe&&le<oe.length;le++)if((F=oe[le]).isNode()&&F.isParent()&&!F.pannable()){De=!1;break}}else De=!0;return De},m=function(F){F[0]._private.rscratch.inDragLayer=!0},_=function(F){F[0]._private.rscratch.isGrabTarget=!0},D=function(F,oe){var De=oe.addToList;!De.has(F)&&F.grabbable()&&!F.locked()&&(De.merge(F),function(F){F[0]._private.grabbed=!0}(F))},C=function(F,oe){oe=oe||{};var De=F.cy().hasCompoundNodes();oe.inDragLayer&&(F.forEach(m),F.neighborhood().stdFilter(function(le){return!De||le.isEdge()}).forEach(m)),oe.addToList&&F.forEach(function(le){D(le,oe)}),function(F,oe){if(F.cy().hasCompoundNodes()&&(null!=oe.inDragLayer||null!=oe.addToList)){var De=F.descendants();oe.inDragLayer&&(De.forEach(m),De.connectedEdges().forEach(m)),oe.addToList&&D(De,oe)}}(F,oe),I(F,{inDragLayer:oe.inDragLayer}),a.updateCachedGrabbedEles()},T=C,M=function(F){F&&(a.getCachedZSortedEles().forEach(function(oe){(function(F){F[0]._private.grabbed=!1})(oe),function(F){F[0]._private.rscratch.inDragLayer=!1}(oe),function(F){F[0]._private.rscratch.isGrabTarget=!1}(oe)}),a.updateCachedGrabbedEles())},I=function(F,oe){if((null!=oe.inDragLayer||null!=oe.addToList)&&F.cy().hasCompoundNodes()){var De=F.ancestors().orphans();if(!De.same(F)){var le=De.descendants().spawnSelf().merge(De).unmerge(F).unmerge(F.descendants()),fe=le.connectedEdges();oe.inDragLayer&&(fe.forEach(m),le.forEach(m)),oe.addToList&&le.forEach(function(dt){D(dt,oe)})}}},O=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},N=typeof MutationObserver<"u",R=typeof ResizeObserver<"u";N?(a.removeObserver=new MutationObserver(function(se){for(var F=0;F<se.length;F++){var De=se[F].removedNodes;if(De)for(var le=0;le<De.length;le++)if(De[le]===a.container){a.destroy();break}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(se){a.destroy()});var V=Ue.default(function(){a.cy.resize()},100);N&&(a.styleObserver=new MutationObserver(V),a.styleObserver.observe(a.container,{attributes:!0})),a.registerBinding(o,"resize",V),R&&(a.resizeObserver=new ResizeObserver(V),a.resizeObserver.observe(a.container));var P=function(){a.invalidateContainerClientCoordsCache()};(function(F,oe){for(;null!=F;)a.registerBinding(se=F,"transitionend",P),a.registerBinding(se,"animationend",P),a.registerBinding(se,"scroll",P),F=F.parentNode;var se})(a.container),a.registerBinding(a.container,"contextmenu",function(se){se.preventDefault()});var G,U,B,k=function(F){for(var oe=a.findContainerClientCoords(),De=oe[0],le=oe[1],fe=oe[2],dt=oe[3],me=F.touches?F.touches:[F],ot=!1,Rt=0;Rt<me.length;Rt++){var rn=me[Rt];if(De<=rn.clientX&&rn.clientX<=De+fe&&le<=rn.clientY&&rn.clientY<=le+dt){ot=!0;break}}if(!ot)return!1;for(var Ct=a.container,It=F.target.parentNode,Pt=!1;It;){if(It===Ct){Pt=!0;break}It=It.parentNode}return!!Pt};a.registerBinding(a.container,"mousedown",function(F){if(k(F)){F.preventDefault(),O(),a.hoverData.capture=!0,a.hoverData.which=F.which;var oe=a.cy,De=[F.clientX,F.clientY],le=a.projectIntoViewport(De[0],De[1]),fe=a.selection,dt=a.findNearestElements(le[0],le[1],!0,!1),me=dt[0],ot=a.dragData.possibleDragElements;if(a.hoverData.mdownPos=le,a.hoverData.mdownGPos=De,3==F.which){a.hoverData.cxtStarted=!0;var rn={originalEvent:F,type:"cxttapstart",position:{x:le[0],y:le[1]}};me?(me.activate(),me.emit(rn),a.hoverData.down=me):oe.emit(rn),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1}else if(1==F.which){if(me&&me.activate(),null!=me&&a.nodeIsGrabbable(me)){var Ct=function(Hn){return{originalEvent:F,type:Hn,position:{x:le[0],y:le[1]}}};if(_(me),me.selected()){ot=a.dragData.possibleDragElements=oe.collection();var It=oe.$(function(Pt){return Pt.isNode()&&Pt.selected()&&a.nodeIsGrabbable(Pt)});C(It,{addToList:ot}),me.emit(Ct("grabon")),It.forEach(function(Hn){Hn.emit(Ct("grab"))})}else ot=a.dragData.possibleDragElements=oe.collection(),T(me,{addToList:ot}),me.emit(Ct("grabon")).emit(Ct("grab"));a.redrawHint("eles",!0),a.redrawHint("drag",!0)}a.hoverData.down=me,a.hoverData.downs=dt,a.hoverData.downTime=(new Date).getTime(),u(me,["mousedown","tapstart","vmousedown"],F,{x:le[0],y:le[1]}),null==me?(fe[4]=1,a.data.bgActivePosistion={x:le[0],y:le[1]},a.redrawHint("select",!0),a.redraw()):me.pannable()&&(fe[4]=1),a.hoverData.tapholdCancelled=!1,clearTimeout(a.hoverData.tapholdTimeout),a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var Hn=a.hoverData.down;Hn?Hn.emit({originalEvent:F,type:"taphold",position:{x:le[0],y:le[1]}}):oe.emit({originalEvent:F,type:"taphold",position:{x:le[0],y:le[1]}})}},a.tapholdDuration)}fe[0]=fe[2]=le[0],fe[1]=fe[3]=le[1]}},!1),a.registerBinding(o,"mousemove",function(F){var zi;if(a.hoverData.capture||k(F)){var De=!1,le=a.cy,fe=le.zoom(),dt=[F.clientX,F.clientY],me=a.projectIntoViewport(dt[0],dt[1]),ot=a.hoverData.mdownPos,Rt=a.hoverData.mdownGPos,rn=a.selection,Ct=null;!a.hoverData.draggingEles&&!a.hoverData.dragging&&!a.hoverData.selecting&&(Ct=a.findNearestElement(me[0],me[1],!0,!1));var Sr,Kt=a.hoverData.last,It=a.hoverData.down,Pt=[me[0]-rn[2],me[1]-rn[3]],Hn=a.dragData.possibleDragElements;if(Rt){var Si=dt[0]-Rt[0],Fr=dt[1]-Rt[1];a.hoverData.isOverThresholdDrag=Sr=Si*Si+Fr*Fr>=a.desktopTapThreshold2}var Go=d(F);Sr&&(a.hoverData.tapholdCancelled=!0),De=!0,u(Ct,["mousemove","vmousemove","tapdrag"],F,{x:me[0],y:me[1]});var Ja=function(){a.data.bgActivePosistion=void 0,a.hoverData.selecting||le.emit({originalEvent:F,type:"boxstart",position:{x:me[0],y:me[1]}}),rn[4]=1,a.hoverData.selecting=!0,a.redrawHint("select",!0),a.redraw()};if(3===a.hoverData.which){if(Sr){var xa={originalEvent:F,type:"cxtdrag",position:{x:me[0],y:me[1]}};It?It.emit(xa):le.emit(xa),a.hoverData.cxtDragged=!0,(!a.hoverData.cxtOver||Ct!==a.hoverData.cxtOver)&&(a.hoverData.cxtOver&&a.hoverData.cxtOver.emit({originalEvent:F,type:"cxtdragout",position:{x:me[0],y:me[1]}}),a.hoverData.cxtOver=Ct,Ct&&Ct.emit({originalEvent:F,type:"cxtdragover",position:{x:me[0],y:me[1]}}))}}else if(a.hoverData.dragging){if(De=!0,le.panningEnabled()&&le.userPanningEnabled()){var zo;if(a.hoverData.justStartedPan){var tl=a.hoverData.mdownPos;zo={x:(me[0]-tl[0])*fe,y:(me[1]-tl[1])*fe},a.hoverData.justStartedPan=!1}else zo={x:Pt[0]*fe,y:Pt[1]*fe};le.panBy(zo),le.emit("dragpan"),a.hoverData.dragged=!0}me=a.projectIntoViewport(F.clientX,F.clientY)}else if(1!=rn[4]||null!=It&&!It.pannable()){if(It&&It.pannable()&&It.active()&&It.unactivate(),(!It||!It.grabbed())&&Ct!=Kt&&(Kt&&u(Kt,["mouseout","tapdragout"],F,{x:me[0],y:me[1]}),Ct&&u(Ct,["mouseover","tapdragover"],F,{x:me[0],y:me[1]}),a.hoverData.last=Ct),It)if(Sr){if(le.boxSelectionEnabled()&&Go)It&&It.grabbed()&&(M(Hn),It.emit("freeon"),Hn.emit("free"),a.dragData.didDrag&&(It.emit("dragfreeon"),Hn.emit("dragfree"))),Ja();else if(It&&It.grabbed()&&a.nodeIsDraggable(It)){var gi=!a.dragData.didDrag;gi&&a.redrawHint("eles",!0),a.dragData.didDrag=!0,a.hoverData.draggingEles||C(Hn,{inDragLayer:!0});var Wr={x:0,y:0};if(Ge(Pt[0])&&Ge(Pt[1])&&(Wr.x+=Pt[0],Wr.y+=Pt[1],gi)){var Mi=a.hoverData.dragDelta;Mi&&Ge(Mi[0])&&Ge(Mi[1])&&(Wr.x+=Mi[0],Wr.y+=Mi[1])}a.hoverData.draggingEles=!0,Hn.silentShift(Wr).emit("position drag"),a.redrawHint("drag",!0),a.redraw()}}else 0===(zi=a.hoverData.dragDelta=a.hoverData.dragDelta||[]).length?(zi.push(Pt[0]),zi.push(Pt[1])):(zi[0]+=Pt[0],zi[1]+=Pt[1]);De=!0}else Sr&&(a.hoverData.dragging||!le.boxSelectionEnabled()||!Go&&le.panningEnabled()&&le.userPanningEnabled()?!a.hoverData.selecting&&le.panningEnabled()&&le.userPanningEnabled()&&f(It,a.hoverData.downs)&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,rn[4]=0,a.data.bgActivePosistion=_l(ot),a.redrawHint("select",!0),a.redraw()):Ja(),It&&It.pannable()&&It.active()&&It.unactivate());if(rn[2]=me[0],rn[3]=me[1],De)return F.stopPropagation&&F.stopPropagation(),F.preventDefault&&F.preventDefault(),!1}},!1),a.registerBinding(o,"mouseup",function(F){if(a.hoverData.capture){a.hoverData.capture=!1;var De=a.cy,le=a.projectIntoViewport(F.clientX,F.clientY),fe=a.selection,dt=a.findNearestElement(le[0],le[1],!0,!1),me=a.dragData.possibleDragElements,ot=a.hoverData.down,Rt=d(F);if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,ot&&ot.unactivate(),3===a.hoverData.which){var rn={originalEvent:F,type:"cxttapend",position:{x:le[0],y:le[1]}};if(ot?ot.emit(rn):De.emit(rn),!a.hoverData.cxtDragged){var Ct={originalEvent:F,type:"cxttap",position:{x:le[0],y:le[1]}};ot?ot.emit(Ct):De.emit(Ct)}a.hoverData.cxtDragged=!1,a.hoverData.which=null}else if(1===a.hoverData.which){if(u(dt,["mouseup","tapend","vmouseup"],F,{x:le[0],y:le[1]}),!a.dragData.didDrag&&!a.hoverData.dragged&&!a.hoverData.selecting&&!a.hoverData.isOverThresholdDrag&&(u(ot,["click","tap","vclick"],F,{x:le[0],y:le[1]}),U=!1,F.timeStamp-B<=De.multiClickDebounceTime()?(G&&clearTimeout(G),U=!0,B=null,u(ot,["dblclick","dbltap","vdblclick"],F,{x:le[0],y:le[1]})):(G=setTimeout(function(){U||u(ot,["oneclick","onetap","voneclick"],F,{x:le[0],y:le[1]})},De.multiClickDebounceTime()),B=F.timeStamp)),null==ot&&!a.dragData.didDrag&&!a.hoverData.selecting&&!a.hoverData.dragged&&!d(F)&&(De.$(s).unselect(["tapunselect"]),me.length>0&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=me=De.collection()),dt==ot&&!a.dragData.didDrag&&!a.hoverData.selecting&&null!=dt&&dt._private.selectable&&(a.hoverData.dragging||("additive"===De.selectionType()||Rt?dt.selected()?dt.unselect(["tapunselect"]):dt.select(["tapselect"]):Rt||(De.$(s).unmerge(dt).unselect(["tapunselect"]),dt.select(["tapselect"]))),a.redrawHint("eles",!0)),a.hoverData.selecting){var Kt=De.collection(a.getAllInBox(fe[0],fe[1],fe[2],fe[3]));a.redrawHint("select",!0),Kt.length>0&&a.redrawHint("eles",!0),De.emit({type:"boxend",originalEvent:F,position:{x:le[0],y:le[1]}}),"additive"===De.selectionType()||Rt||De.$(s).unmerge(Kt).unselect(),Kt.emit("box").stdFilter(function(Sr){return Sr.selectable()&&!Sr.selected()}).select().emit("boxselect"),a.redraw()}if(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),!fe[4]){a.redrawHint("drag",!0),a.redrawHint("eles",!0);var Pt=ot&&ot.grabbed();M(me),Pt&&(ot.emit("freeon"),me.emit("free"),a.dragData.didDrag&&(ot.emit("dragfreeon"),me.emit("dragfree")))}}fe[4]=0,a.hoverData.down=null,a.hoverData.cxtStarted=!1,a.hoverData.draggingEles=!1,a.hoverData.selecting=!1,a.hoverData.isOverThresholdDrag=!1,a.dragData.didDrag=!1,a.hoverData.dragged=!1,a.hoverData.dragDelta=[],a.hoverData.mdownPos=null,a.hoverData.mdownGPos=null}},!1);var z=function(F){if(!a.scrollingPage){var oe=a.cy,De=oe.zoom(),le=oe.pan(),fe=a.projectIntoViewport(F.clientX,F.clientY),dt=[fe[0]*De+le.x,fe[1]*De+le.y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||0!==a.selection[4])return void F.preventDefault();if(oe.panningEnabled()&&oe.userPanningEnabled()&&oe.zoomingEnabled()&&oe.userZoomingEnabled()){var me;F.preventDefault(),a.data.wheelZooming=!0,clearTimeout(a.data.wheelTimeout),a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1,a.redrawHint("eles",!0),a.redraw()},150),me=null!=F.deltaY?F.deltaY/-250:null!=F.wheelDeltaY?F.wheelDeltaY/1e3:F.wheelDelta/1e3,me*=a.wheelSensitivity,1===F.deltaMode&&(me*=33);var Rt=oe.zoom()*Math.pow(10,me);"gesturechange"===F.type&&(Rt=a.gestureStartZoom*F.scale),oe.zoom({level:Rt,renderedPosition:{x:dt[0],y:dt[1]}}),oe.emit("gesturechange"===F.type?"pinchzoom":"scrollzoom")}}};a.registerBinding(a.container,"wheel",z,!0),a.registerBinding(o,"scroll",function(F){a.scrollingPage=!0,clearTimeout(a.scrollingPageTimeout),a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0),a.registerBinding(a.container,"gesturestart",function(F){a.gestureStartZoom=a.cy.zoom(),a.hasTouchStarted||F.preventDefault()},!0),a.registerBinding(a.container,"gesturechange",function(se){a.hasTouchStarted||z(se)},!0),a.registerBinding(a.container,"mouseout",function(F){var oe=a.projectIntoViewport(F.clientX,F.clientY);a.cy.emit({originalEvent:F,type:"mouseout",position:{x:oe[0],y:oe[1]}})},!1),a.registerBinding(a.container,"mouseover",function(F){var oe=a.projectIntoViewport(F.clientX,F.clientY);a.cy.emit({originalEvent:F,type:"mouseover",position:{x:oe[0],y:oe[1]}})},!1);var H,Q,q,W,ee,ae,he,te,de,ye,we,_e,Ee,Ie,Me,Re,it,St,He,$e,ie=function(F,oe,De,le){return Math.sqrt((De-F)*(De-F)+(le-oe)*(le-oe))},be=function(F,oe,De,le){return(De-F)*(De-F)+(le-oe)*(le-oe)};if(a.registerBinding(a.container,"touchstart",Ie=function(F){if(a.hasTouchStarted=!0,k(F)){O(),a.touchData.capture=!0,a.data.bgActivePosistion=void 0;var oe=a.cy,De=a.touchData.now,le=a.touchData.earlier;if(F.touches[0]){var fe=a.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);De[0]=fe[0],De[1]=fe[1]}if(F.touches[1]&&(fe=a.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY),De[2]=fe[0],De[3]=fe[1]),F.touches[2]&&(fe=a.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY),De[4]=fe[0],De[5]=fe[1]),F.touches[1]){a.touchData.singleTouchMoved=!0,M(a.dragData.touchDragEles);var dt=a.findContainerClientCoords();we=dt[2],_e=dt[3],Q=F.touches[0].clientY-(ye=dt[1]),q=F.touches[1].clientX-(de=dt[0]),W=F.touches[1].clientY-ye,Ee=0<=(H=F.touches[0].clientX-de)&&H<=we&&0<=q&&q<=we&&0<=Q&&Q<=_e&&0<=W&&W<=_e;var me=oe.pan(),ot=oe.zoom();if(ee=ie(H,Q,q,W),ae=be(H,Q,q,W),te=[((he=[(H+q)/2,(Q+W)/2])[0]-me.x)/ot,(he[1]-me.y)/ot],ae<4e4&&!F.touches[2]){var Ct=a.findNearestElement(De[0],De[1],!0,!0),Kt=a.findNearestElement(De[2],De[3],!0,!0);return Ct&&Ct.isNode()?(Ct.activate().emit({originalEvent:F,type:"cxttapstart",position:{x:De[0],y:De[1]}}),a.touchData.start=Ct):Kt&&Kt.isNode()?(Kt.activate().emit({originalEvent:F,type:"cxttapstart",position:{x:De[0],y:De[1]}}),a.touchData.start=Kt):oe.emit({originalEvent:F,type:"cxttapstart",position:{x:De[0],y:De[1]}}),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}}if(F.touches[2])oe.boxSelectionEnabled()&&F.preventDefault();else if(!F.touches[1]&&F.touches[0]){var It=a.findNearestElements(De[0],De[1],!0,!0),Pt=It[0];if(null!=Pt&&(Pt.activate(),a.touchData.start=Pt,a.touchData.starts=It,a.nodeIsGrabbable(Pt))){var Hn=a.dragData.touchDragEles=oe.collection(),Sr=null;a.redrawHint("eles",!0),a.redrawHint("drag",!0),Pt.selected()?(Sr=oe.$(function(ti){return ti.selected()&&a.nodeIsGrabbable(ti)}),C(Sr,{addToList:Hn})):T(Pt,{addToList:Hn}),_(Pt);var Si=function(Go){return{originalEvent:F,type:Go,position:{x:De[0],y:De[1]}}};Pt.emit(Si("grabon")),Sr?Sr.forEach(function(ti){ti.emit(Si("grab"))}):Pt.emit(Si("grab"))}u(Pt,["touchstart","tapstart","vmousedown"],F,{x:De[0],y:De[1]}),null==Pt&&(a.data.bgActivePosistion={x:fe[0],y:fe[1]},a.redrawHint("select",!0),a.redraw()),a.touchData.singleTouchMoved=!1,a.touchData.singleTouchStartTime=+new Date,clearTimeout(a.touchData.tapholdTimeout),a.touchData.tapholdTimeout=setTimeout(function(){!1===a.touchData.singleTouchMoved&&!a.pinching&&!a.touchData.selecting&&u(a.touchData.start,["taphold"],F,{x:De[0],y:De[1]})},a.tapholdDuration)}if(F.touches.length>=1){for(var ei=a.touchData.startPosition=[null,null,null,null,null,null],Fr=0;Fr<De.length;Fr++)ei[Fr]=le[Fr]=De[Fr];var Ti=F.touches[0];a.touchData.startGPosition=[Ti.clientX,Ti.clientY]}}},!1),a.registerBinding(window,"touchmove",Me=function(F){var oe=a.touchData.capture;if(oe||k(F)){var De=a.selection,le=a.cy,fe=a.touchData.now,dt=a.touchData.earlier,me=le.zoom();if(F.touches[0]){var ot=a.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);fe[0]=ot[0],fe[1]=ot[1]}F.touches[1]&&(ot=a.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY),fe[2]=ot[0],fe[3]=ot[1]),F.touches[2]&&(ot=a.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY),fe[4]=ot[0],fe[5]=ot[1]);var rn,Rt=a.touchData.startGPosition;if(oe&&F.touches[0]&&Rt){for(var Ct=[],Kt=0;Kt<fe.length;Kt++)Ct[Kt]=fe[Kt]-dt[Kt];var It=F.touches[0].clientX-Rt[0],Hn=F.touches[0].clientY-Rt[1];rn=It*It+Hn*Hn>=a.touchTapThreshold2}if(oe&&a.touchData.cxt){F.preventDefault();var Go=be(ei=F.touches[0].clientX-de,Fr=F.touches[0].clientY-ye,Ti=F.touches[1].clientX-de,ti=F.touches[1].clientY-ye);if(Go/ae>=2.25||Go>=22500){a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Gi={originalEvent:F,type:"cxttapend",position:{x:fe[0],y:fe[1]}};a.touchData.start?(a.touchData.start.unactivate().emit(Gi),a.touchData.start=null):le.emit(Gi)}}if(oe&&a.touchData.cxt){Gi={originalEvent:F,type:"cxtdrag",position:{x:fe[0],y:fe[1]}},a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.touchData.start?a.touchData.start.emit(Gi):le.emit(Gi),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxtDragged=!0;var gi=a.findNearestElement(fe[0],fe[1],!0,!0);(!a.touchData.cxtOver||gi!==a.touchData.cxtOver)&&(a.touchData.cxtOver&&a.touchData.cxtOver.emit({originalEvent:F,type:"cxtdragout",position:{x:fe[0],y:fe[1]}}),a.touchData.cxtOver=gi,gi&&gi.emit({originalEvent:F,type:"cxtdragover",position:{x:fe[0],y:fe[1]}}))}else if(oe&&F.touches[2]&&le.boxSelectionEnabled())F.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||le.emit({originalEvent:F,type:"boxstart",position:{x:fe[0],y:fe[1]}}),a.touchData.selecting=!0,a.touchData.didSelect=!0,De[4]=1,De&&0!==De.length&&void 0!==De[0]?(De[2]=(fe[0]+fe[2]+fe[4])/3,De[3]=(fe[1]+fe[3]+fe[5])/3):(De[0]=(fe[0]+fe[2]+fe[4])/3,De[1]=(fe[1]+fe[3]+fe[5])/3,De[2]=(fe[0]+fe[2]+fe[4])/3+1,De[3]=(fe[1]+fe[3]+fe[5])/3+1),a.redrawHint("select",!0),a.redraw();else if(oe&&F.touches[1]&&!a.touchData.didSelect&&le.zoomingEnabled()&&le.panningEnabled()&&le.userZoomingEnabled()&&le.userPanningEnabled()){if(F.preventDefault(),a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),Wr=a.dragData.touchDragEles){a.redrawHint("drag",!0);for(var Mi=0;Mi<Wr.length;Mi++){var Nc=Wr[Mi]._private;Nc.grabbed=!1,Nc.rscratch.inDragLayer=!1}}var ei,Fr,Ti,ti,zi=a.touchData.start,Xg=ie(ei=F.touches[0].clientX-de,Fr=F.touches[0].clientY-ye,Ti=F.touches[1].clientX-de,ti=F.touches[1].clientY-ye),nl=Xg/ee;if(Ee){var tv=(ei-H+(Ti-q))/2,nv=(Fr-Q+(ti-W))/2,Ql=le.zoom(),Uf=Ql*nl,Ac=le.pan(),rv=te[0]*Ql+Ac.x,iv=te[1]*Ql+Ac.y,Na={x:-Uf/Ql*(rv-Ac.x-tv)+rv,y:-Uf/Ql*(iv-Ac.y-nv)+iv};zi&&zi.active()&&(M(Wr=a.dragData.touchDragEles),a.redrawHint("drag",!0),a.redrawHint("eles",!0),zi.unactivate().emit("freeon"),Wr.emit("free"),a.dragData.didDrag&&(zi.emit("dragfreeon"),Wr.emit("dragfree"))),le.viewport({zoom:Uf,pan:Na,cancelOnFailedZoom:!0}),le.emit("pinchzoom"),ee=Xg,H=ei,Q=Fr,q=Ti,W=ti,a.pinching=!0}F.touches[0]&&(ot=a.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY),fe[0]=ot[0],fe[1]=ot[1]),F.touches[1]&&(ot=a.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY),fe[2]=ot[0],fe[3]=ot[1]),F.touches[2]&&(ot=a.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY),fe[4]=ot[0],fe[5]=ot[1])}else if(F.touches[0]&&!a.touchData.didSelect){var ni=a.touchData.start,Gf=a.touchData.last;if(!a.hoverData.draggingEles&&!a.swipePanning&&(gi=a.findNearestElement(fe[0],fe[1],!0,!0)),oe&&null!=ni&&F.preventDefault(),oe&&null!=ni&&a.nodeIsDraggable(ni))if(rn){var Wr=a.dragData.touchDragEles,H0=!a.dragData.didDrag;H0&&C(Wr,{inDragLayer:!0}),a.dragData.didDrag=!0;var Rc={x:0,y:0};Ge(Ct[0])&&Ge(Ct[1])&&(Rc.x+=Ct[0],Rc.y+=Ct[1],H0)&&(a.redrawHint("eles",!0),(Eo=a.touchData.dragDelta)&&Ge(Eo[0])&&Ge(Eo[1])&&(Rc.x+=Eo[0],Rc.y+=Eo[1])),a.hoverData.draggingEles=!0,Wr.silentShift(Rc).emit("position drag"),a.redrawHint("drag",!0),a.touchData.startPosition[0]==dt[0]&&a.touchData.startPosition[1]==dt[1]&&a.redrawHint("eles",!0),a.redraw()}else{var Eo;0===(Eo=a.touchData.dragDelta=a.touchData.dragDelta||[]).length?(Eo.push(Ct[0]),Eo.push(Ct[1])):(Eo[0]+=Ct[0],Eo[1]+=Ct[1])}if(u(ni||gi,["touchmove","tapdrag","vmousemove"],F,{x:fe[0],y:fe[1]}),(!ni||!ni.grabbed())&&gi!=Gf&&(Gf&&Gf.emit({originalEvent:F,type:"tapdragout",position:{x:fe[0],y:fe[1]}}),gi&&gi.emit({originalEvent:F,type:"tapdragover",position:{x:fe[0],y:fe[1]}})),a.touchData.last=gi,oe)for(Mi=0;Mi<fe.length;Mi++)fe[Mi]&&a.touchData.startPosition[Mi]&&rn&&(a.touchData.singleTouchMoved=!0);oe&&(null==ni||ni.pannable())&&le.panningEnabled()&&le.userPanningEnabled()&&(f(ni,a.touchData.starts)&&(F.preventDefault(),a.data.bgActivePosistion||(a.data.bgActivePosistion=_l(a.touchData.startPosition)),a.swipePanning?(le.panBy({x:Ct[0]*me,y:Ct[1]*me}),le.emit("dragpan")):rn&&(a.swipePanning=!0,le.panBy({x:It*me,y:Hn*me}),le.emit("dragpan"),ni&&(ni.unactivate(),a.redrawHint("select",!0),a.touchData.start=null))),ot=a.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY),fe[0]=ot[0],fe[1]=ot[1])}for(Kt=0;Kt<fe.length;Kt++)dt[Kt]=fe[Kt];oe&&F.touches.length>0&&!a.hoverData.draggingEles&&!a.swipePanning&&null!=a.data.bgActivePosistion&&(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.redraw())}},!1),a.registerBinding(o,"touchcancel",Re=function(F){var oe=a.touchData.start;a.touchData.capture=!1,oe&&oe.unactivate()}),a.registerBinding(o,"touchend",it=function(F){var oe=a.touchData.start;if(a.touchData.capture){0===F.touches.length&&(a.touchData.capture=!1),F.preventDefault();var le=a.selection;a.swipePanning=!1,a.hoverData.draggingEles=!1;var rn,fe=a.cy,dt=fe.zoom(),me=a.touchData.now,ot=a.touchData.earlier;if(F.touches[0]){var Rt=a.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);me[0]=Rt[0],me[1]=Rt[1]}if(F.touches[1]&&(Rt=a.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY),me[2]=Rt[0],me[3]=Rt[1]),F.touches[2]&&(Rt=a.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY),me[4]=Rt[0],me[5]=Rt[1]),oe&&oe.unactivate(),a.touchData.cxt){if(rn={originalEvent:F,type:"cxttapend",position:{x:me[0],y:me[1]}},oe?oe.emit(rn):fe.emit(rn),!a.touchData.cxtDragged){var Ct={originalEvent:F,type:"cxttap",position:{x:me[0],y:me[1]}};oe?oe.emit(Ct):fe.emit(Ct)}return a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw()}if(!F.touches[2]&&fe.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;var Kt=fe.collection(a.getAllInBox(le[0],le[1],le[2],le[3]));le[0]=void 0,le[1]=void 0,le[2]=void 0,le[3]=void 0,le[4]=0,a.redrawHint("select",!0),fe.emit({type:"boxend",originalEvent:F,position:{x:me[0],y:me[1]}}),Kt.emit("box").stdFilter(function(xa){return xa.selectable()&&!xa.selected()}).select().emit("boxselect"),Kt.nonempty()&&a.redrawHint("eles",!0),a.redraw()}if(oe?.unactivate(),F.touches[2])a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);else if(!F.touches[1]&&!F.touches[0]&&!F.touches[0]){a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Pt=a.dragData.touchDragEles;if(null!=oe){var Hn=oe._private.grabbed;M(Pt),a.redrawHint("drag",!0),a.redrawHint("eles",!0),Hn&&(oe.emit("freeon"),Pt.emit("free"),a.dragData.didDrag&&(oe.emit("dragfreeon"),Pt.emit("dragfree"))),u(oe,["touchend","tapend","vmouseup","tapdragout"],F,{x:me[0],y:me[1]}),oe.unactivate(),a.touchData.start=null}else{var Sr=a.findNearestElement(me[0],me[1],!0,!0);u(Sr,["touchend","tapend","vmouseup","tapdragout"],F,{x:me[0],y:me[1]})}var Si=a.touchData.startPosition[0]-me[0],Fr=a.touchData.startPosition[1]-me[1],Go=(Si*Si+Fr*Fr)*dt*dt;a.touchData.singleTouchMoved||(oe||fe.$(":selected").unselect(["tapunselect"]),u(oe,["tap","vclick"],F,{x:me[0],y:me[1]}),St=!1,F.timeStamp-$e<=fe.multiClickDebounceTime()?(He&&clearTimeout(He),St=!0,$e=null,u(oe,["dbltap","vdblclick"],F,{x:me[0],y:me[1]})):(He=setTimeout(function(){St||u(oe,["onetap","voneclick"],F,{x:me[0],y:me[1]})},fe.multiClickDebounceTime()),$e=F.timeStamp)),null!=oe&&!a.dragData.didDrag&&oe._private.selectable&&Go<a.touchTapThreshold2&&!a.pinching&&("single"===fe.selectionType()?(fe.$(s).unmerge(oe).unselect(["tapunselect"]),oe.select(["tapselect"])):oe.selected()?oe.unselect(["tapunselect"]):oe.select(["tapselect"]),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved=!0}for(var Ia=0;Ia<me.length;Ia++)ot[Ia]=me[Ia];a.dragData.didDrag=!1,0===F.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=[null,null,null,null,null,null],a.touchData.startGPosition=null,a.touchData.didSelect=!1),F.touches.length<2&&(1===F.touches.length&&(a.touchData.startGPosition=[F.touches[0].clientX,F.touches[0].clientY]),a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),typeof TouchEvent>"u"){var lt=[],ut=function(F){return{clientX:F.clientX,clientY:F.clientY,force:1,identifier:F.pointerId,pageX:F.pageX,pageY:F.pageY,radiusX:F.width/2,radiusY:F.height/2,screenX:F.screenX,screenY:F.screenY,target:F.target}},Zt=function(F){for(var oe=0;oe<lt.length;oe++)if(lt[oe].event.pointerId===F.pointerId)return void lt.splice(oe,1)},Tt=function(F){F.touches=lt.map(function(oe){return oe.touch})},Mt=function(F){return"mouse"===F.pointerType||4===F.pointerType};a.registerBinding(a.container,"pointerdown",function(se){Mt(se)||(se.preventDefault(),lt.push(function(F){return{event:F,touch:ut(F)}}(se)),Tt(se),Ie(se))}),a.registerBinding(a.container,"pointerup",function(se){Mt(se)||(Zt(se),Tt(se),it(se))}),a.registerBinding(a.container,"pointercancel",function(se){Mt(se)||(Zt(se),Tt(se),Re())}),a.registerBinding(a.container,"pointermove",function(se){var F,oe;Mt(se)||(se.preventDefault(),F=se,(oe=lt.filter(function(De){return De.event.pointerId===F.pointerId})[0]).event=F,oe.touch=ut(F),Tt(se),Me(se))})}};var wo={generatePolygon:function(a,o){return this.nodeShapes[a]={renderer:this,name:a,points:o,draw:function(u,d,f,h,g){this.renderer.nodeShapeImpl("polygon",u,d,f,h,g,this.points)},intersectLine:function(u,d,f,h,g,m,v){return gn(g,m,this.points,u,d,f/2,h/2,v)},checkPoint:function(u,d,f,h,g,m,v){return Ji(u,d,this.points,m,v,h,g,[0,-1],f)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,s,u,d,f){this.renderer.nodeShapeImpl(this.name,o,s,u,d,f)},intersectLine:function(o,s,u,d,f,h,g){return function(o,s,u,d,f,h){var g=u-o,m=d-s;g/=f,m/=h;var v=Math.sqrt(g*g+m*m),_=v-1;if(_<0)return[];var b=_/v;return[(u-o)*b+o,(d-s)*b+s]}(f,h,o,s,u/2+g,d/2+g)},checkPoint:function(o,s,u,d,f,h,g){return ca(o,s,d,f,h,g,u)}}},generateRoundPolygon:function(a,o){for(var s=new Array(2*o.length),u=0;u<o.length/2;u++){var f,d=2*u;f=u<o.length/2-1?2*(u+1):0,s[4*u]=o[d],s[4*u+1]=o[d+1];var h=o[f]-o[d],g=o[f+1]-o[d+1],m=Math.sqrt(h*h+g*g);s[4*u+2]=h/m,s[4*u+3]=g/m}return this.nodeShapes[a]={renderer:this,name:a,points:s,draw:function(_,b,D,E,C){this.renderer.nodeShapeImpl("round-polygon",_,b,D,E,C,this.points)},intersectLine:function(_,b,D,E,C,T,M){return function(o,s,u,d,f,h,g,m){for(var _,v=[],b=new Array(u.length),D=h/2,E=g/2,C=Cl(h,g),T=0;T<u.length/4;T++){var I,M;M=0===T?u.length-2:4*T-2,I=4*T+2;var O=d+D*u[4*T],N=f+E*u[4*T+1],V=C/Math.tan(Math.acos(-u[M]*u[I]-u[M+1]*u[I+1])/2),j=O-V*u[M],P=N-V*u[M+1],$=O+V*u[I],k=N+V*u[I+1];0===T?(b[u.length-2]=j,b[u.length-1]=P):(b[4*T-2]=j,b[4*T-1]=P),b[4*T]=$,b[4*T+1]=k;var G=u[M+1],U=-u[M];G*u[I]+U*u[I+1]<0&&(G*=-1,U*=-1),0!==(_=yr(o,s,d,f,j+G*C,P+U*C,C)).length&&v.push(_[0],_[1])}for(var Q=0;Q<b.length/4;Q++)0!==(_=$a(o,s,d,f,b[4*Q],b[4*Q+1],b[4*Q+2],b[4*Q+3],!1)).length&&v.push(_[0],_[1]);if(v.length>2){for(var q=[v[0],v[1]],W=Math.pow(q[0]-o,2)+Math.pow(q[1]-s,2),ee=1;ee<v.length/2;ee++){var ae=Math.pow(v[2*ee]-o,2)+Math.pow(v[2*ee+1]-s,2);ae<=W&&(q[0]=v[2*ee],q[1]=v[2*ee+1],W=ae)}return q}return v}(C,T,this.points,_,b,D,E)},checkPoint:function(_,b,D,E,C,T,M){return function(o,s,u,d,f,h,g){for(var m=new Array(u.length),v=h/2,_=g/2,b=Cl(h,g),D=b*b,E=0;E<u.length/4;E++){var T,C;C=0===E?u.length-2:4*E-2,T=4*E+2;var M=d+v*u[4*E],I=f+_*u[4*E+1],N=b/Math.tan(Math.acos(-u[C]*u[T]-u[C+1]*u[T+1])/2),R=M-N*u[C],V=I-N*u[C+1],j=M+N*u[T],P=I+N*u[T+1];m[4*E]=R,m[4*E+1]=V,m[4*E+2]=j,m[4*E+3]=P;var $=u[C+1],k=-u[C];$*u[T]+k*u[T+1]<0&&($*=-1,k*=-1);var B=V+k*b;if(Math.pow(R+$*b-o,2)+Math.pow(B-s,2)<=D)return!0}return xr(o,s,m)}(_,b,this.points,T,M,E,C)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:We(4,0),draw:function(o,s,u,d,f){this.renderer.nodeShapeImpl(this.name,o,s,u,d,f)},intersectLine:function(o,s,u,d,f,h,g){return xy(f,h,o,s,u,d,g)},checkPoint:function(o,s,u,d,f,h,g){var m=Cs(d,f),v=2*m;return!!(Ji(o,s,this.points,h,g,d,f-v,[0,-1],u)||Ji(o,s,this.points,h,g,d-v,f,[0,-1],u)||ca(o,s,v,v,h-d/2+m,g-f/2+m,u)||ca(o,s,v,v,h+d/2-m,g-f/2+m,u)||ca(o,s,v,v,h+d/2-m,g+f/2-m,u)||ca(o,s,v,v,h-d/2+m,g+f/2-m,u))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:We(4,0),draw:function(o,s,u,d,f){this.renderer.nodeShapeImpl(this.name,o,s,u,d,f)},generateCutTrianglePts:function(o,s,u,d){var f=this.cornerLength,h=s/2,g=o/2,m=u-g,v=u+g,_=d-h,b=d+h;return{topLeft:[m,_+f,m+f,_,m+f,_+f],topRight:[v-f,_,v,_+f,v-f,_+f],bottomRight:[v,b-f,v-f,b,v-f,b-f],bottomLeft:[m+f,b,m,b-f,m+f,b-f]}},intersectLine:function(o,s,u,d,f,h,g){var m=this.generateCutTrianglePts(u+2*g,d+2*g,o,s),v=[].concat.apply([],[m.topLeft.splice(0,4),m.topRight.splice(0,4),m.bottomRight.splice(0,4),m.bottomLeft.splice(0,4)]);return gn(f,h,v,o,s)},checkPoint:function(o,s,u,d,f,h,g){if(Ji(o,s,this.points,h,g,d,f-2*this.cornerLength,[0,-1],u)||Ji(o,s,this.points,h,g,d-2*this.cornerLength,f,[0,-1],u))return!0;var m=this.generateCutTrianglePts(d,f,h,g);return xr(o,s,m.topLeft)||xr(o,s,m.topRight)||xr(o,s,m.bottomRight)||xr(o,s,m.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:We(4,0),draw:function(o,s,u,d,f){this.renderer.nodeShapeImpl(this.name,o,s,u,d,f)},intersectLine:function(o,s,u,d,f,h,g){var b=this.generateBarrelBezierPts(u+2*g,d+2*g,o,s),D=function(T){var M=bl({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.15),I=bl({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.5),O=bl({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.85);return[T[0],T[1],M.x,M.y,I.x,I.y,O.x,O.y,T[4],T[5]]},E=[].concat(D(b.topLeft),D(b.topRight),D(b.bottomRight),D(b.bottomLeft));return gn(f,h,E,o,s)},generateBarrelBezierPts:function(o,s,u,d){var f=s/2,h=o/2,g=u-h,m=u+h,v=d-f,_=d+f,b=Bp(o,s),D=b.heightOffset,E=b.widthOffset,C=b.ctrlPtOffsetPct*o,T={topLeft:[g,v+D,g+C,v,g+E,v],topRight:[m-E,v,m-C,v,m,v+D],bottomRight:[m,_-D,m-C,_,m-E,_],bottomLeft:[g+E,_,g+C,_,g,_-D]};return T.topLeft.isTop=!0,T.topRight.isTop=!0,T.bottomLeft.isBottom=!0,T.bottomRight.isBottom=!0,T},checkPoint:function(o,s,u,d,f,h,g){var m=Bp(d,f),_=m.widthOffset;if(Ji(o,s,this.points,h,g,d,f-2*m.heightOffset,[0,-1],u)||Ji(o,s,this.points,h,g,d-2*_,f,[0,-1],u))return!0;for(var b=this.generateBarrelBezierPts(d,f,h,g),D=function(P,$,k){var G=k[4],U=k[2],B=k[0],z=k[5],H=k[1],Q=Math.min(G,B),q=Math.max(G,B),W=Math.min(z,H),ee=Math.max(z,H);if(Q<=P&&P<=q&&W<=$&&$<=ee){var ae=function(o,s,u){return[o-2*s+u,2*(s-o),o]}(G,U,B),he=function(o,s,u,d){var f=s*s-4*o*(u-=d);if(f<0)return[];var h=Math.sqrt(f),g=2*o;return[(-s+h)/g,(-s-h)/g]}(ae[0],ae[1],ae[2],P),te=he.filter(function(de){return 0<=de&&de<=1});if(te.length>0)return te[0]}return null},E=Object.keys(b),C=0;C<E.length;C++){var M=b[E[C]],I=D(o,s,M);if(null!=I){var V=mr(M[5],M[3],M[1],I);if(M.isTop&&V<=s||M.isBottom&&s<=V)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:We(4,0),draw:function(o,s,u,d,f){this.renderer.nodeShapeImpl(this.name,o,s,u,d,f)},intersectLine:function(o,s,u,d,f,h,g){var v=s-(d/2+g),D=$a(f,h,o,s,o-(u/2+g),v,o+(u/2+g),v,!1);return D.length>0?D:xy(f,h,o,s,u,d,g)},checkPoint:function(o,s,u,d,f,h,g){var m=Cs(d,f),v=2*m;if(Ji(o,s,this.points,h,g,d,f-v,[0,-1],u)||Ji(o,s,this.points,h,g,d-v,f,[0,-1],u))return!0;var _=d/2+2*u,b=f/2+2*u;return!!(xr(o,s,[h-_,g-b,h-_,g,h+_,g,h+_,g-b])||ca(o,s,v,v,h+d/2-m,g+f/2-m,u)||ca(o,s,v,v,h-d/2+m,g+f/2-m,u))}}},registerNodeShapes:function(){var a=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",We(3,0)),this.generateRoundPolygon("round-triangle",We(3,0)),this.generatePolygon("rectangle",We(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var s=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",s),this.generateRoundPolygon("round-diamond",s),this.generatePolygon("pentagon",We(5,0)),this.generateRoundPolygon("round-pentagon",We(5,0)),this.generatePolygon("hexagon",We(6,0)),this.generateRoundPolygon("round-hexagon",We(6,0)),this.generatePolygon("heptagon",We(7,0)),this.generateRoundPolygon("round-heptagon",We(7,0)),this.generatePolygon("octagon",We(8,0)),this.generateRoundPolygon("round-octagon",We(8,0));var u=new Array(20),d=Dl(5,0),f=Dl(5,Math.PI/5),h=.5*(3-Math.sqrt(5));h*=1.57;for(var g=0;g<f.length/2;g++)f[2*g]*=h,f[2*g+1]*=h;for(g=0;g<5;g++)u[4*g]=d[2*g],u[4*g+1]=d[2*g+1],u[4*g+2]=f[2*g],u[4*g+3]=f[2*g+1];u=Uu(u),this.generatePolygon("star",u),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var m=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",m),this.generateRoundPolygon("round-tag",m),a.makePolygon=function(v){var D,b="polygon-"+v.join("$");return(D=this[b])?D:o.generatePolygon(b,v)}}},zs={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(a){a=a||Au();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=a},beforeRender:function(a,o){if(!this.destroyed){null==o&&fn("Priority is not optional for beforeRender");var s=this.beforeRenderCallbacks;s.push({fn:a,priority:o}),s.sort(function(u,d){return d.priority-u.priority})}}},Ws=function(o,s,u){for(var d=o.beforeRenderCallbacks,f=0;f<d.length;f++)d[f].fn(s,u)};zs.startRenderLoop=function(){var a=this,o=a.cy;a.renderLoopStarted||(a.renderLoopStarted=!0,Iu(function u(d){if(!a.destroyed){if(!o.batching())if(a.requestedFrame&&!a.skipFrame){Ws(a,!0,d);var f=Po();a.render(a.renderOptions);var h=a.lastDrawTime=Po();void 0===a.averageRedrawTime&&(a.averageRedrawTime=h-f),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var g=h-f;a.redrawTotalTime+=g,a.lastRedrawTime=g,a.averageRedrawTime=a.averageRedrawTime/2+g/2,a.requestedFrame=!1}else Ws(a,!1,d);a.skipFrame=!1,Iu(u)}}))};var Gr=function(o){this.init(o)},qs=Gr.prototype;qs.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],qs.init=function(a){var o=this;o.options=a,o.cy=a.cy;var s=o.container=a.cy.container(),u=o.cy.window();if(u){var d=u.document,f=d.head,h="__________cytoscape_stylesheet",g="__________cytoscape_container",m=null!=d.getElementById(h);if(s.className.indexOf(g)<0&&(s.className=(s.className||"")+" "+g),!m){var v=d.createElement("style");v.id=h,v.textContent="."+g+" { position: relative; }",f.insertBefore(v,f.children[0])}"static"===u.getComputedStyle(s).getPropertyValue("position")&&bt("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=a.showFps,o.debug=a.debug,o.hideEdgesOnViewport=a.hideEdgesOnViewport,o.textureOnViewport=a.textureOnViewport,o.wheelSensitivity=a.wheelSensitivity,o.motionBlurEnabled=a.motionBlur,o.forcedPixelRatio=Ge(a.pixelRatio)?a.pixelRatio:null,o.motionBlur=a.motionBlur,o.motionBlurOpacity=a.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=a.desktopTapThreshold,o.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,o.touchTapThreshold=a.touchTapThreshold,o.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},qs.notify=function(a,o){var s=this,u=s.cy;if(!this.destroyed){if("init"===a)return void s.load();if("destroy"===a)return void s.destroy();("add"===a||"remove"===a||"move"===a&&u.hasCompoundNodes()||"load"===a||"zorder"===a||"mount"===a)&&s.invalidateCachedZSortedEles(),"viewport"===a&&s.redrawHint("select",!0),("load"===a||"resize"===a||"mount"===a)&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container)),s.redrawHint("eles",!0),s.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},qs.destroy=function(){var a=this;a.destroyed=!0,a.cy.stopAnimationLoop();for(var o=0;o<a.bindings.length;o++){var s=a.bindings[o],d=s.target;(d.off||d.removeEventListener).apply(d,s.args)}if(a.bindings=[],a.beforeRenderCallbacks=[],a.onUpdateEleCalcsFns=[],a.removeObserver&&a.removeObserver.disconnect(),a.styleObserver&&a.styleObserver.disconnect(),a.resizeObserver&&a.resizeObserver.disconnect(),a.labelCalcDiv)try{document.body.removeChild(a.labelCalcDiv)}catch{}},qs.isHeadless=function(){return!1},[Lg,Wl,Da,Gs,wo,zs].forEach(function(a){mt(qs,a)});var Wn=1e3/60,yc_setupDequeueing=function(o){return function(){var u=this,d=this.renderer;if(!u.dequeueingSetup){u.dequeueingSetup=!0;var f=Ue.default(function(){d.redrawHint("eles",!0),d.redrawHint("drag",!0),d.redraw()},o.deqRedrawThreshold);d.beforeRender(function(v,_){var b=Po(),D=d.averageRedrawTime,E=d.lastRedrawTime,C=[],T=d.cy.extent(),M=d.getPixelRatio();for(v||d.flushRenderedStyleQueue();;){var I=Po(),O=I-b,N=I-_;if(E<Wn){if(N>=o.deqFastCost*(Wn-(v?D:0)))break}else if(v){if(O>=o.deqCost*E||O>=o.deqAvgCost*D)break}else if(N>=o.deqNoDrawCost*Wn)break;var V=o.deq(u,M,T);if(!(V.length>0))break;for(var j=0;j<V.length;j++)C.push(V[j])}C.length>0&&(o.onDeqd(u,C),!v&&o.shouldRedraw(u,C,M,T)&&f())},(o.priority||Hd)(u))}}},S0=function(){function a(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yl;gr(this,a),this.idsByKey=new po,this.keyForId=new po,this.cachesByLvl=new po,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=s}return Dn(a,[{key:"getIdsFor",value:function(s){null==s&&fn("Can not get id list for null key");var u=this.idsByKey,d=this.idsByKey.get(s);return d||(d=new bs,u.set(s,d)),d}},{key:"addIdForKey",value:function(s,u){null!=s&&this.getIdsFor(s).add(u)}},{key:"deleteIdForKey",value:function(s,u){null!=s&&this.getIdsFor(s).delete(u)}},{key:"getNumberOfIdsForKey",value:function(s){return null==s?0:this.getIdsFor(s).size}},{key:"updateKeyMappingFor",value:function(s){var u=s.id(),d=this.keyForId.get(u),f=this.getKey(s);this.deleteIdForKey(d,u),this.addIdForKey(f,u),this.keyForId.set(u,f)}},{key:"deleteKeyMappingFor",value:function(s){var u=s.id(),d=this.keyForId.get(u);this.deleteIdForKey(d,u),this.keyForId.delete(u)}},{key:"keyHasChangedFor",value:function(s){var u=s.id();return this.keyForId.get(u)!==this.getKey(s)}},{key:"isInvalid",value:function(s){return this.keyHasChangedFor(s)||this.doesEleInvalidateKey(s)}},{key:"getCachesAt",value:function(s){var u=this.cachesByLvl,d=this.lvls,f=u.get(s);return f||(f=new po,u.set(s,f),d.push(s)),f}},{key:"getCache",value:function(s,u){return this.getCachesAt(u).get(s)}},{key:"get",value:function(s,u){var d=this.getKey(s),f=this.getCache(d,u);return null!=f&&this.updateKeyMappingFor(s),f}},{key:"getForCachedKey",value:function(s,u){var d=this.keyForId.get(s.id());return this.getCache(d,u)}},{key:"hasCache",value:function(s,u){return this.getCachesAt(u).has(s)}},{key:"has",value:function(s,u){var d=this.getKey(s);return this.hasCache(d,u)}},{key:"setCache",value:function(s,u,d){d.key=s,this.getCachesAt(u).set(s,d)}},{key:"set",value:function(s,u,d){var f=this.getKey(s);this.setCache(f,u,d),this.updateKeyMappingFor(s)}},{key:"deleteCache",value:function(s,u){this.getCachesAt(u).delete(s)}},{key:"delete",value:function(s,u){var d=this.getKey(s);this.deleteCache(d,u)}},{key:"invalidateKey",value:function(s){var u=this;this.lvls.forEach(function(d){return u.deleteCache(s,d)})}},{key:"invalidate",value:function(s){var u=s.id(),d=this.keyForId.get(u);this.deleteKeyMappingFor(s);var f=this.doesEleInvalidateKey(s);return f&&this.invalidateKey(d),f||0===this.getNumberOfIdsForKey(d)}}]),a}(),Qs={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},fr=rr({getKey:null,doesEleInvalidateKey:yl,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Dp,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ql=function(o,s){var u=this;u.renderer=o,u.onDequeues=[];var d=fr(s);mt(u,d),u.lookup=new S0(d.getKey,d.doesEleInvalidateKey),u.setupDequeueing()},qn=ql.prototype;qn.reasons=Qs,qn.getTextureQueue=function(a){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[a]=o.eleImgCaches[a]||[]},qn.getRetiredTextureQueue=function(a){var s=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return s[a]=s[a]||[]},qn.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new tt.default(function(s,u){return u.reqs-s.reqs})},qn.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},qn.getElement=function(a,o,s,u,d){var f=this,h=this.renderer,g=h.cy.zoom(),m=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!a.visible()||a.removed()||!f.allowEdgeTxrCaching&&a.isEdge()||!f.allowParentTxrCaching&&a.isParent())return null;if(null==u&&(u=Math.ceil(Ap(g*s))),u<-4)u=-4;else if(g>=7.99||u>3)return null;var v=Math.pow(2,u),_=o.h*v,b=o.w*v,D=h.eleTextBiggerThanMin(a,v);if(!this.isVisible(a,D))return null;var C,E=m.get(a,u);if(E&&E.invalidated&&(E.invalidated=!1,E.texture.invalidatedWidth-=E.width),E)return E;if(C=_<=25?25:_<=50?50:50*Math.ceil(_/50),_>1024||b>1024)return null;var T=f.getTextureQueue(C),M=T[T.length-2],I=function(){return f.recycleTexture(C,b)||f.addTexture(C,b)};M||(M=T[T.length-1]),M||(M=I()),M.width-M.usedWidth<b&&(M=I());for(var j,O=function(q){return q&&q.scaledLabelShown===D},N=d&&d===Qs.dequeue,R=d&&d===Qs.highQuality,V=d&&d===Qs.downscale,P=u+1;P<=3;P++){var $=m.get(a,P);if($){j=$;break}}var k=j&&j.level===u+1?j:null,G=function(){M.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,M.usedWidth,0,b,_)};if(M.context.setTransform(1,0,0,1,0,0),M.context.clearRect(M.usedWidth,0,b,C),O(k))G();else if(O(j)){if(!R)return f.queueElement(a,j.level-1),j;for(var U=j.level;U>u;U--)k=f.getElement(a,o,s,U,Qs.downscale);G()}else{var B;if(!N&&!R&&!V)for(var z=u-1;z>=-4;z--){var H=m.get(a,z);if(H){B=H;break}}if(O(B))return f.queueElement(a,u),B;M.context.translate(M.usedWidth,0),M.context.scale(v,v),this.drawElement(M.context,a,o,D,!1),M.context.scale(1/v,1/v),M.context.translate(-M.usedWidth,0)}return E={x:M.usedWidth,texture:M,level:u,scale:v,width:b,height:_,scaledLabelShown:D},M.usedWidth+=Math.ceil(b+8),M.eleCaches.push(E),m.set(a,u,E),f.checkTextureFullness(M),E},qn.invalidateElements=function(a){for(var o=0;o<a.length;o++)this.invalidateElement(a[o])},qn.invalidateElement=function(a){var o=this,s=o.lookup,u=[];if(s.isInvalid(a)){for(var f=-4;f<=3;f++){var h=s.getForCachedKey(a,f);h&&u.push(h)}if(s.invalidate(a))for(var m=0;m<u.length;m++){var v=u[m],_=v.texture;_.invalidatedWidth+=v.width,v.invalidated=!0,o.checkTextureUtility(_)}o.removeFromQueue(a)}},qn.checkTextureUtility=function(a){a.invalidatedWidth>=.2*a.width&&this.retireTexture(a)},qn.checkTextureFullness=function(a){var s=this.getTextureQueue(a.height);a.usedWidth/a.width>.8&&a.fullnessChecks>=10?Pi(s,a):a.fullnessChecks++},qn.retireTexture=function(a){var s=a.height,u=this.getTextureQueue(s),d=this.lookup;Pi(u,a),a.retired=!0;for(var f=a.eleCaches,h=0;h<f.length;h++){var g=f[h];d.deleteCache(g.key,g.level)}$d(f),this.getRetiredTextureQueue(s).push(a)},qn.addTexture=function(a,o){var d={};return this.getTextureQueue(a).push(d),d.eleCaches=[],d.height=a,d.width=Math.max(1024,o),d.usedWidth=0,d.invalidatedWidth=0,d.fullnessChecks=0,d.canvas=this.renderer.makeOffscreenCanvas(d.width,d.height),d.context=d.canvas.getContext("2d"),d},qn.recycleTexture=function(a,o){for(var u=this.getTextureQueue(a),d=this.getRetiredTextureQueue(a),f=0;f<d.length;f++){var h=d[f];if(h.width>=o)return h.retired=!1,h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,$d(h.eleCaches),h.context.setTransform(1,0,0,1,0,0),h.context.clearRect(0,0,h.width,h.height),Pi(d,h),u.push(h),h}},qn.queueElement=function(a,o){var u=this.getElementQueue(),d=this.getElementKeyToQueue(),f=this.getKey(a),h=d[f];if(h)h.level=Math.max(h.level,o),h.eles.merge(a),h.reqs++,u.updateItem(h);else{var g={eles:a.spawn().merge(a),level:o,reqs:1,key:f};u.push(g),d[f]=g}},qn.dequeue=function(a){for(var o=this,s=o.getElementQueue(),u=o.getElementKeyToQueue(),d=[],f=o.lookup,h=0;h<1&&s.size()>0;h++){var g=s.pop(),m=g.key,v=g.eles[0],_=f.hasCache(v,g.level);if(u[m]=null,!_){d.push(g);var b=o.getBoundingBox(v);o.getElement(v,b,a,g.level,Qs.dequeue)}}return d},qn.removeFromQueue=function(a){var s=this.getElementQueue(),u=this.getElementKeyToQueue(),d=this.getKey(a),f=u[d];null!=f&&(1===f.eles.length?(f.reqs=Vd,s.updateItem(f),s.pop(),u[d]=null):f.eles.unmerge(a))},qn.onDequeue=function(a){this.onDequeues.push(a)},qn.offDequeue=function(a){Pi(this.onDequeues,a)},qn.setupDequeueing=yc_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,s,u){return o.dequeue(s,u)},onDeqd:function(o,s){for(var u=0;u<o.onDequeues.length;u++)(0,o.onDequeues[u])(s)},shouldRedraw:function(o,s,u,d){for(var f=0;f<s.length;f++)for(var h=s[f].eles,g=0;g<h.length;g++){var m=h[g].boundingBox();if(Pp(m,d))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var Pf=function(o){var s=this,u=s.renderer=o,d=u.cy;s.layersByLevel={},s.firstGet=!0,s.lastInvalidationTime=Po()-500,s.skipping=!1,s.eleTxrDeqs=d.collection(),s.scheduleElementRefinement=Ue.default(function(){s.refineElementTextures(s.eleTxrDeqs),s.eleTxrDeqs.unmerge(s.eleTxrDeqs)},50),u.beforeRender(function(h,g){s.skipping=g-s.lastInvalidationTime<=250},u.beforeRenderPriorities.lyrTxrSkip),s.layersQueue=new tt.default(function(g,m){return m.reqs-g.reqs}),s.setupDequeueing()},kr=Pf.prototype,Hg=0,O0=Math.pow(2,53)-1;kr.makeLayer=function(a,o){var s=Math.pow(2,o),u=Math.ceil(a.w*s),d=Math.ceil(a.h*s),f=this.renderer.makeOffscreenCanvas(u,d),h={id:Hg=++Hg%O0,bb:a,level:o,width:u,height:d,canvas:f,context:f.getContext("2d"),eles:[],elesQueue:[],reqs:0},g=h.context,m=-h.bb.x1,v=-h.bb.y1;return g.scale(s,s),g.translate(m,v),h},kr.getLayers=function(a,o,s){var u=this,h=u.renderer.cy.zoom(),g=u.firstGet;if(u.firstGet=!1,null==s)if((s=Math.ceil(Ap(h*o)))<-4)s=-4;else if(h>=3.99||s>2)return null;u.validateLayersElesOrdering(s,a);var b,E,m=u.layersByLevel,v=Math.pow(2,s),_=m[s]=m[s]||[];if(u.levelIsComplete(s,a))return _;!function(){var G=function(Q){if(u.validateLayersElesOrdering(Q,a),u.levelIsComplete(Q,a))return E=m[Q],!0},U=function(Q){if(!E)for(var q=s+Q;-4<=q&&q<=2&&!G(q);q+=Q);};U(1),U(-1);for(var B=_.length-1;B>=0;B--){var z=_[B];z.invalid&&Pi(_,z)}}();var M=function(G){var U=(G=G||{}).after;if(function(){if(!b){b=yi();for(var G=0;G<a.length;G++)My(b,a[G].boundingBox())}}(),b.w*v*(b.h*v)>16e6)return null;var z=u.makeLayer(b,s);if(null!=U){var H=_.indexOf(U)+1;_.splice(H,0,z)}else(void 0===G.insert||G.insert)&&_.unshift(z);return z};if(u.skipping&&!g)return null;for(var I=null,O=a.length/1,N=!g,R=0;R<a.length;R++){var V=a[R],j=V._private.rscratch,P=j.imgLayerCaches=j.imgLayerCaches||{},$=P[s];if($)I=$;else{if((!I||I.eles.length>=O||!qe(I.bb,V.boundingBox()))&&!(I=M({insert:!0,after:I})))return null;E||N?u.queueLayer(I,V):u.drawEleInLayer(I,V,s,o),I.eles.push(V),P[s]=I}}return E||(N?null:_)},kr.getEleLevelForLayerLevel=function(a,o){return a},kr.drawEleInLayer=function(a,o,s,u){var f=this.renderer,h=a.context,g=o.boundingBox();0===g.w||0===g.h||!o.visible()||(s=this.getEleLevelForLayerLevel(s,u),f.setImgSmoothing(h,!1),f.drawCachedElement(h,o,null,null,s,!0),f.setImgSmoothing(h,!0))},kr.levelIsComplete=function(a,o){var u=this.layersByLevel[a];if(!u||0===u.length)return!1;for(var d=0,f=0;f<u.length;f++){var h=u[f];if(h.reqs>0||h.invalid)return!1;d+=h.eles.length}return d===o.length},kr.validateLayersElesOrdering=function(a,o){var s=this.layersByLevel[a];if(s)for(var u=0;u<s.length;u++){for(var d=s[u],f=-1,h=0;h<o.length;h++)if(d.eles[0]===o[h]){f=h;break}if(f<0)this.invalidateLayer(d);else{var g=f;for(h=0;h<d.eles.length;h++)if(d.eles[h]!==o[g+h]){this.invalidateLayer(d);break}}}},kr.updateElementsInLayers=function(a,o){for(var u=gs(a[0]),d=0;d<a.length;d++)for(var f=u?null:a[d],h=u?a[d]:a[d].ele,g=h._private.rscratch,m=g.imgLayerCaches=g.imgLayerCaches||{},v=-4;v<=2;v++){var _=m[v];_&&(f&&this.getEleLevelForLayerLevel(_.level)!==f.level||o(_,h,f))}},kr.haveLayers=function(){for(var o=!1,s=-4;s<=2;s++){var u=this.layersByLevel[s];if(u&&u.length>0){o=!0;break}}return o},kr.invalidateElements=function(a){var o=this;0!==a.length&&(o.lastInvalidationTime=Po(),0!==a.length&&o.haveLayers()&&o.updateElementsInLayers(a,function(u,d,f){o.invalidateLayer(u)}))},kr.invalidateLayer=function(a){if(this.lastInvalidationTime=Po(),!a.invalid){var o=a.level,s=a.eles;Pi(this.layersByLevel[o],a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var d=0;d<s.length;d++){var f=s[d]._private.rscratch.imgLayerCaches;f&&(f[o]=null)}}},kr.refineElementTextures=function(a){var o=this;o.updateElementsInLayers(a,function(u,d,f){var h=u.replacement;if(h||((h=u.replacement=o.makeLayer(u.bb,u.level)).replaces=u,h.eles=u.eles),!h.reqs)for(var g=0;g<h.eles.length;g++)o.queueLayer(h,h.eles[g])})},kr.enqueueElementRefinement=function(a){this.eleTxrDeqs.merge(a),this.scheduleElementRefinement()},kr.queueLayer=function(a,o){var u=this.layersQueue,d=a.elesQueue,f=d.hasId=d.hasId||{};if(!a.replacement){if(o){if(f[o.id()])return;d.push(o),f[o.id()]=!0}a.reqs?(a.reqs++,u.updateItem(a)):(a.reqs=1,u.push(a))}},kr.dequeue=function(a){for(var o=this,s=o.layersQueue,u=[],d=0;d<1&&0!==s.size();){var f=s.peek();if(f.replacement)s.pop();else if(f.replaces&&f!==f.replaces.replacement)s.pop();else if(f.invalid)s.pop();else{var h=f.elesQueue.shift();h&&(o.drawEleInLayer(f,h,f.level,a),d++),0===u.length&&u.push(!0),0===f.elesQueue.length&&(s.pop(),f.reqs=0,f.replaces&&o.applyLayerReplacement(f),o.requestRedraw())}}return u},kr.applyLayerReplacement=function(a){var s=this.layersByLevel[a.level],u=a.replaces,d=s.indexOf(u);if(!(d<0||u.invalid)){s[d]=a;for(var f=0;f<a.eles.length;f++){var h=a.eles[f]._private,g=h.imgLayerCaches=h.imgLayerCaches||{};g&&(g[a.level]=a)}this.requestRedraw()}},kr.requestRedraw=Ue.default(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),kr.setupDequeueing=yc_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,s){return o.dequeue(s)},onDeqd:Hd,shouldRedraw:Dp,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var jg,$g={};function A0(a,o){for(var s=0;s<o.length;s++){var u=o[s];a.lineTo(u.x,u.y)}}function kf(a,o,s){for(var u,d=0;d<o.length;d++){var f=o[d];0===d&&(u=f),a.lineTo(f.x,f.y)}a.quadraticCurveTo(s.x,s.y,u.x,u.y)}function Yl(a,o,s){a.beginPath&&a.beginPath();for(var u=o,d=0;d<u.length;d++)a.lineTo((f=u[d]).x,f.y);var h=s,g=s[0];for(a.moveTo(g.x,g.y),d=1;d<h.length;d++){var f;a.lineTo((f=h[d]).x,f.y)}a.closePath&&a.closePath()}function R0(a,o,s,u,d){a.beginPath&&a.beginPath(),a.arc(s,u,d,0,2*Math.PI,!1);var f=o,h=f[0];a.moveTo(h.x,h.y);for(var g=0;g<f.length;g++){var m=f[g];a.lineTo(m.x,m.y)}a.closePath&&a.closePath()}function wc(a,o,s,u){a.arc(o,s,u,0,2*Math.PI,!1)}$g.arrowShapeImpl=function(a){return(jg||(jg={polygon:A0,"triangle-backcurve":kf,"triangle-tee":Yl,"circle-triangle":R0,"triangle-cross":Yl,circle:wc}))[a]};var Co={drawElement:function(a,o,s,u,d,f){o.isNode()?this.drawNode(a,o,s,u,d,f):this.drawEdge(a,o,s,u,d,f)},drawElementOverlay:function(a,o){o.isNode()?this.drawNodeOverlay(a,o):this.drawEdgeOverlay(a,o)},drawElementUnderlay:function(a,o){o.isNode()?this.drawNodeUnderlay(a,o):this.drawEdgeUnderlay(a,o)},drawCachedElementPortion:function(a,o,s,u,d,f,h,g){var m=this,v=s.getBoundingBox(o);if(0!==v.w&&0!==v.h){var _=s.getElement(o,v,u,d,f);if(null!=_){var b=g(m,o);if(0===b)return;var I,O,N,R,V,$,D=h(m,o),E=v.x1,C=v.y1,T=v.w,M=v.h;if(0!==D){var j=s.getRotationPoint(o);a.translate(N=j.x,R=j.y),a.rotate(D),(V=m.getImgSmoothing(a))||m.setImgSmoothing(a,!0);var P=s.getRotationOffset(o);I=P.x,O=P.y}else I=E,O=C;1!==b&&(a.globalAlpha=($=a.globalAlpha)*b),a.drawImage(_.texture.canvas,_.x,0,_.width,_.height,I,O,T,M),1!==b&&(a.globalAlpha=$),0!==D&&(a.rotate(-D),a.translate(-N,-R),V||m.setImgSmoothing(a,!1))}else s.drawElement(a,o)}}},Dc=function(){return 0},P0=function(o,s){return o.getTextAngle(s,null)},Ug=function(o,s){return o.getTextAngle(s,"source")},Ff=function(o,s){return o.getTextAngle(s,"target")},Cc=function(o,s){return s.effectiveOpacity()},Ec=function(o,s){return s.pstyle("text-opacity").pfValue*s.effectiveOpacity()};Co.drawCachedElement=function(a,o,s,u,d,f){var h=this,g=h.data,m=g.eleTxrCache,v=g.lblTxrCache,_=g.slbTxrCache,b=g.tlbTxrCache,D=o.boundingBox(),E=!0===f?m.reasons.highQuality:null;if(0!==D.w&&0!==D.h&&o.visible()&&(!u||Pp(D,u))){var C=o.isEdge(),T=o.element()._private.rscratch.badLine;h.drawElementUnderlay(a,o),h.drawCachedElementPortion(a,o,m,s,d,E,Dc,Cc),(!C||!T)&&h.drawCachedElementPortion(a,o,v,s,d,E,P0,Ec),C&&!T&&(h.drawCachedElementPortion(a,o,_,s,d,E,Ug,Ec),h.drawCachedElementPortion(a,o,b,s,d,E,Ff,Ec)),h.drawElementOverlay(a,o)}},Co.drawElements=function(a,o){for(var u=0;u<o.length;u++)this.drawElement(a,o[u])},Co.drawCachedElements=function(a,o,s,u){for(var f=0;f<o.length;f++)this.drawCachedElement(a,o[f],s,u)},Co.drawCachedNodes=function(a,o,s,u){for(var f=0;f<o.length;f++){var h=o[f];h.isNode()&&this.drawCachedElement(a,h,s,u)}},Co.drawLayeredElements=function(a,o,s,u){var f=this.data.lyrTxrCache.getLayers(o,s);if(f)for(var h=0;h<f.length;h++){var g=f[h],m=g.bb;0===m.w||0===m.h||a.drawImage(g.canvas,m.x1,m.y1,m.w,m.h)}else this.drawCachedElements(a,o,s,u)};var Uo={drawEdge:function(a,o,s){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=this,g=o._private.rscratch;if((!f||o.visible())&&!g.badLine&&null!=g.allpts&&!isNaN(g.allpts[0])){var m;s&&a.translate(-(m=s).x1,-m.y1);var v=f?o.pstyle("opacity").value:1,_=f?o.pstyle("line-opacity").value:1,b=o.pstyle("curve-style").value,D=o.pstyle("line-style").value,E=o.pstyle("width").pfValue,C=o.pstyle("line-cap").value,T=v*_,M=v*_,I=function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;"straight-triangle"===b?(h.eleStrokeStyle(a,o,B),h.drawEdgeTrianglePath(o,a,g.allpts)):(a.lineWidth=E,a.lineCap=C,h.eleStrokeStyle(a,o,B),h.drawEdgePath(o,a,g.allpts,D),a.lineCap="butt")},R=function(){h.drawArrowheads(a,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:M)};if(a.lineJoin="round","yes"===o.pstyle("ghost").value){var P=o.pstyle("ghost-offset-x").pfValue,$=o.pstyle("ghost-offset-y").pfValue,k=o.pstyle("ghost-opacity").value,G=T*k;a.translate(P,$),I(G),R(G),a.translate(-P,-$)}d&&h.drawEdgeUnderlay(a,o),I(),R(),d&&h.drawEdgeOverlay(a,o),h.drawElementText(a,o,null,u),s&&a.translate(m.x1,m.y1)}}},Gg=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(s,u){if(u.visible()){var d=u.pstyle("".concat(o,"-opacity")).value;if(0!==d){var f=this,h=f.usePaths(),g=u._private.rscratch,v=2*u.pstyle("".concat(o,"-padding")).pfValue,_=u.pstyle("".concat(o,"-color")).value;s.lineWidth=v,s.lineCap="self"!==g.edgeType||h?"round":"butt",f.colorStrokeStyle(s,_[0],_[1],_[2],d),f.drawEdgePath(u,s,g.allpts,"solid")}}}};Uo.drawEdgeOverlay=Gg("overlay"),Uo.drawEdgeUnderlay=Gg("underlay"),Uo.drawEdgePath=function(a,o,s,u){var h,d=a._private.rscratch,f=o,g=!1,m=this.usePaths(),v=a.pstyle("line-dash-pattern").pfValue,_=a.pstyle("line-dash-offset").pfValue;if(m){var b=s.join("$");d.pathCacheKey&&d.pathCacheKey===b?(h=o=d.pathCache,g=!0):(h=o=new Path2D,d.pathCacheKey=b,d.pathCache=h)}if(f.setLineDash)switch(u){case"dotted":f.setLineDash([1,1]);break;case"dashed":f.setLineDash(v),f.lineDashOffset=_;break;case"solid":f.setLineDash([])}if(!g&&!d.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(s[0],s[1]),d.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var E=2;E+3<s.length;E+=4)o.quadraticCurveTo(s[E],s[E+1],s[E+2],s[E+3]);break;case"straight":case"segments":case"haystack":for(var C=2;C+1<s.length;C+=2)o.lineTo(s[C],s[C+1])}o=f,m?o.stroke(h):o.stroke(),o.setLineDash&&o.setLineDash([])},Uo.drawEdgeTrianglePath=function(a,o,s){o.fillStyle=o.strokeStyle;for(var u=a.pstyle("width").pfValue,d=0;d+1<s.length;d+=2){var f=[s[d+2]-s[d],s[d+3]-s[d+1]],h=Math.sqrt(f[0]*f[0]+f[1]*f[1]),g=[f[1]/h,-f[0]/h],m=[g[0]*u/2,g[1]*u/2];o.beginPath(),o.moveTo(s[d]-m[0],s[d+1]-m[1]),o.lineTo(s[d]+m[0],s[d+1]+m[1]),o.lineTo(s[d+2],s[d+3]),o.closePath(),o.fill()}},Uo.drawArrowheads=function(a,o,s){var u=o._private.rscratch,d="haystack"===u.edgeType;d||this.drawArrowhead(a,o,"source",u.arrowStartX,u.arrowStartY,u.srcArrowAngle,s),this.drawArrowhead(a,o,"mid-target",u.midX,u.midY,u.midtgtArrowAngle,s),this.drawArrowhead(a,o,"mid-source",u.midX,u.midY,u.midsrcArrowAngle,s),d||this.drawArrowhead(a,o,"target",u.arrowEndX,u.arrowEndY,u.tgtArrowAngle,s)},Uo.drawArrowhead=function(a,o,s,u,d,f,h){if(!(isNaN(u)||null==u||isNaN(d)||null==d||isNaN(f)||null==f)){var g=this,m=o.pstyle(s+"-arrow-shape").value;if("none"!==m){var v="hollow"===o.pstyle(s+"-arrow-fill").value?"both":"filled",_=o.pstyle(s+"-arrow-fill").value,b=o.pstyle("width").pfValue,D=o.pstyle(s+"-arrow-width"),E="match-line"===D.value?b:D.pfValue;"%"===D.units&&(E*=b);var C=o.pstyle("opacity").value;void 0===h&&(h=C);var T=a.globalCompositeOperation;(1!==h||"hollow"===_)&&(a.globalCompositeOperation="destination-out",g.colorFillStyle(a,255,255,255,1),g.colorStrokeStyle(a,255,255,255,1),g.drawArrowShape(o,a,v,b,m,E,u,d,f),a.globalCompositeOperation=T);var M=o.pstyle(s+"-arrow-color").value;g.colorFillStyle(a,M[0],M[1],M[2],h),g.colorStrokeStyle(a,M[0],M[1],M[2],h),g.drawArrowShape(o,a,_,b,m,E,u,d,f)}}},Uo.drawArrowShape=function(a,o,s,u,d,f,h,g,m){var D,v=this,_=this.usePaths()&&"triangle-cross"!==d,b=!1,E=o,C={x:h,y:g},T=a.pstyle("arrow-scale").value,M=this.getArrowWidth(u,T),I=v.arrowShapes[d];if(_){var O=v.arrowPathCache=v.arrowPathCache||[],N=la(d),R=O[N];null!=R?(D=o=R,b=!0):(D=o=new Path2D,O[N]=D)}b||(o.beginPath&&o.beginPath(),_?I.draw(o,1,0,{x:0,y:0},1):I.draw(o,M,m,C,u),o.closePath&&o.closePath()),o=E,_&&(o.translate(h,g),o.rotate(m),o.scale(M,M)),("filled"===s||"both"===s)&&(_?o.fill(D):o.fill()),("hollow"===s||"both"===s)&&(o.lineWidth=f/(_?M:1),o.lineJoin="miter",_?o.stroke(D):o.stroke()),_&&(o.scale(1/M,1/M),o.rotate(-m),o.translate(-h,-g))};var Ea={safeDrawImage:function(a,o,s,u,d,f,h,g,m,v){if(!(d<=0||f<=0||m<=0||v<=0))try{a.drawImage(o,s,u,d,f,h,g,m,v)}catch(_){bt(_)}},drawInscribedImage:function(a,o,s,u,d){var f=this,h=s.position(),g=h.x,m=h.y,v=s.cy().style(),_=v.getIndexedStyle.bind(v),b=_(s,"background-fit","value",u),D=_(s,"background-repeat","value",u),E=s.width(),C=s.height(),T=2*s.padding(),M=E+("inner"===_(s,"background-width-relative-to","value",u)?0:T),I=C+("inner"===_(s,"background-height-relative-to","value",u)?0:T),O=s._private.rscratch,R="node"===_(s,"background-clip","value",u),V=_(s,"background-image-opacity","value",u)*d,j=_(s,"background-image-smoothing","value",u),P=o.width||o.cachedW,$=o.height||o.cachedH;(null==P||null==$)&&(document.body.appendChild(o),P=o.cachedW=o.width||o.offsetWidth,$=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var k=P,G=$;if("auto"!==_(s,"background-width","value",u)&&(k="%"===_(s,"background-width","units",u)?_(s,"background-width","pfValue",u)*M:_(s,"background-width","pfValue",u)),"auto"!==_(s,"background-height","value",u)&&(G="%"===_(s,"background-height","units",u)?_(s,"background-height","pfValue",u)*I:_(s,"background-height","pfValue",u)),0!==k&&0!==G){if("contain"===b)k*=U=Math.min(M/k,I/G),G*=U;else if("cover"===b){var U;k*=U=Math.max(M/k,I/G),G*=U}var B=g-M/2,z=_(s,"background-position-x","units",u),H=_(s,"background-position-x","pfValue",u);B+="%"===z?(M-k)*H:H;var Q=_(s,"background-offset-x","units",u),q=_(s,"background-offset-x","pfValue",u);B+="%"===Q?(M-k)*q:q;var W=m-I/2,ee=_(s,"background-position-y","units",u),ae=_(s,"background-position-y","pfValue",u);W+="%"===ee?(I-G)*ae:ae;var he=_(s,"background-offset-y","units",u),te=_(s,"background-offset-y","pfValue",u);W+="%"===he?(I-G)*te:te,O.pathCache&&(B-=g,W-=m,g=0,m=0);var de=a.globalAlpha;a.globalAlpha=V;var ye=f.getImgSmoothing(a),we=!1;if("no"===j&&ye?(f.setImgSmoothing(a,!1),we=!0):"yes"===j&&!ye&&(f.setImgSmoothing(a,!0),we=!0),"no-repeat"===D)R&&(a.save(),O.pathCache?a.clip(O.pathCache):(f.nodeShapes[f.getNodeShape(s)].draw(a,g,m,M,I),a.clip())),f.safeDrawImage(a,o,0,0,P,$,B,W,k,G),R&&a.restore();else{var _e=a.createPattern(o,D);a.fillStyle=_e,f.nodeShapes[f.getNodeShape(s)].draw(a,g,m,M,I),a.translate(B,W),a.fill(),a.translate(-B,-W)}a.globalAlpha=de,we&&f.setImgSmoothing(a,ye)}}},oo={};function Lf(a,o,s,u,d){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,h=arguments.length>6?arguments[6]:void 0;a.beginPath(),a.moveTo(o+f,s),a.lineTo(o+u-f,s),a.quadraticCurveTo(o+u,s,o+u,s+f),a.lineTo(o+u,s+d-f),a.quadraticCurveTo(o+u,s+d,o+u-f,s+d),a.lineTo(o+f,s+d),a.quadraticCurveTo(o,s+d,o,s+d-f),a.lineTo(o,s+f),a.quadraticCurveTo(o,s,o+f,s),a.closePath(),h?a.stroke():a.fill()}oo.eleTextBiggerThanMin=function(a,o){if(!o){var s=a.cy().zoom(),u=this.getPixelRatio(),d=Math.ceil(Ap(s*u));o=Math.pow(2,d)}return!(a.pstyle("font-size").pfValue*o<a.pstyle("min-zoomed-font-size").pfValue)},oo.drawElementText=function(a,o,s,u,d){var f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=this;if(null==u){if(f&&!h.eleTextBiggerThanMin(o))return}else if(!1===u)return;if(o.isNode()){var g=o.pstyle("label");if(!g||!g.value)return;var m=h.getLabelJustification(o);a.textAlign=m,a.textBaseline="bottom"}else{var v=o.element()._private.rscratch.badLine,_=o.pstyle("label"),b=o.pstyle("source-label"),D=o.pstyle("target-label");if(v||(!_||!_.value)&&(!b||!b.value)&&(!D||!D.value))return;a.textAlign="center",a.textBaseline="bottom"}var C,E=!s;s&&a.translate(-(C=s).x1,-C.y1),null==d?(h.drawText(a,o,null,E,f),o.isEdge()&&(h.drawText(a,o,"source",E,f),h.drawText(a,o,"target",E,f))):h.drawText(a,o,d,E,f),s&&a.translate(C.x1,C.y1)},oo.getFontCache=function(a){var o;this.fontCaches=this.fontCaches||[];for(var s=0;s<this.fontCaches.length;s++)if((o=this.fontCaches[s]).context===a)return o;return this.fontCaches.push(o={context:a}),o},oo.setupTextStyle=function(a,o){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=o.pstyle("font-style").strValue,d=o.pstyle("font-size").pfValue+"px",f=o.pstyle("font-family").strValue,h=o.pstyle("font-weight").strValue,g=s?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,m=o.pstyle("text-outline-opacity").value*g,v=o.pstyle("color").value,_=o.pstyle("text-outline-color").value;a.font=u+" "+h+" "+d+" "+f,a.lineJoin="round",this.colorFillStyle(a,v[0],v[1],v[2],g),this.colorStrokeStyle(a,_[0],_[1],_[2],m)},oo.getTextAngle=function(a,o){var d=a._private.rscratch,h=a.pstyle((o?o+"-":"")+"text-rotation"),g=ki(d,"labelAngle",o);return"autorotate"===h.strValue?a.isEdge()?g:0:"none"===h.strValue?0:h.pfValue},oo.drawText=function(a,o,s){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=o._private.rscratch,g=d?o.effectiveOpacity():1;if(!d||0!==g&&0!==o.pstyle("text-opacity").value){"main"===s&&(s=null);var _,b,m=ki(h,"labelX",s),v=ki(h,"labelY",s),D=this.getLabelText(o,s);if(null!=D&&""!==D&&!isNaN(m)&&!isNaN(v)){this.setupTextStyle(a,o,d);var V,E=s?s+"-":"",C=ki(h,"labelWidth",s),T=ki(h,"labelHeight",s),M=o.pstyle(E+"text-margin-x").pfValue,I=o.pstyle(E+"text-margin-y").pfValue,O=o.isEdge(),N=o.pstyle("text-halign").value,R=o.pstyle("text-valign").value;switch(O&&(N="center",R="center"),m+=M,v+=I,0!==(V=u?this.getTextAngle(o,s):0)&&(a.translate(_=m,b=v),a.rotate(V),m=0,v=0),R){case"top":break;case"center":v+=T/2;break;case"bottom":v+=T}var j=o.pstyle("text-background-opacity").value,P=o.pstyle("text-border-opacity").value,$=o.pstyle("text-border-width").pfValue,k=o.pstyle("text-background-padding").pfValue,U=0===o.pstyle("text-background-shape").strValue.indexOf("round");if(j>0||$>0&&P>0){var z=m-k;switch(N){case"left":z-=C;break;case"center":z-=C/2}var H=v-T-k,Q=C+2*k,q=T+2*k;if(j>0){var W=a.fillStyle,ee=o.pstyle("text-background-color").value;a.fillStyle="rgba("+ee[0]+","+ee[1]+","+ee[2]+","+j*g+")",U?Lf(a,z,H,Q,q,2):a.fillRect(z,H,Q,q),a.fillStyle=W}if($>0&&P>0){var ae=a.strokeStyle,he=a.lineWidth,te=o.pstyle("text-border-color").value,de=o.pstyle("text-border-style").value;if(a.strokeStyle="rgba("+te[0]+","+te[1]+","+te[2]+","+P*g+")",a.lineWidth=$,a.setLineDash)switch(de){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=$/4,a.setLineDash([]);break;case"solid":a.setLineDash([])}if(U?Lf(a,z,H,Q,q,2,"stroke"):a.strokeRect(z,H,Q,q),"double"===de){var ye=$/2;U?Lf(a,z+ye,H+ye,Q-2*ye,q-2*ye,2,"stroke"):a.strokeRect(z+ye,H+ye,Q-2*ye,q-2*ye)}a.setLineDash&&a.setLineDash([]),a.lineWidth=he,a.strokeStyle=ae}}var we=2*o.pstyle("text-outline-width").pfValue;if(we>0&&(a.lineWidth=we),"wrap"===o.pstyle("text-wrap").value){var _e=ki(h,"labelWrapCachedLines",s),Ee=ki(h,"labelLineHeight",s),ie=C/2,be=this.getLabelJustification(o);switch("auto"===be||("left"===N?"left"===be?m+=-C:"center"===be&&(m+=-ie):"center"===N?"left"===be?m+=-ie:"right"===be&&(m+=ie):"right"===N&&("center"===be?m+=ie:"right"===be&&(m+=C))),R){case"top":case"center":case"bottom":v-=(_e.length-1)*Ee}for(var Ie=0;Ie<_e.length;Ie++)we>0&&a.strokeText(_e[Ie],m,v),a.fillText(_e[Ie],m,v),v+=Ee}else we>0&&a.strokeText(D,m,v),a.fillText(D,m,v);0!==V&&(a.rotate(-V),a.translate(-_,-b))}}};var Zl={drawNode:function(a,o,s){var g,m,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=this,v=o._private,_=v.rscratch,b=o.position();if(Ge(b.x)&&Ge(b.y)&&(!f||o.visible())){var C,I,D=f?o.effectiveOpacity():1,E=h.usePaths(),T=!1,M=o.padding();g=o.width()+2*M,m=o.height()+2*M,s&&a.translate(-(I=s).x1,-I.y1);for(var N=o.pstyle("background-image").value,R=new Array(N.length),V=new Array(N.length),j=0,P=0;P<N.length;P++){var $=N[P];if(R[P]=null!=$&&"none"!==$){var G=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",P);j++,V[P]=h.getCachedImage($,G,function(){v.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var U=o.pstyle("background-blacken").value,B=o.pstyle("border-width").pfValue,z=o.pstyle("background-opacity").value*D,H=o.pstyle("border-color").value,Q=o.pstyle("border-style").value,q=o.pstyle("border-opacity").value*D,W=o.pstyle("outline-width").pfValue,ee=o.pstyle("outline-color").value,ae=o.pstyle("outline-style").value,he=o.pstyle("outline-opacity").value*D,te=o.pstyle("outline-offset").value;a.lineJoin="miter";var de=function(){h.eleFillStyle(a,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:z)},ye=function(){h.colorStrokeStyle(a,H[0],H[1],H[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:q)},we=function(){h.colorStrokeStyle(a,ee[0],ee[1],ee[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:he)},_e=function(se,F,oe,De){var me,le=h.nodePathCache=h.nodePathCache||[],fe=Bd("polygon"===oe?oe+","+De.join(","):oe,""+F,""+se),dt=le[fe],ot=!1;return null!=dt?(ot=!0,_.pathCache=me=dt):(me=new Path2D,le[fe]=_.pathCache=me),{path:me,cacheHit:ot}},Ee=o.pstyle("shape").strValue,ie=o.pstyle("shape-polygon-points").pfValue;if(E){a.translate(b.x,b.y);var be=_e(g,m,Ee,ie);C=be.path,T=be.cacheHit}var Ie=function(){if(!T){var se=b;E&&(se={x:0,y:0}),h.nodeShapes[h.getNodeShape(o)].draw(C||a,se.x,se.y,g,m)}E?a.fill(C):a.fill()},Me=function(){for(var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,F=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],oe=v.backgrounding,De=0,le=0;le<V.length;le++){var fe=o.cy().style().getIndexedStyle(o,"background-image-containment","value",le);F&&"over"===fe||!F&&"inside"===fe?De++:R[le]&&V[le].complete&&!V[le].error&&(De++,h.drawInscribedImage(a,V[le],o,le,se))}v.backgrounding=De!==j,oe!==v.backgrounding&&o.updateStyle(!1)},Re=function(){var se=arguments.length>0&&void 0!==arguments[0]&&arguments[0],F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;h.hasPie(o)&&(h.drawPie(a,o,F),se&&(E||h.nodeShapes[h.getNodeShape(o)].draw(a,b.x,b.y,g,m)))},it=function(){var oe=U>0?0:255;0!==U&&(h.colorFillStyle(a,oe,oe,oe,(U>0?U:-U)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:D)),E?a.fill(C):a.fill())},St=function(){if(B>0){if(a.lineWidth=B,a.lineCap="butt",a.setLineDash)switch(Q){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}if(E?a.stroke(C):a.stroke(),"double"===Q){a.lineWidth=B/3;var se=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",E?a.stroke(C):a.stroke(),a.globalCompositeOperation=se}a.setLineDash&&a.setLineDash([])}},He=function(){if(W>0){if(a.lineWidth=W,a.lineCap="butt",a.setLineDash)switch(ae){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}var se=b;E&&(se={x:0,y:0});var me,F=h.getNodeShape(o),oe=(g+B+(W+te))/g,De=(m+B+(W+te))/m,le=g*oe,fe=m*De,dt=h.nodeShapes[F].points;if(E&&(me=_e(le,fe,F,dt).path),"ellipse"===F)h.drawEllipsePath(me||a,se.x,se.y,le,fe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(F)){var Rt=0,rn=0,Ct=0;"round-diamond"===F?Rt=1.4*(B+te+W):"round-heptagon"===F?(Rt=1.075*(B+te+W),Ct=-(B/2+te+W)/35):"round-hexagon"===F?Rt=1.12*(B+te+W):"round-pentagon"===F?(Rt=1.13*(B+te+W),Ct=-(B/2+te+W)/15):"round-tag"===F?(Rt=1.12*(B+te+W),rn=.07*(B/2+W+te)):"round-triangle"===F&&(Rt=(B+te+W)*(Math.PI/2),Ct=-(B+te/2+W)/Math.PI),0!==Rt&&(oe=(g+Rt)/g,De=(m+Rt)/m),h.drawRoundPolygonPath(me||a,se.x+rn,se.y+Ct,g*oe,m*De,dt)}else["roundrectangle","round-rectangle"].includes(F)?h.drawRoundRectanglePath(me||a,se.x,se.y,le,fe):["cutrectangle","cut-rectangle"].includes(F)?h.drawCutRectanglePath(me||a,se.x,se.y,le,fe):["bottomroundrectangle","bottom-round-rectangle"].includes(F)?h.drawBottomRoundRectanglePath(me||a,se.x,se.y,le,fe):"barrel"===F?h.drawBarrelPath(me||a,se.x,se.y,le,fe):F.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(F)?(dt=$u(Ht(dt,(B+W+te)/g)),h.drawPolygonPath(me||a,se.x,se.y,g,m,dt)):(dt=$u(Ht(dt,-(B+W+te)/g)),h.drawPolygonPath(me||a,se.x,se.y,g,m,dt));if(E?a.stroke(me):a.stroke(),"double"===ae){a.lineWidth=B/3;var Pt=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",E?a.stroke(me):a.stroke(),a.globalCompositeOperation=Pt}a.setLineDash&&a.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var ft=o.pstyle("ghost-offset-x").pfValue,Zt=o.pstyle("ghost-offset-y").pfValue,Ft=o.pstyle("ghost-opacity").value,Tt=Ft*D;a.translate(ft,Zt),we(),He(),de(Ft*z),Ie(),Me(Tt,!0),ye(Ft*q),St(),Re(0!==U||0!==B),Me(Tt,!1),it(Tt),a.translate(-ft,-Zt)}E&&a.translate(-b.x,-b.y),d&&h.drawNodeUnderlay(a,o,b,g,m),E&&a.translate(b.x,b.y),we(),He(),de(),Ie(),Me(D,!0),ye(),St(),Re(0!==U||0!==B),Me(D,!1),it(),E&&a.translate(-b.x,-b.y),h.drawElementText(a,o,null,u),d&&h.drawNodeOverlay(a,o,b,g,m),s&&a.translate(I.x1,I.y1)}}},Bf=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(s,u,d,f,h){if(u.visible()){var m=u.pstyle("".concat(o,"-padding")).pfValue,v=u.pstyle("".concat(o,"-opacity")).value,_=u.pstyle("".concat(o,"-color")).value,b=u.pstyle("".concat(o,"-shape")).value;if(v>0){if(d=d||u.position(),null==f||null==h){var D=u.padding();f=u.width()+2*D,h=u.height()+2*D}this.colorFillStyle(s,_[0],_[1],_[2],v),this.nodeShapes[b].draw(s,d.x,d.y,f+2*m,h+2*m),s.fill()}}}};Zl.drawNodeOverlay=Bf("overlay"),Zl.drawNodeUnderlay=Bf("underlay"),Zl.hasPie=function(a){return(a=a[0])._private.hasPie},Zl.drawPie=function(a,o,s,u){o=o[0],u=u||o.position();var d=o.cy().style(),f=o.pstyle("pie-size"),h=u.x,g=u.y,m=o.width(),v=o.height(),_=Math.min(m,v)/2,b=0;this.usePaths()&&(h=0,g=0),"%"===f.units?_*=f.pfValue:void 0!==f.pfValue&&(_=f.pfValue/2);for(var E=1;E<=d.pieBackgroundN;E++){var C=o.pstyle("pie-"+E+"-background-size").value,T=o.pstyle("pie-"+E+"-background-color").value,M=o.pstyle("pie-"+E+"-background-opacity").value*s,I=C/100;I+b>1&&(I=1-b);var O=1.5*Math.PI+2*Math.PI*b,R=O+2*Math.PI*I;0===C||b>=1||b+I>1||(a.beginPath(),a.moveTo(h,g),a.arc(h,g,_,O,R),a.closePath(),this.colorFillStyle(a,T[0],T[1],T[2],M),a.fill(),b+=I)}};for(var Ei={getPixelRatio:function(){var a=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)},paintCache:function(a){for(var u,o=this.paintCaches=this.paintCaches||[],s=!0,d=0;d<o.length;d++)if((u=o[d]).context===a){s=!1;break}return s&&o.push(u={context:a}),u},createGradientStyleFor:function(a,o,s,u,d){var f,h=this.usePaths(),g=s.pstyle(o+"-gradient-stop-colors").value,m=s.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===u)if(s.isEdge()){var v=s.sourceEndpoint(),_=s.targetEndpoint(),b=s.midpoint(),D=Fo(v,b),E=Fo(_,b);f=a.createRadialGradient(b.x,b.y,0,b.x,b.y,Math.max(D,E))}else{var C=h?{x:0,y:0}:s.position(),T=s.paddedWidth(),M=s.paddedHeight();f=a.createRadialGradient(C.x,C.y,0,C.x,C.y,Math.max(T,M))}else if(s.isEdge()){var I=s.sourceEndpoint(),O=s.targetEndpoint();f=a.createLinearGradient(I.x,I.y,O.x,O.y)}else{var N=h?{x:0,y:0}:s.position(),j=s.paddedWidth()/2,P=s.paddedHeight()/2;switch(s.pstyle("background-gradient-direction").value){case"to-bottom":f=a.createLinearGradient(N.x,N.y-P,N.x,N.y+P);break;case"to-top":f=a.createLinearGradient(N.x,N.y+P,N.x,N.y-P);break;case"to-left":f=a.createLinearGradient(N.x+j,N.y,N.x-j,N.y);break;case"to-right":f=a.createLinearGradient(N.x-j,N.y,N.x+j,N.y);break;case"to-bottom-right":case"to-right-bottom":f=a.createLinearGradient(N.x-j,N.y-P,N.x+j,N.y+P);break;case"to-top-right":case"to-right-top":f=a.createLinearGradient(N.x-j,N.y+P,N.x+j,N.y-P);break;case"to-bottom-left":case"to-left-bottom":f=a.createLinearGradient(N.x+j,N.y-P,N.x-j,N.y+P);break;case"to-top-left":case"to-left-top":f=a.createLinearGradient(N.x+j,N.y+P,N.x-j,N.y-P)}}if(!f)return null;for(var k=m.length===g.length,G=g.length,U=0;U<G;U++)f.addColorStop(k?m[U]:U/(G-1),"rgba("+g[U][0]+","+g[U][1]+","+g[U][2]+","+d+")");return f},gradientFillStyle:function(a,o,s,u){var d=this.createGradientStyleFor(a,"background",o,s,u);if(!d)return null;a.fillStyle=d},colorFillStyle:function(a,o,s,u,d){a.fillStyle="rgba("+o+","+s+","+u+","+d+")"},eleFillStyle:function(a,o,s){var u=o.pstyle("background-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientFillStyle(a,o,u,s);else{var d=o.pstyle("background-color").value;this.colorFillStyle(a,d[0],d[1],d[2],s)}},gradientStrokeStyle:function(a,o,s,u){var d=this.createGradientStyleFor(a,"line",o,s,u);if(!d)return null;a.strokeStyle=d},colorStrokeStyle:function(a,o,s,u,d){a.strokeStyle="rgba("+o+","+s+","+u+","+d+")"},eleStrokeStyle:function(a,o,s){var u=o.pstyle("line-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientStrokeStyle(a,o,u,s);else{var d=o.pstyle("line-color").value;this.colorStrokeStyle(a,d[0],d[1],d[2],s)}},matchCanvasSize:function(a){var o=this,s=o.data,u=o.findContainerClientCoords(),d=u[2],f=u[3],h=o.getPixelRatio();(a===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||a===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(h=o.motionBlurPxRatio);var _,m=d*h,v=f*h;if(m!==o.canvasWidth||v!==o.canvasHeight){o.fontCaches=null;var b=s.canvasContainer;b.style.width=d+"px",b.style.height=f+"px";for(var D=0;D<o.CANVAS_LAYERS;D++)(_=s.canvases[D]).width=m,_.height=v,_.style.width=d+"px",_.style.height=f+"px";for(D=0;D<o.BUFFER_COUNT;D++)(_=s.bufferCanvases[D]).width=m,_.height=v,_.style.width=d+"px",_.style.height=f+"px";o.textureMult=1,h<=1&&(_=s.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,_.width=m*o.textureMult,_.height=v*o.textureMult),o.canvasWidth=m,o.canvasHeight=v}},renderTo:function(a,o,s,u){this.render({forcedContext:a,forcedZoom:o,forcedPan:s,drawAllLayers:!0,forcedPxRatio:u})},render:function(a){var o=(a=a||Au()).forcedContext,s=a.drawAllLayers,u=a.drawOnlyNodeLayer,d=a.forcedZoom,f=a.forcedPan,h=this,g=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,m=h.cy,v=h.data,_=v.canvasNeedsRedraw,b=h.textureOnViewport&&!o&&(h.pinching||h.hoverData.dragging||h.swipePanning||h.data.wheelZooming),D=void 0!==a.motionBlur?a.motionBlur:h.motionBlur,E=h.motionBlurPxRatio,C=m.hasCompoundNodes(),T=h.hoverData.draggingEles,I=D=D&&!o&&h.motionBlurEnabled&&!(h.hoverData.selecting||h.touchData.selecting);o||(h.prevPxRatio!==g&&(h.invalidateContainerClientCoordsCache(),h.matchCanvasSize(h.container),h.redrawHint("eles",!0),h.redrawHint("drag",!0)),h.prevPxRatio=g),!o&&h.motionBlurTimeout&&clearTimeout(h.motionBlurTimeout),D&&(null==h.mbFrames&&(h.mbFrames=0),h.mbFrames++,h.mbFrames<3&&(I=!1),h.mbFrames>h.minMbLowQualFrames&&(h.motionBlurPxRatio=h.mbPxRBlurry)),h.clearingMotionBlur&&(h.motionBlurPxRatio=1),h.textureDrawLastFrame&&!b&&(_[h.NODE]=!0,_[h.SELECT_BOX]=!0);var O=m.style(),N=m.zoom(),R=void 0!==d?d:N,V=m.pan(),j={x:V.x,y:V.y},P={zoom:N,pan:{x:V.x,y:V.y}},$=h.prevViewport;!(void 0===$||P.zoom!==$.zoom||P.pan.x!==$.pan.x||P.pan.y!==$.pan.y)&&!(T&&!C)&&(h.motionBlurPxRatio=1),f&&(j=f),R*=g,j.x*=g,j.y*=g;var G=h.getCachedZSortedEles();function U(He,$e,lt,ut,nt){var ft=He.globalCompositeOperation;He.globalCompositeOperation="destination-out",h.colorFillStyle(He,255,255,255,h.motionBlurTransparency),He.fillRect($e,lt,ut,nt),He.globalCompositeOperation=ft}function B(He,$e){var lt,ut,nt,ft;h.clearingMotionBlur||He!==v.bufferContexts[h.MOTIONBLUR_BUFFER_NODE]&&He!==v.bufferContexts[h.MOTIONBLUR_BUFFER_DRAG]?(lt=j,ut=R,nt=h.canvasWidth,ft=h.canvasHeight):(lt={x:V.x*E,y:V.y*E},ut=N*E,nt=h.canvasWidth*E,ft=h.canvasHeight*E),He.setTransform(1,0,0,1,0,0),"motionBlur"===$e?U(He,0,0,nt,ft):!o&&(void 0===$e||$e)&&He.clearRect(0,0,nt,ft),s||(He.translate(lt.x,lt.y),He.scale(ut,ut)),f&&He.translate(f.x,f.y),d&&He.scale(d,d)}if(b||(h.textureDrawLastFrame=!1),b){if(h.textureDrawLastFrame=!0,!h.textureCache){h.textureCache={},h.textureCache.bb=m.mutableElements().boundingBox(),h.textureCache.texture=h.data.bufferCanvases[h.TEXTURE_BUFFER];var z=h.data.bufferContexts[h.TEXTURE_BUFFER];z.setTransform(1,0,0,1,0,0),z.clearRect(0,0,h.canvasWidth*h.textureMult,h.canvasHeight*h.textureMult),h.render({forcedContext:z,drawOnlyNodeLayer:!0,forcedPxRatio:g*h.textureMult}),(P=h.textureCache.viewport={zoom:m.zoom(),pan:m.pan(),width:h.canvasWidth,height:h.canvasHeight}).mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}_[h.DRAG]=!1,_[h.NODE]=!1;var Q=h.textureCache.texture;P=h.textureCache.viewport,(H=v.contexts[h.NODE]).setTransform(1,0,0,1,0,0),D?U(H,0,0,P.width,P.height):H.clearRect(0,0,P.width,P.height);var q=O.core("outside-texture-bg-color").value,W=O.core("outside-texture-bg-opacity").value;h.colorFillStyle(H,q[0],q[1],q[2],W),H.fillRect(0,0,P.width,P.height),N=m.zoom(),B(H,!1),H.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/g,P.height/P.zoom/g),H.drawImage(Q,P.mpan.x,P.mpan.y,P.width/P.zoom/g,P.height/P.zoom/g)}else h.textureOnViewport&&!o&&(h.textureCache=null);var ee=m.extent(),ae=h.pinching||h.hoverData.dragging||h.swipePanning||h.data.wheelZooming||h.hoverData.draggingEles||h.cy.animated(),he=h.hideEdgesOnViewport&&ae,te=[];if(te[h.NODE]=!_[h.NODE]&&D&&!h.clearedForMotionBlur[h.NODE]||h.clearingMotionBlur,te[h.NODE]&&(h.clearedForMotionBlur[h.NODE]=!0),te[h.DRAG]=!_[h.DRAG]&&D&&!h.clearedForMotionBlur[h.DRAG]||h.clearingMotionBlur,te[h.DRAG]&&(h.clearedForMotionBlur[h.DRAG]=!0),_[h.NODE]||s||u||te[h.NODE]){var de=D&&!te[h.NODE]&&1!==E;B(H=o||(de?h.data.bufferContexts[h.MOTIONBLUR_BUFFER_NODE]:v.contexts[h.NODE]),D&&!de?"motionBlur":void 0),he?h.drawCachedNodes(H,G.nondrag,g,ee):h.drawLayeredElements(H,G.nondrag,g,ee),h.debug&&h.drawDebugPoints(H,G.nondrag),!s&&!D&&(_[h.NODE]=!1)}if(!u&&(_[h.DRAG]||s||te[h.DRAG])&&(de=D&&!te[h.DRAG]&&1!==E,B(H=o||(de?h.data.bufferContexts[h.MOTIONBLUR_BUFFER_DRAG]:v.contexts[h.DRAG]),D&&!de?"motionBlur":void 0),he?h.drawCachedNodes(H,G.drag,g,ee):h.drawCachedElements(H,G.drag,g,ee),h.debug&&h.drawDebugPoints(H,G.drag),!s&&!D&&(_[h.DRAG]=!1)),h.showFps||!u&&_[h.SELECT_BOX]&&!s){var H;if(B(H=o||v.contexts[h.SELECT_BOX]),1==h.selection[4]&&(h.hoverData.selecting||h.touchData.selecting)){N=h.cy.zoom();var we=O.core("selection-box-border-width").value/N;H.lineWidth=we,H.fillStyle="rgba("+O.core("selection-box-color").value[0]+","+O.core("selection-box-color").value[1]+","+O.core("selection-box-color").value[2]+","+O.core("selection-box-opacity").value+")",H.fillRect(h.selection[0],h.selection[1],h.selection[2]-h.selection[0],h.selection[3]-h.selection[1]),we>0&&(H.strokeStyle="rgba("+O.core("selection-box-border-color").value[0]+","+O.core("selection-box-border-color").value[1]+","+O.core("selection-box-border-color").value[2]+","+O.core("selection-box-opacity").value+")",H.strokeRect(h.selection[0],h.selection[1],h.selection[2]-h.selection[0],h.selection[3]-h.selection[1]))}if(v.bgActivePosistion&&!h.hoverData.selecting){N=h.cy.zoom();var _e=v.bgActivePosistion;H.fillStyle="rgba("+O.core("active-bg-color").value[0]+","+O.core("active-bg-color").value[1]+","+O.core("active-bg-color").value[2]+","+O.core("active-bg-opacity").value+")",H.beginPath(),H.arc(_e.x,_e.y,O.core("active-bg-size").pfValue/N,0,2*Math.PI),H.fill()}var Ee=h.lastRedrawTime;if(h.showFps&&Ee){Ee=Math.round(Ee);var ie=Math.round(1e3/Ee);H.setTransform(1,0,0,1,0,0),H.fillStyle="rgba(255, 0, 0, 0.75)",H.strokeStyle="rgba(255, 0, 0, 0.75)",H.lineWidth=1,H.fillText("1 frame = "+Ee+" ms = "+ie+" fps",0,20),H.strokeRect(0,30,250,20),H.fillRect(0,30,250*Math.min(ie/60,1),20)}s||(_[h.SELECT_BOX]=!1)}if(D&&1!==E){var Re=v.contexts[h.DRAG],it=h.data.bufferCanvases[h.MOTIONBLUR_BUFFER_DRAG],St=function($e,lt,ut){$e.setTransform(1,0,0,1,0,0),ut||!I?$e.clearRect(0,0,h.canvasWidth,h.canvasHeight):U($e,0,0,h.canvasWidth,h.canvasHeight),$e.drawImage(lt,0,0,h.canvasWidth*E,h.canvasHeight*E,0,0,h.canvasWidth,h.canvasHeight)};(_[h.NODE]||te[h.NODE])&&(St(v.contexts[h.NODE],h.data.bufferCanvases[h.MOTIONBLUR_BUFFER_NODE],te[h.NODE]),_[h.NODE]=!1),(_[h.DRAG]||te[h.DRAG])&&(St(Re,it,te[h.DRAG]),_[h.DRAG]=!1)}h.prevViewport=P,h.clearingMotionBlur&&(h.clearingMotionBlur=!1,h.motionBlurCleared=!0,h.motionBlur=!0),D&&(h.motionBlurTimeout=setTimeout(function(){h.motionBlurTimeout=null,h.clearedForMotionBlur[h.NODE]=!1,h.clearedForMotionBlur[h.DRAG]=!1,h.motionBlur=!1,h.clearingMotionBlur=!b,h.mbFrames=0,_[h.NODE]=!0,_[h.DRAG]=!0,h.redraw()},100)),o||m.emit("render")}},Sa={drawPolygonPath:function(a,o,s,u,d,f){var h=u/2,g=d/2;a.beginPath&&a.beginPath(),a.moveTo(o+h*f[0],s+g*f[1]);for(var m=1;m<f.length/2;m++)a.lineTo(o+h*f[2*m],s+g*f[2*m+1]);a.closePath()},drawRoundPolygonPath:function(a,o,s,u,d,f){var h=u/2,g=d/2,m=Cl(u,d);a.beginPath&&a.beginPath();for(var v=0;v<f.length/4;v++){var b,_;_=0===v?f.length-2:4*v-2,b=4*v+2;var D=o+h*f[4*v],E=s+g*f[4*v+1],T=m/Math.tan(Math.acos(-f[_]*f[b]-f[_+1]*f[b+1])/2),M=D-T*f[_],I=E-T*f[_+1],O=D+T*f[b],N=E+T*f[b+1];0===v?a.moveTo(M,I):a.lineTo(M,I),a.arcTo(D,E,O,N,m)}a.closePath()},drawRoundRectanglePath:function(a,o,s,u,d){var f=u/2,h=d/2,g=Cs(u,d);a.beginPath&&a.beginPath(),a.moveTo(o,s-h),a.arcTo(o+f,s-h,o+f,s,g),a.arcTo(o+f,s+h,o,s+h,g),a.arcTo(o-f,s+h,o-f,s,g),a.arcTo(o-f,s-h,o,s-h,g),a.lineTo(o,s-h),a.closePath()},drawBottomRoundRectanglePath:function(a,o,s,u,d){var f=u/2,h=d/2,g=Cs(u,d);a.beginPath&&a.beginPath(),a.moveTo(o,s-h),a.lineTo(o+f,s-h),a.lineTo(o+f,s),a.arcTo(o+f,s+h,o,s+h,g),a.arcTo(o-f,s+h,o-f,s,g),a.lineTo(o-f,s-h),a.lineTo(o,s-h),a.closePath()},drawCutRectanglePath:function(a,o,s,u,d){var f=u/2,h=d/2;a.beginPath&&a.beginPath(),a.moveTo(o-f+8,s-h),a.lineTo(o+f-8,s-h),a.lineTo(o+f,s-h+8),a.lineTo(o+f,s+h-8),a.lineTo(o+f-8,s+h),a.lineTo(o-f+8,s+h),a.lineTo(o-f,s+h-8),a.lineTo(o-f,s-h+8),a.closePath()},drawBarrelPath:function(a,o,s,u,d){var f=u/2,h=d/2,g=o-f,m=o+f,v=s-h,_=s+h,b=Bp(u,d),D=b.widthOffset,E=b.heightOffset,C=b.ctrlPtOffsetPct*D;a.beginPath&&a.beginPath(),a.moveTo(g,v+E),a.lineTo(g,_-E),a.quadraticCurveTo(g+C,_,g+D,_),a.lineTo(m-D,_),a.quadraticCurveTo(m-C,_,m,_-E),a.lineTo(m,v+E),a.quadraticCurveTo(m-C,v,m-D,v),a.lineTo(g+D,v),a.quadraticCurveTo(g+C,v,g,v+E),a.closePath()}},zg=Math.sin(0),Wg=Math.cos(0),Js={},Sc={},qg=Math.PI/40,Xa=0*Math.PI;Xa<2*Math.PI;Xa+=qg)Js[Xa]=Math.sin(Xa),Sc[Xa]=Math.cos(Xa);Sa.drawEllipsePath=function(a,o,s,u,d){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(o,s,u/2,d/2,0,0,2*Math.PI);else for(var f,h,g=u/2,m=d/2,v=0*Math.PI;v<2*Math.PI;v+=qg)f=o-g*Js[v]*zg+g*Sc[v]*Wg,h=s+m*Sc[v]*zg+m*Js[v]*Wg,0===v?a.moveTo(f,h):a.lineTo(f,h);a.closePath()};var Tc={};function k0(a){var o=a.indexOf(",");return a.substr(o+1)}function Yg(a,o,s){var u=function(){return o.toDataURL(s,a.quality)};switch(a.output){case"blob-promise":return new Jn(function(d,f){try{o.toBlob(function(h){null!=h?d(h):f(new Error("`canvas.toBlob()` sent a null value in its callback"))},s,a.quality)}catch(h){f(h)}});case"blob":return function Kg(a,o){for(var s=atob(a),u=new ArrayBuffer(s.length),d=new Uint8Array(u),f=0;f<s.length;f++)d[f]=s.charCodeAt(f);return new Blob([u],{type:o})}(k0(u()),s);case"base64":return k0(u());default:return u()}}Tc.createBuffer=function(a,o){var s=document.createElement("canvas");return s.width=a,s.height=o,[s,s.getContext("2d")]},Tc.bufferCanvasImage=function(a){var o=this.cy,u=o.mutableElements().boundingBox(),d=this.findContainerClientCoords(),f=a.full?Math.ceil(u.w):d[2],h=a.full?Math.ceil(u.h):d[3],g=Ge(a.maxWidth)||Ge(a.maxHeight),m=this.getPixelRatio(),v=1;if(void 0!==a.scale)f*=a.scale,h*=a.scale,v=a.scale;else if(g){var _=1/0,b=1/0;Ge(a.maxWidth)&&(_=v*a.maxWidth/f),Ge(a.maxHeight)&&(b=v*a.maxHeight/h),f*=v=Math.min(_,b),h*=v}g||(f*=m,h*=m,v*=m);var D=document.createElement("canvas");D.width=f,D.height=h,D.style.width=f+"px",D.style.height=h+"px";var E=D.getContext("2d");if(f>0&&h>0){E.clearRect(0,0,f,h),E.globalCompositeOperation="source-over";var C=this.getCachedZSortedEles();if(a.full)E.translate(-u.x1*v,-u.y1*v),E.scale(v,v),this.drawElements(E,C),E.scale(1/v,1/v),E.translate(u.x1*v,u.y1*v);else{var T=o.pan(),M={x:T.x*v,y:T.y*v};v*=o.zoom(),E.translate(M.x,M.y),E.scale(v,v),this.drawElements(E,C),E.scale(1/v,1/v),E.translate(-M.x,-M.y)}a.bg&&(E.globalCompositeOperation="destination-over",E.fillStyle=a.bg,E.rect(0,0,f,h),E.fill())}return D},Tc.png=function(a){return Yg(a,this.bufferCanvasImage(a),"image/png")},Tc.jpg=function(a){return Yg(a,this.bufferCanvasImage(a),"image/jpeg")};var Vf=F0,un=F0.prototype;function F0(a){var o=this;o.data={canvases:new Array(un.CANVAS_LAYERS),contexts:new Array(un.CANVAS_LAYERS),canvasNeedsRedraw:new Array(un.CANVAS_LAYERS),bufferCanvases:new Array(un.BUFFER_COUNT),bufferContexts:new Array(un.CANVAS_LAYERS)};var s="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var d=o.data.canvasContainer.style;o.data.canvasContainer.style[s]=u,d.position="relative",d.zIndex="0",d.overflow="hidden";var f=a.cy.container();f.appendChild(o.data.canvasContainer),f.style[s]=u;var h={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};nn&&nn.userAgent.match(/msie|trident|edge/i)&&(h["-ms-touch-action"]="none",h["touch-action"]="none");for(var g=0;g<un.CANVAS_LAYERS;g++){var m=o.data.canvases[g]=document.createElement("canvas");o.data.contexts[g]=m.getContext("2d"),Object.keys(h).forEach(function(Ee){m.style[Ee]=h[Ee]}),m.style.position="absolute",m.setAttribute("data-id","layer"+g),m.style.zIndex=String(un.CANVAS_LAYERS-g),o.data.canvasContainer.appendChild(m),o.data.canvasNeedsRedraw[g]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[un.NODE].setAttribute("data-id","layer"+un.NODE+"-node"),o.data.canvases[un.SELECT_BOX].setAttribute("data-id","layer"+un.SELECT_BOX+"-selectbox"),o.data.canvases[un.DRAG].setAttribute("data-id","layer"+un.DRAG+"-drag"),g=0;g<un.BUFFER_COUNT;g++)o.data.bufferCanvases[g]=document.createElement("canvas"),o.data.bufferContexts[g]=o.data.bufferCanvases[g].getContext("2d"),o.data.bufferCanvases[g].style.position="absolute",o.data.bufferCanvases[g].setAttribute("data-id","buffer"+g),o.data.bufferCanvases[g].style.zIndex=String(-g-1),o.data.bufferCanvases[g].style.visibility="hidden";o.pathsEnabled=!0;var v=yi(),b=function(ie){return{x:-ie.w/2,y:-ie.h/2}},V=function(ie){return ie.boundingBox(),ie[0]._private.bodyBounds},j=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.main||v},P=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.source||v},$=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.target||v},k=function(ie,be){return be},U=function(ie,be,Ie){var Me=ie?ie+"-":"";return{x:be.x+Ie.pstyle(Me+"text-margin-x").pfValue,y:be.y+Ie.pstyle(Me+"text-margin-y").pfValue}},B=function(ie,be,Ie){var Me=ie[0]._private.rscratch;return{x:Me[be],y:Me[Ie]}},he=o.data.eleTxrCache=new ql(o,{getKey:function(ie){return ie[0]._private.nodeKey},doesEleInvalidateKey:function(ie){var be=ie[0]._private;return!(be.oldBackgroundTimestamp===be.backgroundTimestamp)},drawElement:function(ie,be,Ie,Me,Re){return o.drawElement(ie,be,Ie,!1,!1,Re)},getBoundingBox:V,getRotationPoint:function(ie){return function(ie){return{x:(ie.x1+ie.x2)/2,y:(ie.y1+ie.y2)/2}}(V(ie))},getRotationOffset:function(ie){return b(V(ie))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),te=o.data.lblTxrCache=new ql(o,{getKey:function(ie){return ie[0]._private.labelStyleKey},drawElement:function(ie,be,Ie,Me,Re){return o.drawElementText(ie,be,Ie,Me,"main",Re)},getBoundingBox:j,getRotationPoint:function(ie){return U("",B(ie,"labelX","labelY"),ie)},getRotationOffset:function(ie){var be=j(ie),Ie=b(j(ie));if(ie.isNode()){switch(ie.pstyle("text-halign").value){case"left":Ie.x=-be.w;break;case"right":Ie.x=0}switch(ie.pstyle("text-valign").value){case"top":Ie.y=-be.h;break;case"bottom":Ie.y=0}}return Ie},isVisible:k}),de=o.data.slbTxrCache=new ql(o,{getKey:function(ie){return ie[0]._private.sourceLabelStyleKey},drawElement:function(ie,be,Ie,Me,Re){return o.drawElementText(ie,be,Ie,Me,"source",Re)},getBoundingBox:P,getRotationPoint:function(ie){return U("source",B(ie,"sourceLabelX","sourceLabelY"),ie)},getRotationOffset:function(ie){return b(P(ie))},isVisible:k}),ye=o.data.tlbTxrCache=new ql(o,{getKey:function(ie){return ie[0]._private.targetLabelStyleKey},drawElement:function(ie,be,Ie,Me,Re){return o.drawElementText(ie,be,Ie,Me,"target",Re)},getBoundingBox:$,getRotationPoint:function(ie){return U("target",B(ie,"targetLabelX","targetLabelY"),ie)},getRotationOffset:function(ie){return b($(ie))},isVisible:k}),we=o.data.lyrTxrCache=new Pf(o);o.onUpdateEleCalcs(function(ie,be){he.invalidateElements(be),te.invalidateElements(be),de.invalidateElements(be),ye.invalidateElements(be),we.invalidateElements(be);for(var Ie=0;Ie<be.length;Ie++){var Me=be[Ie]._private;Me.oldBackgroundTimestamp=Me.backgroundTimestamp}});var _e=function(ie){for(var be=0;be<ie.length;be++)we.enqueueElementRefinement(ie[be].ele)};he.onDequeue(_e),te.onDequeue(_e),de.onDequeue(_e),ye.onDequeue(_e)}un.CANVAS_LAYERS=3,un.SELECT_BOX=0,un.DRAG=1,un.NODE=2,un.BUFFER_COUNT=3,un.TEXTURE_BUFFER=0,un.MOTIONBLUR_BUFFER_NODE=1,un.MOTIONBLUR_BUFFER_DRAG=2,un.redrawHint=function(a,o){var s=this;switch(a){case"eles":s.data.canvasNeedsRedraw[un.NODE]=o;break;case"drag":s.data.canvasNeedsRedraw[un.DRAG]=o;break;case"select":s.data.canvasNeedsRedraw[un.SELECT_BOX]=o}};var Hf=typeof Path2D<"u";un.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a},un.usePaths=function(){return Hf&&this.pathsEnabled},un.setImgSmoothing=function(a,o){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=o:(a.webkitImageSmoothingEnabled=o,a.mozImageSmoothingEnabled=o,a.msImageSmoothingEnabled=o)},un.getImgSmoothing=function(a){return null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled:a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled},un.makeOffscreenCanvas=function(a,o){var s;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":Bt(OffscreenCanvas))?s=new OffscreenCanvas(a,o):((s=document.createElement("canvas")).width=a,s.height=o),s},[$g,Co,Uo,Ea,oo,Zl,Ei,Sa,Tc,{nodeShapeImpl:function(a,o,s,u,d,f,h){switch(a){case"ellipse":return this.drawEllipsePath(o,s,u,d,f);case"polygon":return this.drawPolygonPath(o,s,u,d,f,h);case"round-polygon":return this.drawRoundPolygonPath(o,s,u,d,f,h);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,s,u,d,f);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,s,u,d,f);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,s,u,d,f);case"barrel":return this.drawBarrelPath(o,s,u,d,f)}}}].forEach(function(a){mt(un,a)});var fD=[{type:"layout",extensions:D0},{type:"renderer",extensions:[{name:"null",impl:js},{name:"base",impl:Gr},{name:"canvas",impl:Vf}]}],L0={},B0={};function V0(a,o,s){var u=s,d=function($){bt("Can not register `"+o+"` for `"+a+"` since `"+$+"` already exists in the prototype and can not be overridden")};if("core"===a){if(Ya.prototype[o])return d(o);Ya.prototype[o]=s}else if("collection"===a){if(Dr.prototype[o])return d(o);Dr.prototype[o]=s}else if("layout"===a){for(var f=function($){this.options=$,s.call(this,$),at(this._private)||(this._private={}),this._private.cy=$.cy,this._private.listeners=[],this.createEmitter()},h=f.prototype=Object.create(s.prototype),g=[],m=0;m<g.length;m++){var v=g[m];h[v]=h[v]||function(){return this}}h.start&&!h.run?h.run=function(){return this.start(),this}:!h.start&&h.run&&(h.start=function(){return this.run(),this});var _=s.prototype.stop;h.stop=function(){var P=this.options;if(P&&P.animate){var $=this.animations;if($)for(var k=0;k<$.length;k++)$[k].stop()}return _?_.call(this):this.emit("layoutstop"),this},h.destroy||(h.destroy=function(){return this}),h.cy=function(){return this._private.cy};var b=function($){return $._private.cy},D={addEventFields:function($,k){k.layout=$,k.cy=b($),k.target=$},bubble:function(){return!0},parent:function($){return b($)}};mt(h,{createEmitter:function(){return this._private.emitter=new ec(D,this),this},emitter:function(){return this._private.emitter},on:function($,k){return this.emitter().on($,k),this},one:function($,k){return this.emitter().one($,k),this},once:function($,k){return this.emitter().one($,k),this},removeListener:function($,k){return this.emitter().removeListener($,k),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function($,k){return this.emitter().emit($,k),this}}),tn.eventAliasesOn(h),u=f}else if("renderer"===a&&"null"!==o&&"base"!==o){var E=Qg("renderer","base"),C=E.prototype,T=s,M=s.prototype,I=function(){E.apply(this,arguments),T.apply(this,arguments)},O=I.prototype;for(var N in C){var R=C[N];if(null!=M[N])return d(N);O[N]=R}for(var j in M)O[j]=M[j];C.clientFunctions.forEach(function(P){O[P]=O[P]||function(){fn("Renderer does not implement `renderer."+P+"()` on its prototype")}}),u=I}else if("__proto__"===a||"constructor"===a||"prototype"===a)return fn(a+" is an illegal type to be registered, possibly lead to prototype pollutions");return gp({map:L0,keys:[a,o],value:u})}function Qg(a,o){return vp({map:L0,keys:[a,o]})}function Mc(a,o,s,u,d){return gp({map:B0,keys:[a,o,s,u],value:d})}function Ic(a,o,s,u){return vp({map:B0,keys:[a,o,s,u]})}var xc=function(){return 2===arguments.length?Qg.apply(null,arguments):3===arguments.length?V0.apply(null,arguments):4===arguments.length?Ic.apply(null,arguments):5===arguments.length?Mc.apply(null,arguments):void fn("Invalid extension access syntax")};Ya.prototype.extension=xc,fD.forEach(function(a){a.extensions.forEach(function(o){V0(a.type,o.name,o.impl)})});var $f=function a(){if(!(this instanceof a))return new a;this.length=0},Ta=$f.prototype;Ta.instanceString=function(){return"stylesheet"},Ta.selector=function(a){return this[this.length++]={selector:a,properties:[]},this},Ta.css=function(a,o){var s=this.length-1;if(Pe(a))this[s].properties.push({name:a,value:o});else if(at(a))for(var u=a,d=Object.keys(u),f=0;f<d.length;f++){var h=d[f],g=u[h];if(null!=g){var m=Rr.properties[h]||Rr.properties[Rd(h)];null!=m&&this[s].properties.push({name:m.name,value:g})}}return this},Ta.style=Ta.css,Ta.generateStyle=function(a){var o=new Rr(a);return this.appendToStyle(o)},Ta.appendToStyle=function(a){for(var o=0;o<this.length;o++){var s=this[o],d=s.properties;a.selector(s.selector);for(var f=0;f<d.length;f++){var h=d[f];a.css(h.name,h.value)}}return a};var Ma=function(o){return void 0===o&&(o={}),at(o)?new Ya(o):Pe(o)?xc.apply(xc,arguments):void 0};Ma.use=function(a){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Ma),a.apply(null,o),this},Ma.warnings=function(a){return Ep(a)},Ma.version="3.28.1",Ma.stylesheet=Ma.Stylesheet=$f,ue.exports=Ma},7444:(ue,Le,Y)=>{ue.exports=Y(7253)},7253:function(ue,Le){var Y,X,ce;(function(){var ge,ve,Se,Ce,Ue,tt,rt,ct,Fn,Bt,gr,Qn,Dn,Kn,Xt;Se=Math.floor,Bt=Math.min,ve=function(Oe,Ye){return Oe<Ye?-1:Oe>Ye?1:0},Fn=function(Oe,Ye,Je,pt,Cn){var xt;if(null==Je&&(Je=0),null==Cn&&(Cn=ve),Je<0)throw new Error("lo must be non-negative");for(null==pt&&(pt=Oe.length);Je<pt;)Cn(Ye,Oe[xt=Se((Je+pt)/2)])<0?pt=xt:Je=xt+1;return[].splice.apply(Oe,[Je,Je-Je].concat(Ye)),Ye},tt=function(Oe,Ye,Je){return null==Je&&(Je=ve),Oe.push(Ye),Kn(Oe,0,Oe.length-1,Je)},Ue=function(Oe,Ye){var Je,pt;return null==Ye&&(Ye=ve),Je=Oe.pop(),Oe.length?(pt=Oe[0],Oe[0]=Je,Xt(Oe,0,Ye)):pt=Je,pt},ct=function(Oe,Ye,Je){var pt;return null==Je&&(Je=ve),pt=Oe[0],Oe[0]=Ye,Xt(Oe,0,Je),pt},rt=function(Oe,Ye,Je){var pt;return null==Je&&(Je=ve),Oe.length&&Je(Oe[0],Ye)<0&&(Ye=(pt=[Oe[0],Ye])[0],Oe[0]=pt[1],Xt(Oe,0,Je)),Ye},Ce=function(Oe,Ye){var pt,xt,Ln,Qr,Ri;for(null==Ye&&(Ye=ve),Qr=[],pt=0,xt=(Ln=function(){Ri=[];for(var mi=0,Yn=Se(Oe.length/2);0<=Yn?mi<Yn:mi>Yn;0<=Yn?mi++:mi--)Ri.push(mi);return Ri}.apply(this).reverse()).length;pt<xt;pt++)Qr.push(Xt(Oe,Ln[pt],Ye));return Qr},Dn=function(Oe,Ye,Je){var pt;if(null==Je&&(Je=ve),-1!==(pt=Oe.indexOf(Ye)))return Kn(Oe,0,pt,Je),Xt(Oe,pt,Je)},gr=function(Oe,Ye,Je){var Cn,xt,nn,Ln;if(null==Je&&(Je=ve),!(Cn=Oe.slice(0,Ye)).length)return Cn;for(Ce(Cn,Je),xt=0,nn=(Ln=Oe.slice(Ye)).length;xt<nn;xt++)rt(Cn,Ln[xt],Je);return Cn.sort(Je).reverse()},Qn=function(Oe,Ye,Je){var pt,xt,nn,Ln,Qr,Ri,mi,Yn,Pe;if(null==Je&&(Je=ve),10*Ye<=Oe.length){if(!(nn=Oe.slice(0,Ye).sort(Je)).length)return nn;for(xt=nn[nn.length-1],Ln=0,Ri=(mi=Oe.slice(Ye)).length;Ln<Ri;Ln++)Je(pt=mi[Ln],xt)<0&&(Fn(nn,pt,0,null,Je),nn.pop(),xt=nn[nn.length-1]);return nn}for(Ce(Oe,Je),Pe=[],Qr=0,Yn=Bt(Ye,Oe.length);0<=Yn?Qr<Yn:Qr>Yn;0<=Yn?++Qr:--Qr)Pe.push(Ue(Oe,Je));return Pe},Kn=function(Oe,Ye,Je,pt){var Cn,xt,nn;for(null==pt&&(pt=ve),Cn=Oe[Je];Je>Ye&&pt(Cn,xt=Oe[nn=Je-1>>1])<0;)Oe[Je]=xt,Je=nn;return Oe[Je]=Cn},Xt=function(Oe,Ye,Je){var pt,Cn,xt,nn,Ln;for(null==Je&&(Je=ve),Cn=Oe.length,Ln=Ye,xt=Oe[Ye],pt=2*Ye+1;pt<Cn;)(nn=pt+1)<Cn&&!(Je(Oe[pt],Oe[nn])<0)&&(pt=nn),Oe[Ye]=Oe[pt],pt=2*(Ye=pt)+1;return Oe[Ye]=xt,Kn(Oe,Ln,Ye,Je)},ge=function(){function Oe(Ye){this.cmp=Ye??ve,this.nodes=[]}return Oe.push=tt,Oe.pop=Ue,Oe.replace=ct,Oe.pushpop=rt,Oe.heapify=Ce,Oe.updateItem=Dn,Oe.nlargest=gr,Oe.nsmallest=Qn,Oe.prototype.push=function(Ye){return tt(this.nodes,Ye,this.cmp)},Oe.prototype.pop=function(){return Ue(this.nodes,this.cmp)},Oe.prototype.peek=function(){return this.nodes[0]},Oe.prototype.contains=function(Ye){return-1!==this.nodes.indexOf(Ye)},Oe.prototype.replace=function(Ye){return ct(this.nodes,Ye,this.cmp)},Oe.prototype.pushpop=function(Ye){return rt(this.nodes,Ye,this.cmp)},Oe.prototype.heapify=function(){return Ce(this.nodes,this.cmp)},Oe.prototype.updateItem=function(Ye){return Dn(this.nodes,Ye,this.cmp)},Oe.prototype.clear=function(){return this.nodes=[]},Oe.prototype.empty=function(){return 0===this.nodes.length},Oe.prototype.size=function(){return this.nodes.length},Oe.prototype.clone=function(){var Ye;return(Ye=new Oe).nodes=this.nodes.slice(0),Ye},Oe.prototype.toArray=function(){return this.nodes.slice(0)},Oe.prototype.insert=Oe.prototype.push,Oe.prototype.top=Oe.prototype.peek,Oe.prototype.front=Oe.prototype.peek,Oe.prototype.has=Oe.prototype.contains,Oe.prototype.copy=Oe.prototype.clone,Oe}(),X=[],void 0===(ce="function"==typeof(Y=function(){return ge})?Y.apply(Le,X):Y)||(ue.exports=ce)}).call(this)},9618:(ue,Le,Y)=>{var X=Y(5602),ce=Y(1499),ge=Y(2990),ve=Y(480),Se=Y(4469);function Ce(Ue){var tt=-1,rt=null==Ue?0:Ue.length;for(this.clear();++tt<rt;){var ct=Ue[tt];this.set(ct[0],ct[1])}}Ce.prototype.clear=X,Ce.prototype.delete=ce,Ce.prototype.get=ge,Ce.prototype.has=ve,Ce.prototype.set=Se,ue.exports=Ce},3597:(ue,Le,Y)=>{var X=Y(9365),ce=Y(9343),ge=Y(4779),ve=Y(1509),Se=Y(7137);function Ce(Ue){var tt=-1,rt=null==Ue?0:Ue.length;for(this.clear();++tt<rt;){var ct=Ue[tt];this.set(ct[0],ct[1])}}Ce.prototype.clear=X,Ce.prototype.delete=ce,Ce.prototype.get=ge,Ce.prototype.has=ve,Ce.prototype.set=Se,ue.exports=Ce},1136:(ue,Le,Y)=>{var ge=Y(8745)(Y(8492),"Map");ue.exports=ge},1811:(ue,Le,Y)=>{var X=Y(3413),ce=Y(5419),ge=Y(7336),ve=Y(1115),Se=Y(6648);function Ce(Ue){var tt=-1,rt=null==Ue?0:Ue.length;for(this.clear();++tt<rt;){var ct=Ue[tt];this.set(ct[0],ct[1])}}Ce.prototype.clear=X,Ce.prototype.delete=ce,Ce.prototype.get=ge,Ce.prototype.has=ve,Ce.prototype.set=Se,ue.exports=Ce},1763:(ue,Le,Y)=>{var X=Y(8492);ue.exports=X.Symbol},3880:ue=>{ue.exports=function Le(Y,X){for(var ce=-1,ge=null==Y?0:Y.length,ve=Array(ge);++ce<ge;)ve[ce]=X(Y[ce],ce,Y);return ve}},9553:(ue,Le,Y)=>{var X=Y(1741),ce=Y(7826),ve=Object.prototype.hasOwnProperty;ue.exports=function Se(Ce,Ue,tt){var rt=Ce[Ue];(!ve.call(Ce,Ue)||!ce(rt,tt)||void 0===tt&&!(Ue in Ce))&&X(Ce,Ue,tt)}},4056:(ue,Le,Y)=>{var X=Y(7826);ue.exports=function ce(ge,ve){for(var Se=ge.length;Se--;)if(X(ge[Se][0],ve))return Se;return-1}},1741:(ue,Le,Y)=>{var X=Y(9383);ue.exports=function ce(ge,ve,Se){"__proto__"==ve&&X?X(ge,ve,{configurable:!0,enumerable:!0,value:Se,writable:!0}):ge[ve]=Se}},2202:(ue,Le,Y)=>{var X=Y(4826),ce=Y(8916);ue.exports=function ge(ve,Se){for(var Ce=0,Ue=(Se=X(Se,ve)).length;null!=ve&&Ce<Ue;)ve=ve[ce(Se[Ce++])];return Ce&&Ce==Ue?ve:void 0}},4590:(ue,Le,Y)=>{var X=Y(1763),ce=Y(5933),ge=Y(9243),Ce=X?X.toStringTag:void 0;ue.exports=function Ue(tt){return null==tt?void 0===tt?"[object Undefined]":"[object Null]":Ce&&Ce in Object(tt)?ce(tt):ge(tt)}},1082:(ue,Le,Y)=>{var X=Y(6861),ce=Y(9950),ge=Y(9794),ve=Y(7075),Ce=/^\[object .+?Constructor\]$/,Fn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ue.exports=function Bt(gr){return!(!ge(gr)||ce(gr))&&(X(gr)?Fn:Ce).test(ve(gr))}},9478:(ue,Le,Y)=>{var X=Y(9553),ce=Y(4826),ge=Y(5188),ve=Y(9794),Se=Y(8916);ue.exports=function Ce(Ue,tt,rt,ct){if(!ve(Ue))return Ue;for(var Fn=-1,Bt=(tt=ce(tt,Ue)).length,gr=Bt-1,Qn=Ue;null!=Qn&&++Fn<Bt;){var Dn=Se(tt[Fn]),Kn=rt;if("__proto__"===Dn||"constructor"===Dn||"prototype"===Dn)return Ue;if(Fn!=gr){var Xt=Qn[Dn];void 0===(Kn=ct?ct(Xt,Dn,Qn):void 0)&&(Kn=ve(Xt)?Xt:ge(tt[Fn+1])?[]:{})}X(Qn,Dn,Kn),Qn=Qn[Dn]}return Ue}},7002:(ue,Le,Y)=>{var X=Y(1763),ce=Y(3880),ge=Y(2261),ve=Y(3423),Ce=X?X.prototype:void 0,Ue=Ce?Ce.toString:void 0;ue.exports=function tt(rt){if("string"==typeof rt)return rt;if(ge(rt))return ce(rt,tt)+"";if(ve(rt))return Ue?Ue.call(rt):"";var ct=rt+"";return"0"==ct&&1/rt==-1/0?"-0":ct}},9484:(ue,Le,Y)=>{var X=Y(1781),ce=/^\s+/;ue.exports=function ge(ve){return ve&&ve.slice(0,X(ve)+1).replace(ce,"")}},4826:(ue,Le,Y)=>{var X=Y(2261),ce=Y(6300),ge=Y(163),ve=Y(2674);ue.exports=function Se(Ce,Ue){return X(Ce)?Ce:ce(Ce,Ue)?[Ce]:ge(ve(Ce))}},4231:ue=>{ue.exports=function Le(Y,X){var ce=-1,ge=Y.length;for(X||(X=Array(ge));++ce<ge;)X[ce]=Y[ce];return X}},6189:(ue,Le,Y)=>{var X=Y(8492);ue.exports=X["__core-js_shared__"]},9383:(ue,Le,Y)=>{var X=Y(8745),ce=function(){try{var ge=X(Object,"defineProperty");return ge({},"",{}),ge}catch{}}();ue.exports=ce},248:ue=>{var Le="object"==typeof global&&global&&global.Object===Object&&global;ue.exports=Le},4113:(ue,Le,Y)=>{var X=Y(29);ue.exports=function ce(ge,ve){var Se=ge.__data__;return X(ve)?Se["string"==typeof ve?"string":"hash"]:Se.map}},8745:(ue,Le,Y)=>{var X=Y(1082),ce=Y(1015);ue.exports=function ge(ve,Se){var Ce=ce(ve,Se);return X(Ce)?Ce:void 0}},5933:(ue,Le,Y)=>{var X=Y(1763),ce=Object.prototype,ge=ce.hasOwnProperty,ve=ce.toString,Se=X?X.toStringTag:void 0;ue.exports=function Ce(Ue){var tt=ge.call(Ue,Se),rt=Ue[Se];try{Ue[Se]=void 0;var ct=!0}catch{}var Fn=ve.call(Ue);return ct&&(tt?Ue[Se]=rt:delete Ue[Se]),Fn}},1015:ue=>{ue.exports=function Le(Y,X){return Y?.[X]}},5602:(ue,Le,Y)=>{var X=Y(893);ue.exports=function ce(){this.__data__=X?X(null):{},this.size=0}},1499:ue=>{ue.exports=function Le(Y){var X=this.has(Y)&&delete this.__data__[Y];return this.size-=X?1:0,X}},2990:(ue,Le,Y)=>{var X=Y(893),ve=Object.prototype.hasOwnProperty;ue.exports=function Se(Ce){var Ue=this.__data__;if(X){var tt=Ue[Ce];return"__lodash_hash_undefined__"===tt?void 0:tt}return ve.call(Ue,Ce)?Ue[Ce]:void 0}},480:(ue,Le,Y)=>{var X=Y(893),ge=Object.prototype.hasOwnProperty;ue.exports=function ve(Se){var Ce=this.__data__;return X?void 0!==Ce[Se]:ge.call(Ce,Se)}},4469:(ue,Le,Y)=>{var X=Y(893);ue.exports=function ge(ve,Se){var Ce=this.__data__;return this.size+=this.has(ve)?0:1,Ce[ve]=X&&void 0===Se?"__lodash_hash_undefined__":Se,this}},5188:ue=>{var Y=/^(?:0|[1-9]\d*)$/;ue.exports=function X(ce,ge){var ve=typeof ce;return!!(ge=ge??9007199254740991)&&("number"==ve||"symbol"!=ve&&Y.test(ce))&&ce>-1&&ce%1==0&&ce<ge}},6300:(ue,Le,Y)=>{var X=Y(2261),ce=Y(3423),ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/;ue.exports=function Se(Ce,Ue){if(X(Ce))return!1;var tt=typeof Ce;return!("number"!=tt&&"symbol"!=tt&&"boolean"!=tt&&null!=Ce&&!ce(Ce))||ve.test(Ce)||!ge.test(Ce)||null!=Ue&&Ce in Object(Ue)}},29:ue=>{ue.exports=function Le(Y){var X=typeof Y;return"string"==X||"number"==X||"symbol"==X||"boolean"==X?"__proto__"!==Y:null===Y}},9950:(ue,Le,Y)=>{var ve,X=Y(6189),ce=(ve=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+ve:"";ue.exports=function ge(ve){return!!ce&&ce in ve}},9365:ue=>{ue.exports=function Le(){this.__data__=[],this.size=0}},9343:(ue,Le,Y)=>{var X=Y(4056),ge=Array.prototype.splice;ue.exports=function ve(Se){var Ce=this.__data__,Ue=X(Ce,Se);return!(Ue<0||(Ue==Ce.length-1?Ce.pop():ge.call(Ce,Ue,1),--this.size,0))}},4779:(ue,Le,Y)=>{var X=Y(4056);ue.exports=function ce(ge){var ve=this.__data__,Se=X(ve,ge);return Se<0?void 0:ve[Se][1]}},1509:(ue,Le,Y)=>{var X=Y(4056);ue.exports=function ce(ge){return X(this.__data__,ge)>-1}},7137:(ue,Le,Y)=>{var X=Y(4056);ue.exports=function ce(ge,ve){var Se=this.__data__,Ce=X(Se,ge);return Ce<0?(++this.size,Se.push([ge,ve])):Se[Ce][1]=ve,this}},3413:(ue,Le,Y)=>{var X=Y(9618),ce=Y(3597),ge=Y(1136);ue.exports=function ve(){this.size=0,this.__data__={hash:new X,map:new(ge||ce),string:new X}}},5419:(ue,Le,Y)=>{var X=Y(4113);ue.exports=function ce(ge){var ve=X(this,ge).delete(ge);return this.size-=ve?1:0,ve}},7336:(ue,Le,Y)=>{var X=Y(4113);ue.exports=function ce(ge){return X(this,ge).get(ge)}},1115:(ue,Le,Y)=>{var X=Y(4113);ue.exports=function ce(ge){return X(this,ge).has(ge)}},6648:(ue,Le,Y)=>{var X=Y(4113);ue.exports=function ce(ge,ve){var Se=X(this,ge),Ce=Se.size;return Se.set(ge,ve),this.size+=Se.size==Ce?0:1,this}},7371:(ue,Le,Y)=>{var X=Y(7659);ue.exports=function ge(ve){var Se=X(ve,function(Ue){return 500===Ce.size&&Ce.clear(),Ue}),Ce=Se.cache;return Se}},893:(ue,Le,Y)=>{var ce=Y(8745)(Object,"create");ue.exports=ce},9243:ue=>{var Y=Object.prototype.toString;ue.exports=function X(ce){return Y.call(ce)}},8492:(ue,Le,Y)=>{var X=Y(248),ce="object"==typeof self&&self&&self.Object===Object&&self,ge=X||ce||Function("return this")();ue.exports=ge},163:(ue,Le,Y)=>{var X=Y(7371),ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ge=/\\(\\)?/g,ve=X(function(Se){var Ce=[];return 46===Se.charCodeAt(0)&&Ce.push(""),Se.replace(ce,function(Ue,tt,rt,ct){Ce.push(rt?ct.replace(ge,"$1"):tt||Ue)}),Ce});ue.exports=ve},8916:(ue,Le,Y)=>{var X=Y(3423);ue.exports=function ge(ve){if("string"==typeof ve||X(ve))return ve;var Se=ve+"";return"0"==Se&&1/ve==-1/0?"-0":Se}},7075:ue=>{var Y=Function.prototype.toString;ue.exports=function X(ce){if(null!=ce){try{return Y.call(ce)}catch{}try{return ce+""}catch{}}return""}},1781:ue=>{var Le=/\s/;ue.exports=function Y(X){for(var ce=X.length;ce--&&Le.test(X.charAt(ce)););return ce}},4430:(ue,Le,Y)=>{var X=Y(9794),ce=Y(5533),ge=Y(4282),Se=Math.max,Ce=Math.min;ue.exports=function Ue(tt,rt,ct){var Fn,Bt,gr,Qn,Dn,Kn,Xt=0,Oe=!1,Ye=!1,Je=!0;if("function"!=typeof tt)throw new TypeError("Expected a function");function pt(Pe){var sn=Fn,Jt=Bt;return Fn=Bt=void 0,Xt=Pe,Qn=tt.apply(Jt,sn)}function nn(Pe){var sn=Pe-Kn;return void 0===Kn||sn>=rt||sn<0||Ye&&Pe-Xt>=gr}function Ln(){var Pe=ce();if(nn(Pe))return Qr(Pe);Dn=setTimeout(Ln,function xt(Pe){var at=rt-(Pe-Kn);return Ye?Ce(at,gr-(Pe-Xt)):at}(Pe))}function Qr(Pe){return Dn=void 0,Je&&Fn?pt(Pe):(Fn=Bt=void 0,Qn)}function Yn(){var Pe=ce(),sn=nn(Pe);if(Fn=arguments,Bt=this,Kn=Pe,sn){if(void 0===Dn)return function Cn(Pe){return Xt=Pe,Dn=setTimeout(Ln,rt),Oe?pt(Pe):Qn}(Kn);if(Ye)return clearTimeout(Dn),Dn=setTimeout(Ln,rt),pt(Kn)}return void 0===Dn&&(Dn=setTimeout(Ln,rt)),Qn}return rt=ge(rt)||0,X(ct)&&(Oe=!!ct.leading,gr=(Ye="maxWait"in ct)?Se(ge(ct.maxWait)||0,rt):gr,Je="trailing"in ct?!!ct.trailing:Je),Yn.cancel=function Ri(){void 0!==Dn&&clearTimeout(Dn),Xt=0,Fn=Kn=Bt=Dn=void 0},Yn.flush=function mi(){return void 0===Dn?Qn:Qr(ce())},Yn}},7826:ue=>{ue.exports=function Le(Y,X){return Y===X||Y!=Y&&X!=X}},5440:(ue,Le,Y)=>{var X=Y(2202);ue.exports=function ce(ge,ve,Se){var Ce=null==ge?void 0:X(ge,ve);return void 0===Ce?Se:Ce}},2261:ue=>{ue.exports=Array.isArray},6861:(ue,Le,Y)=>{var X=Y(4590),ce=Y(9794);ue.exports=function Ue(tt){if(!ce(tt))return!1;var rt=X(tt);return"[object Function]"==rt||"[object GeneratorFunction]"==rt||"[object AsyncFunction]"==rt||"[object Proxy]"==rt}},9794:ue=>{ue.exports=function Le(Y){var X=typeof Y;return null!=Y&&("object"==X||"function"==X)}},3714:ue=>{ue.exports=function Le(Y){return null!=Y&&"object"==typeof Y}},3423:(ue,Le,Y)=>{var X=Y(4590),ce=Y(3714);ue.exports=function ve(Se){return"symbol"==typeof Se||ce(Se)&&"[object Symbol]"==X(Se)}},7659:(ue,Le,Y)=>{var X=Y(1811);function ge(ve,Se){if("function"!=typeof ve||null!=Se&&"function"!=typeof Se)throw new TypeError("Expected a function");var Ce=function(){var Ue=arguments,tt=Se?Se.apply(this,Ue):Ue[0],rt=Ce.cache;if(rt.has(tt))return rt.get(tt);var ct=ve.apply(this,Ue);return Ce.cache=rt.set(tt,ct)||rt,ct};return Ce.cache=new(ge.Cache||X),Ce}ge.Cache=X,ue.exports=ge},5533:(ue,Le,Y)=>{var X=Y(8492);ue.exports=function(){return X.Date.now()}},7939:(ue,Le,Y)=>{var X=Y(9478);ue.exports=function ce(ge,ve,Se){return null==ge?ge:X(ge,ve,Se)}},4282:(ue,Le,Y)=>{var X=Y(9484),ce=Y(9794),ge=Y(3423),Se=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Ue=/^0o[0-7]+$/i,tt=parseInt;ue.exports=function rt(ct){if("number"==typeof ct)return ct;if(ge(ct))return NaN;if(ce(ct)){var Fn="function"==typeof ct.valueOf?ct.valueOf():ct;ct=ce(Fn)?Fn+"":Fn}if("string"!=typeof ct)return 0===ct?ct:+ct;ct=X(ct);var Bt=Ce.test(ct);return Bt||Ue.test(ct)?tt(ct.slice(2),Bt?2:8):Se.test(ct)?NaN:+ct}},9078:(ue,Le,Y)=>{var X=Y(3880),ce=Y(4231),ge=Y(2261),ve=Y(3423),Se=Y(163),Ce=Y(8916),Ue=Y(2674);ue.exports=function tt(rt){return ge(rt)?X(rt,Ce):ve(rt)?[rt]:ce(Se(Ue(rt)))}},2674:(ue,Le,Y)=>{var X=Y(7002);ue.exports=function ce(ge){return null==ge?"":X(ge)}}},ue=>{ue(ue.s=2103)}]);